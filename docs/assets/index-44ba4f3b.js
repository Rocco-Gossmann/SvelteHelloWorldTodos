var Kt=Object.defineProperty;var Yt=(t,e,n)=>e in t?Kt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var P=(t,e,n)=>(Yt(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const s of c.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(i){if(i.ep)return;i.ep=!0;const c=n(i);fetch(i.href,c)}})();function R(){}const Re=t=>t;function Qe(t,e){for(const n in e)t[n]=e[n];return t}function vt(t){return t()}function Xe(){return Object.create(null)}function V(t){t.forEach(vt)}function ie(t){return typeof t=="function"}function z(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Gt(t){return Object.keys(t).length===0}function Ge(t,...e){if(t==null)return R;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function te(t,e,n){t.$$.on_destroy.push(Ge(e,n))}function Ze(t){return t??""}function fe(t,e,n){return t.set(n),e}const kt=typeof window<"u";let Ae=kt?()=>window.performance.now():()=>Date.now(),Ve=kt?t=>requestAnimationFrame(t):R;const _e=new Set;function wt(t){_e.forEach(e=>{e.c(t)||(_e.delete(e),e.f())}),_e.size!==0&&Ve(wt)}function Me(t){let e;return _e.size===0&&Ve(wt),{promise:new Promise(n=>{_e.add(e={c:t,f:n})}),abort(){_e.delete(e)}}}function E(t,e){t.appendChild(e)}function $t(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Vt(t){const e=$("style");return zt($t(t),e),e.sheet}function zt(t,e){return E(t.head||t,e),e.sheet}function w(t,e,n){t.insertBefore(e,n||null)}function v(t){t.parentNode&&t.parentNode.removeChild(t)}function ze(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function $(t){return document.createElement(t)}function le(t){return document.createTextNode(t)}function A(){return le(" ")}function se(){return le("")}function L(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function x(t){return function(e){return e.preventDefault(),t.call(this,e)}}function b(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Wt(t){return Array.from(t.childNodes)}function Ie(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function he(t,e){t.value=e??""}function me(t,e,n){t.classList[n?"add":"remove"](e)}function Tt(t,e,{bubbles:n=!1,cancelable:o=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,o,e),i}const Oe=new Map;let Ce=0;function Ht(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Ut(t,e){const n={stylesheet:Vt(e),rules:{}};return Oe.set(t,n),n}function ve(t,e,n,o,i,c,s,l=0){const r=16.666/o;let a=`{
`;for(let u=0;u<=1;u+=r){const d=e+(n-e)*c(u);a+=u*100+`%{${s(d,1-d)}}
`}const g=a+`100% {${s(n,1-n)}}
}`,p=`__svelte_${Ht(g)}_${l}`,m=$t(t),{stylesheet:h,rules:f}=Oe.get(m)||Ut(m,t);f[p]||(f[p]=!0,h.insertRule(`@keyframes ${p} ${g}`,h.cssRules.length));const _=t.style.animation||"";return t.style.animation=`${_?`${_}, `:""}${p} ${o}ms linear ${i}ms 1 both`,Ce+=1,p}function ke(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?c=>c.indexOf(e)<0:c=>c.indexOf("__svelte")===-1),i=n.length-o.length;i&&(t.style.animation=o.join(", "),Ce-=i,Ce||Jt())}function Jt(){Ve(()=>{Ce||(Oe.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&v(e)}),Oe.clear())})}function St(t,e,n,o){if(!e)return R;const i=t.getBoundingClientRect();if(e.left===i.left&&e.right===i.right&&e.top===i.top&&e.bottom===i.bottom)return R;const{delay:c=0,duration:s=300,easing:l=Re,start:r=Ae()+c,end:a=r+s,tick:g=R,css:p}=n(t,{from:e,to:i},o);let m=!0,h=!1,f;function _(){p&&(f=ve(t,0,1,s,c,l,p)),c||(h=!0)}function u(){p&&ke(t,f),m=!1}return Me(d=>{if(!h&&d>=r&&(h=!0),h&&d>=a&&(g(1,0),u()),!m)return!1;if(h){const T=d-r,S=0+1*l(T/s);g(S,1-S)}return!0}),_(),g(0,1),u}function Et(t){const e=getComputedStyle(t);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:n,height:o}=e,i=t.getBoundingClientRect();t.style.position="absolute",t.style.width=n,t.style.height=o,We(t,i)}}function We(t,e){const n=t.getBoundingClientRect();if(e.left!==n.left||e.top!==n.top){const o=getComputedStyle(t),i=o.transform==="none"?"":o.transform;t.style.transform=`${i} translate(${e.left-n.left}px, ${e.top-n.top}px)`}}let we;function ye(t){we=t}function xt(){if(!we)throw new Error("Function called outside component initialization");return we}function Ot(){const t=xt();return(e,n,{cancelable:o=!1}={})=>{const i=t.$$.callbacks[e];if(i){const c=Tt(e,n,{cancelable:o});return i.slice().forEach(s=>{s.call(t,c)}),!c.defaultPrevented}return!0}}const ue=[],Be=[];let ge=[];const Fe=[],Qt=Promise.resolve();let De=!1;function Xt(){De||(De=!0,Qt.then(Ct))}function K(t){ge.push(t)}function Zt(t){Fe.push(t)}const Pe=new Set;let ce=0;function Ct(){if(ce!==0)return;const t=we;do{try{for(;ce<ue.length;){const e=ue[ce];ce++,ye(e),en(e.$$)}}catch(e){throw ue.length=0,ce=0,e}for(ye(null),ue.length=0,ce=0;Be.length;)Be.pop()();for(let e=0;e<ge.length;e+=1){const n=ge[e];Pe.has(n)||(Pe.add(n),n())}ge.length=0}while(ue.length);for(;Fe.length;)Fe.pop()();De=!1,Pe.clear(),ye(t)}function en(t){if(t.fragment!==null){t.update(),V(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(K)}}function tn(t){const e=[],n=[];ge.forEach(o=>t.indexOf(o)===-1?e.push(o):n.push(o)),n.forEach(o=>o()),ge=e}let be;function He(){return be||(be=Promise.resolve(),be.then(()=>{be=null})),be}function oe(t,e,n){t.dispatchEvent(Tt(`${e?"intro":"outro"}${n}`))}const Te=new Set;let J;function Y(){J={r:0,c:[],p:J}}function G(){J.r||V(J.c),J=J.p}function k(t,e){t&&t.i&&(Te.delete(t),t.i(e))}function O(t,e,n,o){if(t&&t.o){if(Te.has(t))return;Te.add(t),J.c.push(()=>{Te.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}const Ue={duration:0};function jt(t,e,n){const o={direction:"in"};let i=e(t,n,o),c=!1,s,l,r=0;function a(){s&&ke(t,s)}function g(){const{delay:m=0,duration:h=300,easing:f=Re,tick:_=R,css:u}=i||Ue;u&&(s=ve(t,0,1,h,m,f,u,r++)),_(0,1);const d=Ae()+m,T=d+h;l&&l.abort(),c=!0,K(()=>oe(t,!0,"start")),l=Me(S=>{if(c){if(S>=T)return _(1,0),oe(t,!0,"end"),a(),c=!1;if(S>=d){const y=f((S-d)/h);_(y,1-y)}}return c})}let p=!1;return{start(){p||(p=!0,ke(t),ie(i)?(i=i(o),He().then(g)):g())},invalidate(){p=!1},end(){c&&(a(),c=!1)}}}function Nt(t,e,n){const o={direction:"out"};let i=e(t,n,o),c=!0,s;const l=J;l.r+=1;function r(){const{delay:a=0,duration:g=300,easing:p=Re,tick:m=R,css:h}=i||Ue;h&&(s=ve(t,1,0,g,a,p,h));const f=Ae()+a,_=f+g;K(()=>oe(t,!1,"start")),Me(u=>{if(c){if(u>=_)return m(0,1),oe(t,!1,"end"),--l.r||V(l.c),!1;if(u>=f){const d=p((u-f)/g);m(1-d,d)}}return c})}return ie(i)?He().then(()=>{i=i(o),r()}):r(),{end(a){a&&i.tick&&i.tick(1,0),c&&(s&&ke(t,s),c=!1)}}}function ne(t,e,n,o){const i={direction:"both"};let c=e(t,n,i),s=o?0:1,l=null,r=null,a=null;function g(){a&&ke(t,a)}function p(h,f){const _=h.b-s;return f*=Math.abs(_),{a:s,b:h.b,d:_,duration:f,start:h.start,end:h.start+f,group:h.group}}function m(h){const{delay:f=0,duration:_=300,easing:u=Re,tick:d=R,css:T}=c||Ue,S={start:Ae()+f,b:h};h||(S.group=J,J.r+=1),l||r?r=S:(T&&(g(),a=ve(t,s,h,_,f,u,T)),h&&d(0,1),l=p(S,_),K(()=>oe(t,h,"start")),Me(y=>{if(r&&y>r.start&&(l=p(r,_),r=null,oe(t,l.b,"start"),T&&(g(),a=ve(t,s,l.b,l.duration,0,u,c.css))),l){if(y>=l.end)d(s=l.b,1-s),oe(t,l.b,"end"),r||(l.b?g():--l.group.r||V(l.group.c)),l=null;else if(y>=l.start){const C=y-l.start;s=l.a+l.d*u(C/l.duration),d(s,1-s)}}return!!(l||r)}))}return{run(h){ie(c)?He().then(()=>{c=c(i),m(h)}):m(h)},end(){g(),l=r=null}}}function Rt(t,e){O(t,1,1,()=>{e.delete(t.key)})}function et(t,e){t.f(),Rt(t,e)}function qe(t,e,n,o,i,c,s,l,r,a,g,p){let m=t.length,h=c.length,f=m;const _={};for(;f--;)_[t[f].key]=f;const u=[],d=new Map,T=new Map,S=[];for(f=h;f--;){const N=p(i,c,f),I=n(N);let M=s.get(I);M?o&&S.push(()=>M.p(N,e)):(M=a(I,N),M.c()),d.set(I,u[f]=M),I in _&&T.set(I,Math.abs(f-_[I]))}const y=new Set,C=new Set;function j(N){k(N,1),N.m(l,g),s.set(N.key,N),g=N.first,h--}for(;m&&h;){const N=u[h-1],I=t[m-1],M=N.key,U=I.key;N===I?(g=N.first,m--,h--):d.has(U)?!s.has(M)||y.has(M)?j(N):C.has(U)?m--:T.get(M)>T.get(U)?(C.add(M),j(N)):(y.add(U),m--):(r(I,s),m--)}for(;m--;){const N=t[m];d.has(N.key)||r(N,s)}for(;h;)j(u[h-1]);return V(S),u}function nn(t,e,n){const o=t.$$.props[e];o!==void 0&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function D(t){t&&t.c()}function B(t,e,n,o){const{fragment:i,after_update:c}=t.$$;i&&i.m(e,n),o||K(()=>{const s=t.$$.on_mount.map(vt).filter(ie);t.$$.on_destroy?t.$$.on_destroy.push(...s):V(s),t.$$.on_mount=[]}),c.forEach(K)}function F(t,e){const n=t.$$;n.fragment!==null&&(tn(n.after_update),V(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function on(t,e){t.$$.dirty[0]===-1&&(ue.push(t),Xt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function W(t,e,n,o,i,c,s,l=[-1]){const r=we;ye(t);const a=t.$$={fragment:null,ctx:[],props:c,update:R,not_equal:i,bound:Xe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(r?r.$$.context:[])),callbacks:Xe(),dirty:l,skip_bound:!1,root:e.target||r.$$.root};s&&s(a.root);let g=!1;if(a.ctx=n?n(t,e.props||{},(p,m,...h)=>{const f=h.length?h[0]:m;return a.ctx&&i(a.ctx[p],a.ctx[p]=f)&&(!a.skip_bound&&a.bound[p]&&a.bound[p](f),g&&on(t,p)),m}):[],a.update(),g=!0,V(a.before_update),a.fragment=o?o(a.ctx):!1,e.target){if(e.hydrate){const p=Wt(e.target);a.fragment&&a.fragment.l(p),p.forEach(v)}else a.fragment&&a.fragment.c();e.intro&&k(t.$$.fragment),B(t,e.target,e.anchor,e.customElement),Ct()}ye(r)}class H{$destroy(){F(this,1),this.$destroy=R}$on(e,n){if(!ie(n))return R;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const i=o.indexOf(n);i!==-1&&o.splice(i,1)}}$set(e){this.$$set&&!Gt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}window.addEventListener("load",()=>{const t=document.createElement("div");t.style.overflow="scroll",document.body.appendChild(t);const e=document.createElement("div");t.appendChild(e);const n=t.offsetWidth-e.offsetWidth;console.log("Scrollbars",n),t.parentNode.removeChild(t);const o=document.querySelector(".noscrollbars");o&&o.style.setProperty("--scrollbarwidth",n+"px")});function ln(t){let e,n;return{c(){e=$("option"),e.__value=n=t[1].value,e.value=e.__value},m(o,i){w(o,e,i)},p(o,[i]){i&2&&n!==(n=o[1].value)&&(e.__value=n,e.value=e.__value)},i:R,o:R,d(o){o&&v(e)}}}function sn(t,e,n){let o,i=R,c=()=>(i(),i=Ge(s,l=>n(1,o=l)),s);t.$$.on_destroy.push(()=>i());let{tagstore:s}=e;return c(),t.$$set=l=>{"tagstore"in l&&c(n(0,s=l.tagstore))},[s,o]}class rn extends H{constructor(e){super(),W(this,e,sn,ln,z,{tagstore:0})}}const re=new Promise((t,e)=>{if(window!=null&&window.Dexie){const n=new window.Dexie("helloworldtodos",{});n.version(2).stores({tags:"&key",todos:"++id,*tags"}),t(n)}else e(new Error("Dexie is not loaded in window"))}),ae=[];function Le(t,e=R){let n;const o=new Set;function i(l){if(z(t,l)&&(t=l,n)){const r=!ae.length;for(const a of o)a[1](),ae.push(a,t);if(r){for(let a=0;a<ae.length;a+=2)ae[a][0](ae[a+1]);ae.length=0}}}function c(l){i(l(t))}function s(l,r=R){const a=[l,r];return o.add(a),o.size===1&&(n=e(i)||R),l(t),()=>{o.delete(a),o.size===0&&n&&(n(),n=null)}}return{set:i,update:c,subscribe:s}}class cn{constructor(e,n){P(this,"_obj");P(this,"subscribe");P(this,"parset");const{subscribe:o,set:i}=Le(e,n);this.subscribe=o,this.parset=i,this._obj=e}set(e){this._obj=e,this.parset(e)}get object(){return this._obj}set object(e){this.set(e)}update(e){const n=e(this._obj);this.set(n)}}class q extends Error{}P(q,"EMPTY_TAG_KEY","the given value resulted in an empty tag-key"),P(q,"NO_TAG_FOR_KEY","a tag for the given Key or Value does not exist in the Database"),P(q,"INVALID_CONSTRUCT","construct must be provided with either 'key' or 'value'");class At{constructor(e){P(this,"key");P(this,"value");P(this,"color");if(e.value&&e.key)this.value=e.value,this.key=Se(e.key);else if(e.key)this.value=e.key,this.key=Se(e.key);else if(e.value)this.value=e.value,this.key=Se(e.value);else throw new q(q.INVALID_CONSTRUCT);if(this.color=e.color||"#73828c",this.key=="")throw new q(q.EMPTY_TAG_KEY)}async drop(){const e=await re;await e.tags.delete(this.key);const n=[];console.log(await e.todos.where("tags").equals(this.key).each(o=>{o.tags=o.tags.filter(i=>i!=this.key),n.push(o)})),await e.todos.bulkPut(n),Ne.refresh()}insert(){return It().then(e=>e.put(this)).then(()=>Ne.refresh())}}class an extends cn{constructor(e){super(e,()=>(je.set(e.key,this),()=>je.delete(e.key)))}notifiySubscribers(){this.set(this.object)}}const je=new Map;function Je(t){const e=new At(t);return je.has(e.key)?je.get(e.key):new an(e)}function Mt(t){return re.then(e=>e.tags.where("key").equals(t).first()).then(e=>{if(e)return Je(e);throw console.log(t),new q(q.NO_TAG_FOR_KEY)})}function un(t){return Mt(Se(t))}class fn{constructor(){P(this,"subs",new Set)}subscribe(e){return console.log("new sub",e),this.subs.add(e),e([]),this._dat().then(e),()=>{console.log("unsub",e),this.subs.delete(e)}}async refresh(){const e=await this._dat();this.subs.forEach(n=>n(e))}_dat(){return It().then(e=>e.toArray()).then(e=>e.map(n=>Je(n)))}}const Ne=new fn,pe={getTagStore:Je,tagsstore:Ne,findByKey:Mt,findByValue:un};async function It(){return(await re).tags}function Se(t){return(t||"").trim().toLowerCase()}function tt(t,e,n){const o=t.slice();return o[1]=e[n],o}function nt(t){let e,n;return e=new rn({props:{tagstore:t[1]}}),{c(){D(e.$$.fragment)},m(o,i){B(e,o,i),n=!0},p(o,i){const c={};i&1&&(c.tagstore=o[1]),e.$set(c)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){O(e.$$.fragment,o),n=!1},d(o){F(e,o)}}}function dn(t){let e,n,o=t[0],i=[];for(let s=0;s<o.length;s+=1)i[s]=nt(tt(t,o,s));const c=s=>O(i[s],1,1,()=>{i[s]=null});return{c(){e=$("datalist");for(let s=0;s<i.length;s+=1)i[s].c();b(e,"id","available_tags")},m(s,l){w(s,e,l);for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(e,null);n=!0},p(s,[l]){if(l&1){o=s[0];let r;for(r=0;r<o.length;r+=1){const a=tt(s,o,r);i[r]?(i[r].p(a,l),k(i[r],1)):(i[r]=nt(a),i[r].c(),k(i[r],1),i[r].m(e,null))}for(Y(),r=o.length;r<i.length;r+=1)c(r);G()}},i(s){if(!n){for(let l=0;l<o.length;l+=1)k(i[l]);n=!0}},o(s){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)O(i[l]);n=!1},d(s){s&&v(e),ze(i,s)}}}function _n(t,e,n){let o;return te(t,Ne,i=>n(0,o=i)),[o]}class gn extends H{constructor(e){super(),W(this,e,_n,dn,z,{})}}function xe(t){const e=t-1;return e*e*e+1}function pn(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(t);i<o.length;i++)e.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(t,o[i])&&(n[o[i]]=t[o[i]]);return n}function X(t,{delay:e=0,duration:n=400,easing:o=xe,axis:i="y"}={}){const c=getComputedStyle(t),s=+c.opacity,l=i==="y"?"height":"width",r=parseFloat(c[l]),a=i==="y"?["top","bottom"]:["left","right"],g=a.map(d=>`${d[0].toUpperCase()}${d.slice(1)}`),p=parseFloat(c[`padding${g[0]}`]),m=parseFloat(c[`padding${g[1]}`]),h=parseFloat(c[`margin${g[0]}`]),f=parseFloat(c[`margin${g[1]}`]),_=parseFloat(c[`border${g[0]}Width`]),u=parseFloat(c[`border${g[1]}Width`]);return{delay:e,duration:n,easing:o,css:d=>`overflow: hidden;opacity: ${Math.min(d*20,1)*s};${l}: ${d*r}px;padding-${a[0]}: ${d*p}px;padding-${a[1]}: ${d*m}px;margin-${a[0]}: ${d*h}px;margin-${a[1]}: ${d*f}px;border-${a[0]}-width: ${d*_}px;border-${a[1]}-width: ${d*u}px;`}}function hn(t){var{fallback:e}=t,n=pn(t,["fallback"]);const o=new Map,i=new Map;function c(l,r,a){const{delay:g=0,duration:p=N=>Math.sqrt(N)*30,easing:m=xe}=Qe(Qe({},n),a),h=l.getBoundingClientRect(),f=r.getBoundingClientRect(),_=h.left-f.left,u=h.top-f.top,d=h.width/f.width,T=h.height/f.height,S=Math.sqrt(_*_+u*u),y=getComputedStyle(r),C=y.transform==="none"?"":y.transform,j=+y.opacity;return{delay:g,duration:ie(p)?p(S):p,easing:m,css:(N,I)=>`
				opacity: ${N*j};
				transform-origin: top left;
				transform: ${C} translate(${I*_}px,${I*u}px) scale(${N+(1-N)*d}, ${N+(1-N)*T});
			`}}function s(l,r,a){return(g,p)=>(l.set(p.key,g),()=>{if(r.has(p.key)){const m=r.get(p.key);return r.delete(p.key),c(m,g,p)}return l.delete(p.key),e&&e(g,p,a)})}return[s(i,o,!1),s(o,i,!0)]}function ot(t,e,n){const o=t.slice();return o[3]=e[n],o}function it(t,e){let n,o=e[3].msg+"",i,c,s,l,r;return{key:t,first:null,c(){n=$("article"),i=le(o),c=A(),b(n,"class",s=Ze(e[3].cssClass)+" svelte-lwkk25"),this.first=n},m(a,g){w(a,n,g),E(n,i),E(n,c),r=!0},p(a,g){e=a,(!r||g&1)&&o!==(o=e[3].msg+"")&&Ie(i,o),(!r||g&1&&s!==(s=Ze(e[3].cssClass)+" svelte-lwkk25"))&&b(n,"class",s)},i(a){r||(K(()=>{l||(l=ne(n,X,{duration:250},!0)),l.run(1)}),r=!0)},o(a){l||(l=ne(n,X,{duration:250},!1)),l.run(0),r=!1},d(a){a&&v(n),a&&l&&l.end()}}}function mn(t){let e,n=[],o=new Map,i,c=t[0];const s=l=>l[3].id;for(let l=0;l<c.length;l+=1){let r=ot(t,c,l),a=s(r);o.set(a,n[l]=it(a,r))}return{c(){e=$("div");for(let l=0;l<n.length;l+=1)n[l].c();b(e,"class","toastcontainer svelte-lwkk25")},m(l,r){w(l,e,r);for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(e,null);i=!0},p(l,[r]){r&1&&(c=l[0],Y(),n=qe(n,r,s,1,l,c,o,e,Rt,it,null,ot),G())},i(l){if(!i){for(let r=0;r<c.length;r+=1)k(n[r]);i=!0}},o(l){for(let r=0;r<n.length;r+=1)O(n[r]);i=!1},d(l){l&&v(e);for(let r=0;r<n.length;r+=1)n[r].d()}}}let bn=1;const Ke=Le([]);function ee(t,e,n=4){Ke.update(o=>(o.push({id:bn++,msg:t,cssClass:e,timeout:n*10}),o))}function yn(t,e,n){let o;te(t,Ke,s=>n(0,o=s));let i;function c(){!i&&o.length&&(i=window.setTimeout(()=>{o.forEach(s=>s.timeout--),fe(Ke,o=o.filter(s=>s.timeout>0),o),i=void 0,c()},100))}return t.$$.update=()=>{t.$$.dirty&1&&o.length&&c()},[o]}class vn extends H{constructor(e){super(),W(this,e,yn,mn,z,{})}}function lt(t){let e,n,o,i,c,s,l,r,a,g,p,m,h,f,_,u,d,T,S,y,C,j,N,I;return{c(){e=$("section"),n=$("label"),n.textContent="Key:",o=A(),i=$("input"),s=A(),l=$("button"),r=A(),a=$("label"),a.textContent="Value:",g=A(),p=$("input"),h=A(),f=$("label"),f.textContent="Color:",_=A(),u=$("input"),d=A(),T=$("button"),T.textContent="close",S=A(),y=$("button"),y.textContent="save",b(n,"for","tagedit_key_input"),b(i,"id","tagedit_key_input"),b(i,"type","text"),i.value=c=t[0].object.key,i.disabled=!0,b(l,"class","fa fa-trash-can"),b(l,"title","delete"),b(a,"for","tagedit_value_input"),b(p,"id","tagedit_value_input"),b(p,"type","text"),p.value=m=t[0].object.value,p.disabled=!0,b(p,"class","svelte-1hd6fid"),b(f,"for","tagedit_value_input"),b(u,"id","tagedit_value_input"),b(u,"type","color"),b(u,"class","svelte-1hd6fid"),b(T,"id","tagedit_close_btn"),b(y,"id","tagedit_save_btn"),b(y,"class","svelte-1hd6fid"),b(e,"class","svelte-1hd6fid")},m(M,U){w(M,e,U),E(e,n),E(e,o),E(e,i),E(e,s),E(e,l),E(e,r),E(e,a),E(e,g),E(e,p),E(e,h),E(e,f),E(e,_),E(e,u),he(u,t[0].object.color),E(e,d),E(e,T),E(e,S),E(e,y),j=!0,N||(I=[L(l,"click",x(t[3])),L(u,"input",t[4]),L(T,"click",x(t[5])),L(y,"click",x(t[2]))],N=!0)},p(M,U){(!j||U&1&&c!==(c=M[0].object.key)&&i.value!==c)&&(i.value=c),(!j||U&1&&m!==(m=M[0].object.value)&&p.value!==m)&&(p.value=m),U&1&&he(u,M[0].object.color)},i(M){j||(K(()=>{C||(C=ne(e,X,{},!0)),C.run(1)}),j=!0)},o(M){C||(C=ne(e,X,{},!1)),C.run(0),j=!1},d(M){M&&v(e),M&&C&&C.end(),N=!1,V(I)}}}function kn(t){let e,n,o=t[0]&&lt(t);return{c(){o&&o.c(),e=se()},m(i,c){o&&o.m(i,c),w(i,e,c),n=!0},p(i,[c]){i[0]?o?(o.p(i,c),c&1&&k(o,1)):(o=lt(i),o.c(),k(o,1),o.m(e.parentNode,e)):o&&(Y(),O(o,1,1,()=>{o=null}),G())},i(i){n||(k(o),n=!0)},o(i){O(o),n=!1},d(i){o&&o.d(i),i&&v(e)}}}let Q=Le();function wn(t,e,n){let o,i=R,c;te(t,Q,p=>n(0,o=p)),te(t,Z,p=>n(6,c=p)),t.$$.on_destroy.push(()=>i());const s=async()=>{confirm("deleting the tag here, will remove it from all Todos too. This step can not be undone! Continue?")&&o&&(await o.object.drop(),fe(Z,c=c.filter(p=>p!=o.object.key),c),fe(Q,o=void 0,o),ee("tag removed","info",2))},l=async()=>{await o.object.insert(),o.notifiySubscribers(),fe(Q,o=void 0,o),ee("changes saved","success",2)},r=()=>s();function a(){o.object.color=this.value,Q.set(o)}return[o,s,l,r,a,()=>fe(Q,o=void 0,o)]}class $n extends H{constructor(e){super(),W(this,e,wn,kn,z,{})}}function Tn(t){return typeof t=="object"}function Ye(t){return t instanceof Array}function st(t){let e,n,o;function i(r,a){return r[1]?En:Sn}let c=i(t),s=c(t),l=!t[0]&&rt(t);return{c(){e=$("span"),s.c(),n=A(),l&&l.c(),b(e,"class","tag svelte-1sddn24"),b(e,"style",o=`--tagcolor: ${t[3].color}`)},m(r,a){w(r,e,a),s.m(e,null),E(e,n),l&&l.m(e,null)},p(r,a){c===(c=i(r))&&s?s.p(r,a):(s.d(1),s=c(r),s&&(s.c(),s.m(e,n))),r[0]?l&&(l.d(1),l=null):l?l.p(r,a):(l=rt(r),l.c(),l.m(e,null)),a&8&&o!==(o=`--tagcolor: ${r[3].color}`)&&b(e,"style",o)},d(r){r&&v(e),s.d(),l&&l.d()}}}function Sn(t){let e,n=t[3].value+"",o,i,c;return{c(){e=$("a"),o=le(n),b(e,"href","#"),b(e,"class","svelte-1sddn24")},m(s,l){w(s,e,l),E(e,o),i||(c=L(e,"click",x(t[9])),i=!0)},p(s,l){l&8&&n!==(n=s[3].value+"")&&Ie(o,n)},d(s){s&&v(e),i=!1,c()}}}function En(t){let e=t[3].value+"",n;return{c(){n=le(e)},m(o,i){w(o,n,i)},p(o,i){i&8&&e!==(e=o[3].value+"")&&Ie(n,e)},d(o){o&&v(n)}}}function rt(t){let e,n,o;return{c(){e=$("a"),e.textContent=" ",b(e,"href","#"),b(e,"class","fa fa-times svelte-1sddn24")},m(i,c){w(i,e,c),n||(o=L(e,"click",x(t[10])),n=!0)},p:R,d(i){i&&v(e),n=!1,o()}}}function On(t){let e,n=t[2]&&st(t);return{c(){n&&n.c(),e=se()},m(o,i){n&&n.m(o,i),w(o,e,i)},p(o,[i]){o[2]?n?n.p(o,i):(n=st(o),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:R,o:R,d(o){n&&n.d(o),o&&v(e)}}}function Cn(t,e,n){let o,i=R,c=()=>(i(),i=Ge(m,u=>n(3,o=u)),m);t.$$.on_destroy.push(()=>i());let{tagstore:s=void 0}=e,{tag:l=void 0}=e,{value:r=""}=e,{key:a=""}=e,{noremove:g=!1}=e,{noclick:p=!1}=e,m;const h=Ot(),f=()=>h("click",m),_=()=>h("remove",m);return t.$$set=u=>{"tagstore"in u&&n(5,s=u.tagstore),"tag"in u&&n(6,l=u.tag),"value"in u&&n(7,r=u.value),"key"in u&&n(8,a=u.key),"noremove"in u&&n(0,g=u.noremove),"noclick"in u&&n(1,p=u.noclick)},t.$$.update=()=>{if(t.$$.dirty&480){if(s)c(n(2,m=s));else if(l)c(n(2,m=pe.getTagStore(l)));else if(a)try{pe.findByKey(a).then(u=>c(n(2,m=u)))}catch(u){console.error(u),c(n(2,m=void 0))}else if(r)try{pe.findByValue(r).then(u=>c(n(2,m=u)))}catch(u){console.error(u),c(n(2,m=void 0))}}},[g,p,m,o,h,s,l,r,a,f,_]}class Lt extends H{constructor(e){super(),W(this,e,Cn,On,z,{tagstore:5,tag:6,value:7,key:8,noremove:0,noclick:1})}}class jn{constructor(){P(this,"subs",new Set);P(this,"subscribe",e=>(e([]),(async()=>e(await this._dat()||[]))(),this.subs.add(e),()=>{this.subs.delete(e)}));P(this,"_dat",()=>re.then(e=>Ee.length?e.todos.where("tags").anyOf(Ee).distinct().filter(n=>Ee.reduce((i,c,s)=>i&&n.tags.indexOf(c)!=-1,!0)).toArray():e.todos.toArray()))}async refresh(){const e=await this._dat()||[];this.subs.forEach(n=>n(e))}}function Nn(t){return Tn(t)&&typeof t.description=="string"&&typeof t.done=="boolean"}const $e=new jn;let Ee=[];async function Rn(t,e=!0){t.tags&&(t.tags=t.tags.filter(n=>typeof n=="string")),await(await re).table("todos").put(t),e&&await $e.refresh()}async function An(t,e=!0){await(await re).table("todos").delete(t.id),e&&await $e.refresh()}async function Mn(t,e=!0){Ee=t,e&&await $e.refresh()}const de={todos:$e,set:Rn,remove:An,filter:Mn};if(localStorage){const t="rawTodos";let e;try{e=JSON.parse(localStorage.getItem(t))}catch(n){localStorage.removeItem(t),console.error("Error while initializing Todos: ",n)}Ye(e)&&(e=e.filter(Nn),e.length&&re.then(n=>n.table("todos").bulkPut(e)).then(()=>{localStorage.removeItem(t)}))}function ct(t){let e,n,o,i,c,s,l,r;return{c(){e=$("form"),n=$("input"),o=A(),i=$("button"),b(n,"type","text"),b(n,"list","available_tags"),b(n,"autocomplete",""),b(i,"type","submit"),b(i,"class","fa fa-plus-circle svelte-1jqn6dg"),b(e,"class","taginput svelte-1jqn6dg"),me(e,"open",t[1])},m(a,g){w(a,e,g),E(e,n),he(n,t[0]),E(e,o),E(e,i),s=!0,l||(r=[L(n,"input",t[4]),L(e,"submit",x(t[2]))],l=!0)},p(a,g){g&1&&n.value!==a[0]&&he(n,a[0]),(!s||g&2)&&me(e,"open",a[1])},i(a){s||(K(()=>{c||(c=ne(e,X,{},!0)),c.run(1)}),s=!0)},o(a){c||(c=ne(e,X,{},!1)),c.run(0),s=!1},d(a){a&&v(e),a&&c&&c.end(),l=!1,V(r)}}}function In(t){let e,n,o=t[1]&&ct(t);return{c(){o&&o.c(),e=se()},m(i,c){o&&o.m(i,c),w(i,e,c),n=!0},p(i,[c]){i[1]?o?(o.p(i,c),c&2&&k(o,1)):(o=ct(i),o.c(),k(o,1),o.m(e.parentNode,e)):o&&(Y(),O(o,1,1,()=>{o=null}),G())},i(i){n||(k(o),n=!0)},o(i){O(o),n=!1},d(i){o&&o.d(i),i&&v(e)}}}function Ln(t,e,n){const o=Ot();let{visible:i=!0}=e,{value:c=""}=e,{noautocreate:s=!1}=e,l;const r=async()=>{try{l=await pe.findByValue(c)}catch(g){if(g instanceof q&&g.message==q.NO_TAG_FOR_KEY)try{if(s){ee("tag is unknown","alert",2);return}else{const p=new At({value:c});await p.insert(),l=pe.getTagStore(p)}}catch(p){p instanceof q&&p.message==q.EMPTY_TAG_KEY?ee("can't submit an empty Tag","alert",2):(console.error(p),ee("ERROR: see console","alert",2));return}else{console.error(g),ee("ERROR: see console","alert",2);return}}o("submit",l)};function a(){c=this.value,n(0,c)}return t.$$set=g=>{"visible"in g&&n(1,i=g.visible),"value"in g&&n(0,c=g.value),"noautocreate"in g&&n(3,s=g.noautocreate)},[c,i,r,s,a]}class Pt extends H{constructor(e){super(),W(this,e,Ln,In,z,{visible:1,value:0,noautocreate:3})}}function at(t,e,n){const o=t.slice();return o[10]=e[n],o}function ut(t){let e,n,o,i,c,s,l,r,a,g;function p(u){t[7](u)}let m={};t[1]!==void 0&&(m.value=t[1]),e=new Pt({props:m}),Be.push(()=>nn(e,"value",p)),e.$on("submit",t[4]),i=new $n({});const h=[Bn,Pn],f=[];function _(u,d){return u[0].length?0:1}return l=_(t),r=f[l]=h[l](t),{c(){D(e.$$.fragment),o=A(),D(i.$$.fragment),c=A(),s=$("section"),r.c(),b(s,"class","taglist svelte-n6f67g"),me(s,"open",t[2])},m(u,d){B(e,u,d),w(u,o,d),B(i,u,d),w(u,c,d),w(u,s,d),f[l].m(s,null),g=!0},p(u,d){const T={};!n&&d&2&&(n=!0,T.value=u[1],Zt(()=>n=!1)),e.$set(T);let S=l;l=_(u),l===S?f[l].p(u,d):(Y(),O(f[S],1,1,()=>{f[S]=null}),G(),r=f[l],r?r.p(u,d):(r=f[l]=h[l](u),r.c()),k(r,1),r.m(s,null)),(!g||d&4)&&me(s,"open",u[2])},i(u){g||(k(e.$$.fragment,u),k(i.$$.fragment,u),k(r),u&&K(()=>{a||(a=ne(s,X,{},!0)),a.run(1)}),g=!0)},o(u){O(e.$$.fragment,u),O(i.$$.fragment,u),O(r),u&&(a||(a=ne(s,X,{},!1)),a.run(0)),g=!1},d(u){F(e,u),u&&v(o),F(i,u),u&&v(c),u&&v(s),f[l].d(),u&&a&&a.end()}}}function Pn(t){let e;return{c(){e=le("No Tags yet")},m(n,o){w(n,e,o)},p:R,i:R,o:R,d(n){n&&v(e)}}}function Bn(t){let e,n,o=t[0],i=[];for(let s=0;s<o.length;s+=1)i[s]=ft(at(t,o,s));const c=s=>O(i[s],1,1,()=>{i[s]=null});return{c(){for(let s=0;s<i.length;s+=1)i[s].c();e=se()},m(s,l){for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(s,l);w(s,e,l),n=!0},p(s,l){if(l&41){o=s[0];let r;for(r=0;r<o.length;r+=1){const a=at(s,o,r);i[r]?(i[r].p(a,l),k(i[r],1)):(i[r]=ft(a),i[r].c(),k(i[r],1),i[r].m(e.parentNode,e))}for(Y(),r=o.length;r<i.length;r+=1)c(r);G()}},i(s){if(!n){for(let l=0;l<o.length;l+=1)k(i[l]);n=!0}},o(s){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)O(i[l]);n=!1},d(s){ze(i,s),s&&v(e)}}}function ft(t){let e,n;return e=new Lt({props:{key:t[10]}}),e.$on("remove",t[8]),e.$on("click",t[9]),{c(){D(e.$$.fragment)},m(o,i){B(e,o,i),n=!0},p(o,i){const c={};i&1&&(c.key=o[10]),e.$set(c)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){O(e.$$.fragment,o),n=!1},d(o){F(e,o)}}}function Fn(t){let e,n,o,i,c,s,l=t[2]&&ut(t);return{c(){e=$("a"),e.textContent="Tags",n=A(),l&&l.c(),o=se(),b(e,"role","button"),b(e,"href","#"),b(e,"class","svelte-n6f67g")},m(r,a){w(r,e,a),w(r,n,a),l&&l.m(r,a),w(r,o,a),i=!0,c||(s=L(e,"click",x(t[6])),c=!0)},p(r,[a]){r[2]?l?(l.p(r,a),a&4&&k(l,1)):(l=ut(r),l.c(),k(l,1),l.m(o.parentNode,o)):l&&(Y(),O(l,1,1,()=>{l=null}),G())},i(r){i||(k(l),i=!0)},o(r){O(l),i=!1},d(r){r&&v(e),r&&v(n),l&&l.d(r),r&&v(o),c=!1,s()}}}const Z=Le([]);function Bt(t){Z.update(e=>(e.indexOf(t.key)==-1&&e.push(t.key),e))}try{let t=localStorage.getItem("tagfilter"),e=[];if(t&&(t=JSON.parse(t)),Ye(t)){Z.set(t);const n=[];(async()=>{let o=await Promise.all(t.map(i=>pe.findByValue(i).catch(c=>{console.warn(`tag '${i}' does not exist`),n.push(i)})));n.forEach(i=>Z.update(c=>e=c.filter(s=>s!=i))),Ye(o)&&(o=o.filter(i=>typeof i<"u"))})()}}catch{}Z.subscribe(t=>{localStorage.setItem("tagfilter",JSON.stringify(t)),de.filter(t)});function Dn(t,e,n){let o,i,c=R,s;te(t,Z,f=>n(0,i=f)),te(t,Q,f=>n(3,s=f)),t.$$.on_destroy.push(()=>c());let l="";const r=async f=>{let _=f.detail.object;Bt(_),n(1,l="")},a=async f=>{fe(Z,i=i.filter(_=>_!=f.object.key),i)},g=()=>n(2,o=!o);function p(f){l=f,n(1,l)}const m=f=>a(f.detail),h=f=>{console.log(f.detail,s,Q),Q.set(Q&&s==f.detail?void 0:f.detail)};return t.$$.update=()=>{t.$$.dirty&1&&n(2,o=i.length>0)},[i,l,o,s,r,a,g,p,m,h]}class qn extends H{constructor(e){super(),W(this,e,Dn,Fn,z,{})}}function Kn(t){let e,n,o,i,c,s,l;return{c(){e=$("div"),n=$("form"),o=$("input"),i=A(),c=$("button"),b(o,"tabindex","0"),b(o,"type","text"),b(c,"type","submit"),b(c,"class","fa fa-circle-plus svelte-1telry2"),b(n,"class","svelte-1telry2")},m(r,a){w(r,e,a),E(e,n),E(n,o),he(o,t[0].description),E(n,i),E(n,c),s||(l=[L(o,"input",t[3]),L(n,"submit",x(t[1]))],s=!0)},p(r,[a]){a&1&&o.value!==r[0].description&&he(o,r[0].description)},i:R,o:R,d(r){r&&v(e),s=!1,V(l)}}}function Yn(t,e,n){let o;te(t,Z,l=>n(2,o=l));let i={description:"",done:!1,tags:[]};const c=()=>{i.description.trim()==""?ee("noting to add","alert",2):(n(0,i.description=i.description.trim(),i),de.set(i),n(0,i={description:"",done:!1,tags:i.tags}))};function s(){i.description=this.value,n(0,i),n(2,o)}return t.$$.update=()=>{t.$$.dirty&4&&n(0,i.tags=[...o],i)},[i,c,o,s]}class Gn extends H{constructor(e){super(),W(this,e,Yn,Kn,z,{})}}function Ft(t,{from:e,to:n},o={}){const i=getComputedStyle(t),c=i.transform==="none"?"":i.transform,[s,l]=i.transformOrigin.split(" ").map(parseFloat),r=e.left+e.width*s/n.width-(n.left+s),a=e.top+e.height*l/n.height-(n.top+l),{delay:g=0,duration:p=h=>Math.sqrt(h)*120,easing:m=xe}=o;return{delay:g,duration:ie(p)?p(Math.sqrt(r*r+a*a)):p,easing:m,css:(h,f)=>{const _=f*r,u=f*a,d=h+f*e.width/n.width,T=h+f*e.height/n.height;return`transform: ${c} translate(${_}px, ${u}px) scale(${d}, ${T});`}}}function dt(t,e,n){const o=t.slice();return o[12]=e[n],o}function _t(t){let e,n,o;return n=new Lt({props:{key:t[12],noremove:t[0].done}}),n.$on("click",t[10]),n.$on("remove",t[5]),{c(){e=$("li"),D(n.$$.fragment),b(e,"class","svelte-1timjgw")},m(i,c){w(i,e,c),B(n,e,null),o=!0},p(i,c){const s={};c&1&&(s.key=i[12]),c&1&&(s.noremove=i[0].done),n.$set(s)},i(i){o||(k(n.$$.fragment,i),o=!0)},o(i){O(n.$$.fragment,i),o=!1},d(i){i&&v(e),F(n)}}}function gt(t){let e,n,o,i,c,s,l=t[1]&&pt(t);return{c(){e=$("button"),n=A(),l&&l.c(),o=se(),b(e,"class","fa fa-tag"),b(e,"title","new Tag")},m(r,a){w(r,e,a),w(r,n,a),l&&l.m(r,a),w(r,o,a),i=!0,c||(s=L(e,"click",x(t[11])),c=!0)},p(r,a){r[1]?l?(l.p(r,a),a&2&&k(l,1)):(l=pt(r),l.c(),k(l,1),l.m(o.parentNode,o)):l&&(Y(),O(l,1,1,()=>{l=null}),G())},i(r){i||(k(l),i=!0)},o(r){O(l),i=!1},d(r){r&&v(e),r&&v(n),l&&l.d(r),r&&v(o),c=!1,s()}}}function pt(t){let e,n,o;return n=new Pt({}),n.$on("submit",t[6]),{c(){e=$("div"),D(n.$$.fragment),b(e,"class","taginput svelte-1timjgw")},m(i,c){w(i,e,c),B(n,e,null),o=!0},p:R,i(i){o||(k(n.$$.fragment,i),o=!0)},o(i){O(n.$$.fragment,i),o=!1},d(i){i&&v(e),F(n)}}}function Vn(t){let e,n,o,i,c,s=t[0].description+"",l,r,a,g,p,m,h,f,_,u=t[0].tags,d=[];for(let y=0;y<u.length;y+=1)d[y]=_t(dt(t,u,y));const T=y=>O(d[y],1,1,()=>{d[y]=null});let S=!t[0].done&&gt(t);return{c(){e=$("article"),n=$("span"),o=$("input"),i=A(),c=$("span"),l=le(s),r=A(),a=$("button"),g=A(),p=$("ul");for(let y=0;y<d.length;y+=1)d[y].c();m=A(),S&&S.c(),b(o,"type","checkbox"),b(c,"class","txt svelte-1timjgw"),b(a,"class","fa fa-trash-can"),b(a,"title","delete"),b(p,"class","svelte-1timjgw"),b(e,"class","svelte-1timjgw"),me(e,"done",t[0].done)},m(y,C){w(y,e,C),E(e,n),E(n,o),o.checked=t[0].done,E(e,i),E(e,c),E(c,l),E(e,r),E(e,a),E(e,g),E(e,p);for(let j=0;j<d.length;j+=1)d[j]&&d[j].m(p,null);E(e,m),S&&S.m(e,null),h=!0,f||(_=[L(o,"change",t[7]),L(o,"click",t[8]),L(a,"click",x(t[9]))],f=!0)},p(y,[C]){if(C&1&&(o.checked=y[0].done),(!h||C&1)&&s!==(s=y[0].description+"")&&Ie(l,s),C&49){u=y[0].tags;let j;for(j=0;j<u.length;j+=1){const N=dt(y,u,j);d[j]?(d[j].p(N,C),k(d[j],1)):(d[j]=_t(N),d[j].c(),k(d[j],1),d[j].m(p,null))}for(Y(),j=u.length;j<d.length;j+=1)T(j);G()}y[0].done?S&&(Y(),O(S,1,1,()=>{S=null}),G()):S?(S.p(y,C),C&1&&k(S,1)):(S=gt(y),S.c(),k(S,1),S.m(e,null)),(!h||C&1)&&me(e,"done",y[0].done)},i(y){if(!h){for(let C=0;C<u.length;C+=1)k(d[C]);k(S),h=!0}},o(y){d=d.filter(Boolean);for(let C=0;C<d.length;C+=1)O(d[C]);O(S),h=!1},d(y){y&&v(e),ze(d,y),S&&S.d(),f=!1,V(_)}}}function zn(t,e,n){let{todo:o}=e,i=!1;const c=_=>{confirm("remove todo permanently ?")&&de.remove(_)},s=async _=>{_.done=!_.done,de.set(_)},l=async _=>{try{Bt(_.object)}catch{ee("cant add tag (See Console)","alert",2)}},r=async _=>{if(confirm("remove Tag?")){const u=_.detail;n(0,o.tags=o.tags.filter(d=>d!=u.object.key),o),de.set(o)}},a=async _=>{console.log(_);const u=_.detail;o.tags.indexOf(u.object.key)==-1&&(o.tags.push(u.object.key),de.set(o)),n(1,i=!1)};function g(){o.done=this.checked,n(0,o)}const p=()=>s(o),m=()=>c(o),h=_=>l(_.detail),f=()=>n(1,i=!i);return t.$$set=_=>{"todo"in _&&n(0,o=_.todo)},[o,i,c,s,l,r,a,g,p,m,h,f]}class Dt extends H{constructor(e){super(),W(this,e,zn,Vn,z,{todo:0})}}function ht(t,e,n){const o=t.slice();return o[6]=e[n],o}function mt(t,e,n){const o=t.slice();return o[6]=e[n],o}function bt(t,e){let n,o,i,c,s,l=R,r;return o=new Dt({props:{todo:e[6]}}),{key:t,first:null,c(){n=$("div"),D(o.$$.fragment),this.first=n},m(a,g){w(a,n,g),B(o,n,null),r=!0},p(a,g){e=a;const p={};g&2&&(p.todo=e[6]),o.$set(p)},r(){s=n.getBoundingClientRect()},f(){Et(n),l(),We(n,s)},a(){l(),l=St(n,s,Ft,{duration:qt})},i(a){r||(k(o.$$.fragment,a),K(()=>{c&&c.end(1),i=jt(n,e[3],{key:e[6].id}),i.start()}),r=!0)},o(a){O(o.$$.fragment,a),i&&i.invalidate(),c=Nt(n,e[2],{key:e[6].id}),r=!1},d(a){a&&v(n),F(o),a&&c&&c.end()}}}function yt(t,e){let n,o,i,c,s,l,r=R,a;return o=new Dt({props:{todo:e[6]}}),{key:t,first:null,c(){n=$("div"),D(o.$$.fragment),i=A(),this.first=n},m(g,p){w(g,n,p),B(o,n,null),E(n,i),a=!0},p(g,p){e=g;const m={};p&1&&(m.todo=e[6]),o.$set(m)},r(){l=n.getBoundingClientRect()},f(){Et(n),r(),We(n,l)},a(){r(),r=St(n,l,Ft,{duration:qt})},i(g){a||(k(o.$$.fragment,g),K(()=>{s&&s.end(1),c=jt(n,e[3],{key:e[6].id}),c.start()}),a=!0)},o(g){O(o.$$.fragment,g),c&&c.invalidate(),s=Nt(n,e[2],{key:e[6].id}),a=!1},d(g){g&&v(n),F(o),g&&s&&s.end()}}}function Wn(t){let e=[],n=new Map,o,i,c,s=[],l=new Map,r,a,g=t[1];const p=f=>f[6].id;for(let f=0;f<g.length;f+=1){let _=mt(t,g,f),u=p(_);n.set(u,e[f]=bt(u,_))}let m=t[0];const h=f=>f[6].id;for(let f=0;f<m.length;f+=1){let _=ht(t,m,f),u=h(_);l.set(u,s[f]=yt(u,_))}return{c(){for(let f=0;f<e.length;f+=1)e[f].c();o=A(),i=$("h3"),i.textContent="Done:",c=A();for(let f=0;f<s.length;f+=1)s[f].c();r=se()},m(f,_){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(f,_);w(f,o,_),w(f,i,_),w(f,c,_);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(f,_);w(f,r,_),a=!0},p(f,[_]){if(_&2){g=f[1],Y();for(let u=0;u<e.length;u+=1)e[u].r();e=qe(e,_,p,1,f,g,n,o.parentNode,et,bt,o,mt);for(let u=0;u<e.length;u+=1)e[u].a();G()}if(_&1){m=f[0],Y();for(let u=0;u<s.length;u+=1)s[u].r();s=qe(s,_,h,1,f,m,l,r.parentNode,et,yt,r,ht);for(let u=0;u<s.length;u+=1)s[u].a();G()}},i(f){if(!a){for(let _=0;_<g.length;_+=1)k(e[_]);for(let _=0;_<m.length;_+=1)k(s[_]);a=!0}},o(f){for(let _=0;_<e.length;_+=1)O(e[_]);for(let _=0;_<s.length;_+=1)O(s[_]);a=!1},d(f){for(let _=0;_<e.length;_+=1)e[_].d(f);f&&v(o),f&&v(i),f&&v(c);for(let _=0;_<s.length;_+=1)s[_].d(f);f&&v(r)}}}const qt=250;function Hn(t,e,n){let o,i,c,s;te(t,$e,a=>n(5,s=a));const[l,r]=hn({fallback:X});return t.$$.update=()=>{t.$$.dirty&32&&n(4,o=[...s]),t.$$.dirty&16&&n(1,i=o.filter(a=>!a.done)),t.$$.dirty&16&&n(0,c=o.filter(a=>a.done))},[c,i,l,r,o,s]}class Un extends H{constructor(e){super(),W(this,e,Hn,Wn,z,{})}}function Jn(t){let e,n,o,i,c,s,l,r,a,g,p,m,h,f,_,u;return c=new vn({}),l=new qn({}),p=new Gn({}),h=new Un({}),_=new gn({}),{c(){e=$("base"),n=A(),o=$("nav"),o.innerHTML=`<ul><li><strong>HelloWorld Todo&#39;s</strong></li></ul> 
    <ul><li><a href="https://github.com/Rocco-Gossmann/SvelteHelloWorldTodos" target="_blank">GitHub</a></li></ul>`,i=A(),D(c.$$.fragment),s=A(),D(l.$$.fragment),r=A(),a=$("h1"),a.textContent="Todos",g=A(),D(p.$$.fragment),m=A(),D(h.$$.fragment),f=A(),D(_.$$.fragment),b(e,"href","/SvelteHelloWorldTodos"),b(a,"class","text-center")},m(d,T){E(document.head,e),w(d,n,T),w(d,o,T),w(d,i,T),B(c,d,T),w(d,s,T),B(l,d,T),w(d,r,T),w(d,a,T),w(d,g,T),B(p,d,T),w(d,m,T),B(h,d,T),w(d,f,T),B(_,d,T),u=!0},p:R,i(d){u||(k(c.$$.fragment,d),k(l.$$.fragment,d),k(p.$$.fragment,d),k(h.$$.fragment,d),k(_.$$.fragment,d),u=!0)},o(d){O(c.$$.fragment,d),O(l.$$.fragment,d),O(p.$$.fragment,d),O(h.$$.fragment,d),O(_.$$.fragment,d),u=!1},d(d){v(e),d&&v(n),d&&v(o),d&&v(i),F(c,d),d&&v(s),F(l,d),d&&v(r),d&&v(a),d&&v(g),F(p,d),d&&v(m),F(h,d),d&&v(f),F(_,d)}}}class xn extends H{constructor(e){super(),W(this,e,null,Jn,z,{})}}new xn({target:document.getElementById("app")});
