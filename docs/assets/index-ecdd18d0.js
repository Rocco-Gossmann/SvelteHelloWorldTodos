var Vt=Object.defineProperty;var Ht=(t,e,n)=>e in t?Vt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var I=(t,e,n)=>(Ht(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();function R(){}const Pe=t=>t;function Qe(t,e){for(const n in e)t[n]=e[n];return t}function wt(t){return t()}function Xe(){return Object.create(null)}function H(t){t.forEach(wt)}function ie(t){return typeof t=="function"}function V(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Yt(t){return Object.keys(t).length===0}function Ue(t,...e){if(t==null)return R;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function ee(t,e,n){t.$$.on_destroy.push(Ue(e,n))}function Ze(t){return t??""}function se(t,e,n){return t.set(n),e}const $t=typeof window<"u";let Le=$t?()=>window.performance.now():()=>Date.now(),Ve=$t?t=>requestAnimationFrame(t):R;const _e=new Set;function Tt(t){_e.forEach(e=>{e.c(t)||(_e.delete(e),e.f())}),_e.size!==0&&Ve(Tt)}function Ae(t){let e;return _e.size===0&&Ve(Tt),{promise:new Promise(n=>{_e.add(e={c:t,f:n})}),abort(){_e.delete(e)}}}function S(t,e){t.appendChild(e)}function St(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Gt(t){const e=T("style");return zt(St(t),e),e.sheet}function zt(t,e){return S(t.head||t,e),e.sheet}function $(t,e,n){t.insertBefore(e,n||null)}function k(t){t.parentNode&&t.parentNode.removeChild(t)}function He(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function T(t){return document.createElement(t)}function oe(t){return document.createTextNode(t)}function P(){return oe(" ")}function le(){return oe("")}function M(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function z(t){return function(e){return e.preventDefault(),t.call(this,e)}}function v(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Jt(t){return Array.from(t.childNodes)}function Me(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function he(t,e){t.value=e??""}function me(t,e,n){t.classList[n?"add":"remove"](e)}function Et(t,e,{bubbles:n=!1,cancelable:i=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,i,e),o}const Oe=new Map;let je=0;function xt(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Qt(t,e){const n={stylesheet:Gt(e),rules:{}};return Oe.set(t,n),n}function ve(t,e,n,i,o,r,s,l=0){const a=16.666/i;let c=`{
`;for(let u=0;u<=1;u+=a){const m=e+(n-e)*r(u);c+=u*100+`%{${s(m,1-m)}}
`}const _=c+`100% {${s(n,1-n)}}
}`,p=`__svelte_${xt(_)}_${l}`,y=St(t),{stylesheet:g,rules:f}=Oe.get(y)||Qt(y,t);f[p]||(f[p]=!0,g.insertRule(`@keyframes ${p} ${_}`,g.cssRules.length));const d=t.style.animation||"";return t.style.animation=`${d?`${d}, `:""}${p} ${i}ms linear ${o}ms 1 both`,je+=1,p}function ke(t,e){const n=(t.style.animation||"").split(", "),i=n.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),o=n.length-i.length;o&&(t.style.animation=i.join(", "),je-=o,je||Xt())}function Xt(){Ve(()=>{je||(Oe.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&k(e)}),Oe.clear())})}function Ct(t,e,n,i){if(!e)return R;const o=t.getBoundingClientRect();if(e.left===o.left&&e.right===o.right&&e.top===o.top&&e.bottom===o.bottom)return R;const{delay:r=0,duration:s=300,easing:l=Pe,start:a=Le()+r,end:c=a+s,tick:_=R,css:p}=n(t,{from:e,to:o},i);let y=!0,g=!1,f;function d(){p&&(f=ve(t,0,1,s,r,l,p)),r||(g=!0)}function u(){p&&ke(t,f),y=!1}return Ae(m=>{if(!g&&m>=a&&(g=!0),g&&m>=c&&(_(1,0),u()),!y)return!1;if(g){const N=m-a,h=0+1*l(N/s);_(h,1-h)}return!0}),d(),_(0,1),u}function Ot(t){const e=getComputedStyle(t);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:n,height:i}=e,o=t.getBoundingClientRect();t.style.position="absolute",t.style.width=n,t.style.height=i,Ye(t,o)}}function Ye(t,e){const n=t.getBoundingClientRect();if(e.left!==n.left||e.top!==n.top){const i=getComputedStyle(t),o=i.transform==="none"?"":i.transform;t.style.transform=`${o} translate(${e.left-n.left}px, ${e.top-n.top}px)`}}let we;function be(t){we=t}function Zt(){if(!we)throw new Error("Function called outside component initialization");return we}function jt(){const t=Zt();return(e,n,{cancelable:i=!1}={})=>{const o=t.$$.callbacks[e];if(o){const r=Et(e,n,{cancelable:i});return o.slice().forEach(s=>{s.call(t,r)}),!r.defaultPrevented}return!0}}const fe=[],We=[];let pe=[];const Ie=[],en=Promise.resolve();let Fe=!1;function tn(){Fe||(Fe=!0,en.then(Rt))}function q(t){pe.push(t)}function nn(t){Ie.push(t)}const Be=new Set;let ce=0;function Rt(){if(ce!==0)return;const t=we;do{try{for(;ce<fe.length;){const e=fe[ce];ce++,be(e),on(e.$$)}}catch(e){throw fe.length=0,ce=0,e}for(be(null),fe.length=0,ce=0;We.length;)We.pop()();for(let e=0;e<pe.length;e+=1){const n=pe[e];Be.has(n)||(Be.add(n),n())}pe.length=0}while(fe.length);for(;Ie.length;)Ie.pop()();Fe=!1,Be.clear(),be(t)}function on(t){if(t.fragment!==null){t.update(),H(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(q)}}function ln(t){const e=[],n=[];pe.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),pe=e}let ye;function Ge(){return ye||(ye=Promise.resolve(),ye.then(()=>{ye=null})),ye}function re(t,e,n){t.dispatchEvent(Et(`${e?"intro":"outro"}${n}`))}const Se=new Set;let X;function K(){X={r:0,c:[],p:X}}function U(){X.r||H(X.c),X=X.p}function w(t,e){t&&t.i&&(Se.delete(t),t.i(e))}function E(t,e,n,i){if(t&&t.o){if(Se.has(t))return;Se.add(t),X.c.push(()=>{Se.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}const ze={duration:0};function Nt(t,e,n){const i={direction:"in"};let o=e(t,n,i),r=!1,s,l,a=0;function c(){s&&ke(t,s)}function _(){const{delay:y=0,duration:g=300,easing:f=Pe,tick:d=R,css:u}=o||ze;u&&(s=ve(t,0,1,g,y,f,u,a++)),d(0,1);const m=Le()+y,N=m+g;l&&l.abort(),r=!0,q(()=>re(t,!0,"start")),l=Ae(h=>{if(r){if(h>=N)return d(1,0),re(t,!0,"end"),c(),r=!1;if(h>=m){const b=f((h-m)/g);d(b,1-b)}}return r})}let p=!1;return{start(){p||(p=!0,ke(t),ie(o)?(o=o(i),Ge().then(_)):_())},invalidate(){p=!1},end(){r&&(c(),r=!1)}}}function Pt(t,e,n){const i={direction:"out"};let o=e(t,n,i),r=!0,s;const l=X;l.r+=1;function a(){const{delay:c=0,duration:_=300,easing:p=Pe,tick:y=R,css:g}=o||ze;g&&(s=ve(t,1,0,_,c,p,g));const f=Le()+c,d=f+_;q(()=>re(t,!1,"start")),Ae(u=>{if(r){if(u>=d)return y(0,1),re(t,!1,"end"),--l.r||H(l.c),!1;if(u>=f){const m=p((u-f)/_);y(1-m,m)}}return r})}return ie(o)?Ge().then(()=>{o=o(i),a()}):a(),{end(c){c&&o.tick&&o.tick(1,0),r&&(s&&ke(t,s),r=!1)}}}function Z(t,e,n,i){const o={direction:"both"};let r=e(t,n,o),s=i?0:1,l=null,a=null,c=null;function _(){c&&ke(t,c)}function p(g,f){const d=g.b-s;return f*=Math.abs(d),{a:s,b:g.b,d,duration:f,start:g.start,end:g.start+f,group:g.group}}function y(g){const{delay:f=0,duration:d=300,easing:u=Pe,tick:m=R,css:N}=r||ze,h={start:Le()+f,b:g};g||(h.group=X,X.r+=1),l||a?a=h:(N&&(_(),c=ve(t,s,g,d,f,u,N)),g&&m(0,1),l=p(h,d),q(()=>re(t,g,"start")),Ae(b=>{if(a&&b>a.start&&(l=p(a,d),a=null,re(t,l.b,"start"),N&&(_(),c=ve(t,s,l.b,l.duration,0,u,r.css))),l){if(b>=l.end)m(s=l.b,1-s),re(t,l.b,"end"),a||(l.b?_():--l.group.r||H(l.group.c)),l=null;else if(b>=l.start){const C=b-l.start;s=l.a+l.d*u(C/l.duration),m(s,1-s)}}return!!(l||a)}))}return{run(g){ie(r)?Ge().then(()=>{r=r(o),y(g)}):y(g)},end(){_(),l=a=null}}}function Lt(t,e){E(t,1,1,()=>{e.delete(t.key)})}function et(t,e){t.f(),Lt(t,e)}function De(t,e,n,i,o,r,s,l,a,c,_,p){let y=t.length,g=r.length,f=y;const d={};for(;f--;)d[t[f].key]=f;const u=[],m=new Map,N=new Map,h=[];for(f=g;f--;){const j=p(o,r,f),A=n(j);let L=s.get(A);L?i&&h.push(()=>L.p(j,e)):(L=c(A,j),L.c()),m.set(A,u[f]=L),A in d&&N.set(A,Math.abs(f-d[A]))}const b=new Set,C=new Set;function O(j){w(j,1),j.m(l,_),s.set(j.key,j),_=j.first,g--}for(;y&&g;){const j=u[g-1],A=t[y-1],L=j.key,x=A.key;j===A?(_=j.first,y--,g--):m.has(x)?!s.has(L)||b.has(L)?O(j):C.has(x)?y--:N.get(L)>N.get(x)?(C.add(L),O(j)):(b.add(x),y--):(a(A,s),y--)}for(;y--;){const j=t[y];m.has(j.key)||a(j,s)}for(;g;)O(u[g-1]);return H(h),u}function sn(t,e,n){const i=t.$$.props[e];i!==void 0&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}function F(t){t&&t.c()}function B(t,e,n,i){const{fragment:o,after_update:r}=t.$$;o&&o.m(e,n),i||q(()=>{const s=t.$$.on_mount.map(wt).filter(ie);t.$$.on_destroy?t.$$.on_destroy.push(...s):H(s),t.$$.on_mount=[]}),r.forEach(q)}function W(t,e){const n=t.$$;n.fragment!==null&&(ln(n.after_update),H(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function rn(t,e){t.$$.dirty[0]===-1&&(fe.push(t),tn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Y(t,e,n,i,o,r,s,l=[-1]){const a=we;be(t);const c=t.$$={fragment:null,ctx:[],props:r,update:R,not_equal:o,bound:Xe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Xe(),dirty:l,skip_bound:!1,root:e.target||a.$$.root};s&&s(c.root);let _=!1;if(c.ctx=n?n(t,e.props||{},(p,y,...g)=>{const f=g.length?g[0]:y;return c.ctx&&o(c.ctx[p],c.ctx[p]=f)&&(!c.skip_bound&&c.bound[p]&&c.bound[p](f),_&&rn(t,p)),y}):[],c.update(),_=!0,H(c.before_update),c.fragment=i?i(c.ctx):!1,e.target){if(e.hydrate){const p=Jt(e.target);c.fragment&&c.fragment.l(p),p.forEach(k)}else c.fragment&&c.fragment.c();e.intro&&w(t.$$.fragment),B(t,e.target,e.anchor,e.customElement),Rt()}be(a)}class G{$destroy(){W(this,1),this.$destroy=R}$on(e,n){if(!ie(n))return R;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}$set(e){this.$$set&&!Yt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}window.addEventListener("load",()=>{const t=document.createElement("div");t.style.overflow="scroll",document.body.appendChild(t);const e=document.createElement("div");t.appendChild(e);const n=t.offsetWidth-e.offsetWidth;console.log("Scrollbars",n),t.parentNode.removeChild(t);const i=document.querySelector(".noscrollbars");i&&i.style.setProperty("--scrollbarwidth",n+"px")});function an(t){let e,n;return{c(){e=T("option"),e.__value=n=t[1].value,e.value=e.__value},m(i,o){$(i,e,o)},p(i,[o]){o&2&&n!==(n=i[1].value)&&(e.__value=n,e.value=e.__value)},i:R,o:R,d(i){i&&k(e)}}}function cn(t,e,n){let i,o=R,r=()=>(o(),o=Ue(s,l=>n(1,i=l)),s);t.$$.on_destroy.push(()=>o());let{tagstore:s}=e;return r(),t.$$set=l=>{"tagstore"in l&&r(n(0,s=l.tagstore))},[s,i]}class un extends G{constructor(e){super(),Y(this,e,cn,an,V,{tagstore:0})}}const ae=new Promise((t,e)=>{if(window!=null&&window.Dexie){const n=new window.Dexie("helloworldtodos",{});n.version(2).stores({tags:"&key",todos:"++id,*tags"}),t(n)}else e(new Error("Dexie is not loaded in window"))}),ue=[];function $e(t,e=R){let n;const i=new Set;function o(l){if(V(t,l)&&(t=l,n)){const a=!ue.length;for(const c of i)c[1](),ue.push(c,t);if(a){for(let c=0;c<ue.length;c+=2)ue[c][0](ue[c+1]);ue.length=0}}}function r(l){o(l(t))}function s(l,a=R){const c=[l,a];return i.add(c),i.size===1&&(n=e(o)||R),l(t),()=>{i.delete(c),i.size===0&&n&&(n(),n=null)}}return{set:o,update:r,subscribe:s}}class fn{constructor(e,n){I(this,"_obj");I(this,"subscribe");I(this,"parset");const{subscribe:i,set:o}=$e(e,n);this.subscribe=i,this.parset=o,this._obj=e}set(e){this._obj=e,this.parset(e)}get object(){return this._obj}set object(e){this.set(e)}update(e){const n=e(this._obj);this.set(n)}}class D extends Error{}I(D,"EMPTY_TAG_KEY","the given value resulted in an empty tag-key"),I(D,"NO_TAG_FOR_KEY","a tag for the given Key or Value does not exist in the Database"),I(D,"INVALID_CONSTRUCT","construct must be provided with either 'key' or 'value'");class At{constructor(e){I(this,"key");I(this,"value");I(this,"color");if(e.value&&e.key)this.value=e.value,this.key=Ee(e.key);else if(e.key)this.value=e.key,this.key=Ee(e.key);else if(e.value)this.value=e.value,this.key=Ee(e.value);else throw new D(D.INVALID_CONSTRUCT);if(this.color=e.color||"#73828c",this.key=="")throw new D(D.EMPTY_TAG_KEY)}async drop(){const e=await ae;await e.tags.delete(this.key);const n=[];console.log(await e.todos.where("tags").equals(this.key).each(i=>{i.tags=i.tags.filter(o=>o!=this.key),n.push(i)})),await e.todos.bulkPut(n),Ne.refresh()}insert(){return Bt().then(e=>e.put(this)).then(()=>Ne.refresh())}}class dn extends fn{constructor(e){super(e,()=>(Re.set(e.key,this),()=>Re.delete(e.key)))}notifiySubscribers(){this.set(this.object)}}const Re=new Map;function Je(t){const e=new At(t);return Re.has(e.key)?Re.get(e.key):new dn(e)}function Mt(t){return ae.then(e=>e.tags.where("key").equals(t).first()).then(e=>{if(e)return Je(e);throw console.log(t),new D(D.NO_TAG_FOR_KEY)})}function _n(t){return Mt(Ee(t))}class pn{constructor(){I(this,"subs",new Set)}subscribe(e){return console.log("new sub",e),this.subs.add(e),e([]),this._dat().then(e),()=>{console.log("unsub",e),this.subs.delete(e)}}async refresh(){const e=await this._dat();this.subs.forEach(n=>n(e))}_dat(){return Bt().then(e=>e.toArray()).then(e=>e.map(n=>Je(n)))}}const Ne=new pn,ge={getTagStore:Je,tagsstore:Ne,findByKey:Mt,findByValue:_n};async function Bt(){return(await ae).tags}function Ee(t){return(t||"").trim().toLowerCase()}function tt(t,e,n){const i=t.slice();return i[1]=e[n],i}function nt(t){let e,n;return e=new un({props:{tagstore:t[1]}}),{c(){F(e.$$.fragment)},m(i,o){B(e,i,o),n=!0},p(i,o){const r={};o&1&&(r.tagstore=i[1]),e.$set(r)},i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){E(e.$$.fragment,i),n=!1},d(i){W(e,i)}}}function gn(t){let e,n,i=t[0],o=[];for(let s=0;s<i.length;s+=1)o[s]=nt(tt(t,i,s));const r=s=>E(o[s],1,1,()=>{o[s]=null});return{c(){e=T("datalist");for(let s=0;s<o.length;s+=1)o[s].c();v(e,"id","available_tags")},m(s,l){$(s,e,l);for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(e,null);n=!0},p(s,[l]){if(l&1){i=s[0];let a;for(a=0;a<i.length;a+=1){const c=tt(s,i,a);o[a]?(o[a].p(c,l),w(o[a],1)):(o[a]=nt(c),o[a].c(),w(o[a],1),o[a].m(e,null))}for(K(),a=i.length;a<o.length;a+=1)r(a);U()}},i(s){if(!n){for(let l=0;l<i.length;l+=1)w(o[l]);n=!0}},o(s){o=o.filter(Boolean);for(let l=0;l<o.length;l+=1)E(o[l]);n=!1},d(s){s&&k(e),He(o,s)}}}function hn(t,e,n){let i;return ee(t,Ne,o=>n(0,i=o)),[i]}class mn extends G{constructor(e){super(),Y(this,e,hn,gn,V,{})}}function xe(t){const e=t-1;return e*e*e+1}function yn(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n}function J(t,{delay:e=0,duration:n=400,easing:i=xe,axis:o="y"}={}){const r=getComputedStyle(t),s=+r.opacity,l=o==="y"?"height":"width",a=parseFloat(r[l]),c=o==="y"?["top","bottom"]:["left","right"],_=c.map(m=>`${m[0].toUpperCase()}${m.slice(1)}`),p=parseFloat(r[`padding${_[0]}`]),y=parseFloat(r[`padding${_[1]}`]),g=parseFloat(r[`margin${_[0]}`]),f=parseFloat(r[`margin${_[1]}`]),d=parseFloat(r[`border${_[0]}Width`]),u=parseFloat(r[`border${_[1]}Width`]);return{delay:e,duration:n,easing:i,css:m=>`overflow: hidden;opacity: ${Math.min(m*20,1)*s};${l}: ${m*a}px;padding-${c[0]}: ${m*p}px;padding-${c[1]}: ${m*y}px;margin-${c[0]}: ${m*g}px;margin-${c[1]}: ${m*f}px;border-${c[0]}-width: ${m*d}px;border-${c[1]}-width: ${m*u}px;`}}function bn(t){var{fallback:e}=t,n=yn(t,["fallback"]);const i=new Map,o=new Map;function r(l,a,c){const{delay:_=0,duration:p=j=>Math.sqrt(j)*30,easing:y=xe}=Qe(Qe({},n),c),g=l.getBoundingClientRect(),f=a.getBoundingClientRect(),d=g.left-f.left,u=g.top-f.top,m=g.width/f.width,N=g.height/f.height,h=Math.sqrt(d*d+u*u),b=getComputedStyle(a),C=b.transform==="none"?"":b.transform,O=+b.opacity;return{delay:_,duration:ie(p)?p(h):p,easing:y,css:(j,A)=>`
				opacity: ${j*O};
				transform-origin: top left;
				transform: ${C} translate(${A*d}px,${A*u}px) scale(${j+(1-j)*m}, ${j+(1-j)*N});
			`}}function s(l,a,c){return(_,p)=>(l.set(p.key,_),()=>{if(a.has(p.key)){const y=a.get(p.key);return a.delete(p.key),r(y,_,p)}return l.delete(p.key),e&&e(_,p,c)})}return[s(o,i,!1),s(i,o,!0)]}function it(t,e,n){const i=t.slice();return i[3]=e[n],i}function ot(t,e){let n,i=e[3].msg+"",o,r,s,l,a;return{key:t,first:null,c(){n=T("article"),o=oe(i),r=P(),v(n,"class",s=Ze(e[3].cssClass)+" svelte-lwkk25"),this.first=n},m(c,_){$(c,n,_),S(n,o),S(n,r),a=!0},p(c,_){e=c,(!a||_&1)&&i!==(i=e[3].msg+"")&&Me(o,i),(!a||_&1&&s!==(s=Ze(e[3].cssClass)+" svelte-lwkk25"))&&v(n,"class",s)},i(c){a||(q(()=>{l||(l=Z(n,J,{duration:250},!0)),l.run(1)}),a=!0)},o(c){l||(l=Z(n,J,{duration:250},!1)),l.run(0),a=!1},d(c){c&&k(n),c&&l&&l.end()}}}function vn(t){let e,n=[],i=new Map,o,r=t[0];const s=l=>l[3].id;for(let l=0;l<r.length;l+=1){let a=it(t,r,l),c=s(a);i.set(c,n[l]=ot(c,a))}return{c(){e=T("div");for(let l=0;l<n.length;l+=1)n[l].c();v(e,"class","toastcontainer svelte-lwkk25")},m(l,a){$(l,e,a);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(e,null);o=!0},p(l,[a]){a&1&&(r=l[0],K(),n=De(n,a,s,1,l,r,i,e,Lt,ot,null,it),U())},i(l){if(!o){for(let a=0;a<r.length;a+=1)w(n[a]);o=!0}},o(l){for(let a=0;a<n.length;a+=1)E(n[a]);o=!1},d(l){l&&k(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}let kn=1;const qe=$e([]);function ne(t,e,n=4){qe.update(i=>(i.push({id:kn++,msg:t,cssClass:e,timeout:n*10}),i))}function wn(t,e,n){let i;ee(t,qe,s=>n(0,i=s));let o;function r(){!o&&i.length&&(o=window.setTimeout(()=>{i.forEach(s=>s.timeout--),se(qe,i=i.filter(s=>s.timeout>0),i),o=void 0,r()},100))}return t.$$.update=()=>{t.$$.dirty&1&&i.length&&r()},[i]}class $n extends G{constructor(e){super(),Y(this,e,wn,vn,V,{})}}function lt(t){let e,n,i,o,r,s,l,a,c,_,p,y,g,f,d,u,m,N,h,b,C,O,j,A;return{c(){e=T("section"),n=T("label"),n.textContent="Key:",i=P(),o=T("input"),s=P(),l=T("button"),a=P(),c=T("label"),c.textContent="Value:",_=P(),p=T("input"),g=P(),f=T("label"),f.textContent="Color:",d=P(),u=T("input"),m=P(),N=T("button"),N.textContent="close",h=P(),b=T("button"),b.textContent="save",v(n,"for","tagedit_key_input"),v(o,"id","tagedit_key_input"),v(o,"type","text"),o.value=r=t[0].object.key,o.disabled=!0,v(l,"class","fa fa-trash-can"),v(l,"title","delete"),v(c,"for","tagedit_value_input"),v(p,"id","tagedit_value_input"),v(p,"type","text"),p.value=y=t[0].object.value,p.disabled=!0,v(p,"class","svelte-1hd6fid"),v(f,"for","tagedit_value_input"),v(u,"id","tagedit_value_input"),v(u,"type","color"),v(u,"class","svelte-1hd6fid"),v(N,"id","tagedit_close_btn"),v(b,"id","tagedit_save_btn"),v(b,"class","svelte-1hd6fid"),v(e,"class","svelte-1hd6fid")},m(L,x){$(L,e,x),S(e,n),S(e,i),S(e,o),S(e,s),S(e,l),S(e,a),S(e,c),S(e,_),S(e,p),S(e,g),S(e,f),S(e,d),S(e,u),he(u,t[0].object.color),S(e,m),S(e,N),S(e,h),S(e,b),O=!0,j||(A=[M(l,"click",z(t[3])),M(u,"input",t[4]),M(N,"click",z(t[5])),M(b,"click",z(t[2]))],j=!0)},p(L,x){(!O||x&1&&r!==(r=L[0].object.key)&&o.value!==r)&&(o.value=r),(!O||x&1&&y!==(y=L[0].object.value)&&p.value!==y)&&(p.value=y),x&1&&he(u,L[0].object.color)},i(L){O||(q(()=>{C||(C=Z(e,J,{},!0)),C.run(1)}),O=!0)},o(L){C||(C=Z(e,J,{},!1)),C.run(0),O=!1},d(L){L&&k(e),L&&C&&C.end(),j=!1,H(A)}}}function Tn(t){let e,n,i=t[0]&&lt(t);return{c(){i&&i.c(),e=le()},m(o,r){i&&i.m(o,r),$(o,e,r),n=!0},p(o,[r]){o[0]?i?(i.p(o,r),r&1&&w(i,1)):(i=lt(o),i.c(),w(i,1),i.m(e.parentNode,e)):i&&(K(),E(i,1,1,()=>{i=null}),U())},i(o){n||(w(i),n=!0)},o(o){E(i),n=!1},d(o){i&&i.d(o),o&&k(e)}}}let Q=$e();function Sn(t,e,n){let i,o=R,r;ee(t,Q,p=>n(0,i=p)),ee(t,te,p=>n(6,r=p)),t.$$.on_destroy.push(()=>o());const s=async()=>{confirm("deleting the tag here, will remove it from all Todos too. This step can not be undone! Continue?")&&i&&(await i.object.drop(),se(te,r=r.filter(p=>p!=i.object.key),r),se(Q,i=void 0,i),ne("tag removed","info",2))},l=async()=>{await i.object.insert(),i.notifiySubscribers(),se(Q,i=void 0,i),ne("changes saved","success",2)},a=()=>s();function c(){i.object.color=this.value,Q.set(i)}return[i,s,l,a,c,()=>se(Q,i=void 0,i)]}class En extends G{constructor(e){super(),Y(this,e,Sn,Tn,V,{})}}function Cn(t){return typeof t=="object"}function Ke(t){return t instanceof Array}function st(t){let e,n,i;function o(a,c){return a[1]?jn:On}let r=o(t),s=r(t),l=!t[0]&&rt(t);return{c(){e=T("span"),s.c(),n=P(),l&&l.c(),v(e,"class","tag svelte-1sddn24"),v(e,"style",i=`--tagcolor: ${t[3].color}`)},m(a,c){$(a,e,c),s.m(e,null),S(e,n),l&&l.m(e,null)},p(a,c){r===(r=o(a))&&s?s.p(a,c):(s.d(1),s=r(a),s&&(s.c(),s.m(e,n))),a[0]?l&&(l.d(1),l=null):l?l.p(a,c):(l=rt(a),l.c(),l.m(e,null)),c&8&&i!==(i=`--tagcolor: ${a[3].color}`)&&v(e,"style",i)},d(a){a&&k(e),s.d(),l&&l.d()}}}function On(t){let e,n=t[3].value+"",i,o,r;return{c(){e=T("a"),i=oe(n),v(e,"href","#"),v(e,"class","svelte-1sddn24")},m(s,l){$(s,e,l),S(e,i),o||(r=M(e,"click",z(t[9])),o=!0)},p(s,l){l&8&&n!==(n=s[3].value+"")&&Me(i,n)},d(s){s&&k(e),o=!1,r()}}}function jn(t){let e=t[3].value+"",n;return{c(){n=oe(e)},m(i,o){$(i,n,o)},p(i,o){o&8&&e!==(e=i[3].value+"")&&Me(n,e)},d(i){i&&k(n)}}}function rt(t){let e,n,i;return{c(){e=T("a"),e.textContent="Â ",v(e,"href","#"),v(e,"class","fa fa-times svelte-1sddn24")},m(o,r){$(o,e,r),n||(i=M(e,"click",z(t[10])),n=!0)},p:R,d(o){o&&k(e),n=!1,i()}}}function Rn(t){let e,n=t[2]&&st(t);return{c(){n&&n.c(),e=le()},m(i,o){n&&n.m(i,o),$(i,e,o)},p(i,[o]){i[2]?n?n.p(i,o):(n=st(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:R,o:R,d(i){n&&n.d(i),i&&k(e)}}}function Nn(t,e,n){let i,o=R,r=()=>(o(),o=Ue(y,u=>n(3,i=u)),y);t.$$.on_destroy.push(()=>o());let{tagstore:s=void 0}=e,{tag:l=void 0}=e,{value:a=""}=e,{key:c=""}=e,{noremove:_=!1}=e,{noclick:p=!1}=e,y;const g=jt(),f=()=>g("click",y),d=()=>g("remove",y);return t.$$set=u=>{"tagstore"in u&&n(5,s=u.tagstore),"tag"in u&&n(6,l=u.tag),"value"in u&&n(7,a=u.value),"key"in u&&n(8,c=u.key),"noremove"in u&&n(0,_=u.noremove),"noclick"in u&&n(1,p=u.noclick)},t.$$.update=()=>{if(t.$$.dirty&480){if(s)r(n(2,y=s));else if(l)r(n(2,y=ge.getTagStore(l)));else if(c)try{ge.findByKey(c).then(u=>r(n(2,y=u)))}catch(u){console.error(u),r(n(2,y=void 0))}else if(a)try{ge.findByValue(a).then(u=>r(n(2,y=u)))}catch(u){console.error(u),r(n(2,y=void 0))}}},[_,p,y,i,g,s,l,a,c,f,d]}class Wt extends G{constructor(e){super(),Y(this,e,Nn,Rn,V,{tagstore:5,tag:6,value:7,key:8,noremove:0,noclick:1})}}class Pn{constructor(){I(this,"subs",new Set);I(this,"subscribe",e=>(e([]),(async()=>e(await this._dat()||[]))(),this.subs.add(e),()=>{this.subs.delete(e)}));I(this,"_dat",()=>ae.then(e=>Ce.length?e.todos.where("tags").anyOf(Ce).distinct().filter(n=>Ce.reduce((o,r,s)=>o&&n.tags.indexOf(r)!=-1,!0)).toArray():e.todos.toArray()))}async refresh(){const e=await this._dat()||[];this.subs.forEach(n=>n(e))}}function Ln(t){return Cn(t)&&typeof t.description=="string"&&typeof t.done=="boolean"}const Te=new Pn;let Ce=[];async function An(t,e=!0){t.tags&&(t.tags=t.tags.filter(n=>typeof n=="string")),await(await ae).table("todos").put(t),e&&await Te.refresh()}async function Mn(t,e=!0){await(await ae).table("todos").delete(t.id),e&&await Te.refresh()}async function Bn(t,e=!0){Ce=t,e&&await Te.refresh()}const de={todos:Te,set:An,remove:Mn,filter:Bn};if(localStorage){const t="rawTodos";let e;try{e=JSON.parse(localStorage.getItem(t))}catch(n){localStorage.removeItem(t),console.error("Error while initializing Todos: ",n)}Ke(e)&&(e=e.filter(Ln),e.length&&ae.then(n=>n.table("todos").bulkPut(e)).then(()=>{localStorage.removeItem(t)}))}function at(t){let e,n,i,o,r,s,l,a;return{c(){e=T("form"),n=T("input"),i=P(),o=T("button"),v(n,"type","text"),v(n,"list","available_tags"),v(n,"autocomplete",""),v(o,"type","submit"),v(o,"class","fa fa-plus-circle svelte-1jqn6dg"),v(e,"class","taginput svelte-1jqn6dg"),me(e,"open",t[1])},m(c,_){$(c,e,_),S(e,n),he(n,t[0]),S(e,i),S(e,o),s=!0,l||(a=[M(n,"input",t[4]),M(e,"submit",z(t[2]))],l=!0)},p(c,_){_&1&&n.value!==c[0]&&he(n,c[0]),(!s||_&2)&&me(e,"open",c[1])},i(c){s||(q(()=>{r||(r=Z(e,J,{},!0)),r.run(1)}),s=!0)},o(c){r||(r=Z(e,J,{},!1)),r.run(0),s=!1},d(c){c&&k(e),c&&r&&r.end(),l=!1,H(a)}}}function Wn(t){let e,n,i=t[1]&&at(t);return{c(){i&&i.c(),e=le()},m(o,r){i&&i.m(o,r),$(o,e,r),n=!0},p(o,[r]){o[1]?i?(i.p(o,r),r&2&&w(i,1)):(i=at(o),i.c(),w(i,1),i.m(e.parentNode,e)):i&&(K(),E(i,1,1,()=>{i=null}),U())},i(o){n||(w(i),n=!0)},o(o){E(i),n=!1},d(o){i&&i.d(o),o&&k(e)}}}function In(t,e,n){const i=jt();let{visible:o=!0}=e,{value:r=""}=e,{noautocreate:s=!1}=e,l;const a=async()=>{try{l=await ge.findByValue(r)}catch(_){if(_ instanceof D&&_.message==D.NO_TAG_FOR_KEY)try{if(s){ne("tag is unknown","alert",2);return}else{const p=new At({value:r});await p.insert(),l=ge.getTagStore(p)}}catch(p){p instanceof D&&p.message==D.EMPTY_TAG_KEY?ne("can't submit an empty Tag","alert",2):(console.error(p),ne("ERROR: see console","alert",2));return}else{console.error(_),ne("ERROR: see console","alert",2);return}}i("submit",l)};function c(){r=this.value,n(0,r)}return t.$$set=_=>{"visible"in _&&n(1,o=_.visible),"value"in _&&n(0,r=_.value),"noautocreate"in _&&n(3,s=_.noautocreate)},[r,o,a,s,c]}class It extends G{constructor(e){super(),Y(this,e,In,Wn,V,{visible:1,value:0,noautocreate:3})}}function ct(t,e,n){const i=t.slice();return i[10]=e[n],i}function ut(t){let e,n,i,o,r,s,l,a,c,_;function p(u){t[7](u)}let y={};t[1]!==void 0&&(y.value=t[1]),e=new It({props:y}),We.push(()=>sn(e,"value",p)),e.$on("submit",t[4]),o=new En({});const g=[Dn,Fn],f=[];function d(u,m){return u[0].length?0:1}return l=d(t),a=f[l]=g[l](t),{c(){F(e.$$.fragment),i=P(),F(o.$$.fragment),r=P(),s=T("section"),a.c(),v(s,"class","taglist svelte-n6f67g"),me(s,"open",t[2])},m(u,m){B(e,u,m),$(u,i,m),B(o,u,m),$(u,r,m),$(u,s,m),f[l].m(s,null),_=!0},p(u,m){const N={};!n&&m&2&&(n=!0,N.value=u[1],nn(()=>n=!1)),e.$set(N);let h=l;l=d(u),l===h?f[l].p(u,m):(K(),E(f[h],1,1,()=>{f[h]=null}),U(),a=f[l],a?a.p(u,m):(a=f[l]=g[l](u),a.c()),w(a,1),a.m(s,null)),(!_||m&4)&&me(s,"open",u[2])},i(u){_||(w(e.$$.fragment,u),w(o.$$.fragment,u),w(a),u&&q(()=>{c||(c=Z(s,J,{},!0)),c.run(1)}),_=!0)},o(u){E(e.$$.fragment,u),E(o.$$.fragment,u),E(a),u&&(c||(c=Z(s,J,{},!1)),c.run(0)),_=!1},d(u){W(e,u),u&&k(i),W(o,u),u&&k(r),u&&k(s),f[l].d(),u&&c&&c.end()}}}function Fn(t){let e;return{c(){e=oe("No Tags yet")},m(n,i){$(n,e,i)},p:R,i:R,o:R,d(n){n&&k(e)}}}function Dn(t){let e,n,i=t[0],o=[];for(let s=0;s<i.length;s+=1)o[s]=ft(ct(t,i,s));const r=s=>E(o[s],1,1,()=>{o[s]=null});return{c(){for(let s=0;s<o.length;s+=1)o[s].c();e=le()},m(s,l){for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(s,l);$(s,e,l),n=!0},p(s,l){if(l&41){i=s[0];let a;for(a=0;a<i.length;a+=1){const c=ct(s,i,a);o[a]?(o[a].p(c,l),w(o[a],1)):(o[a]=ft(c),o[a].c(),w(o[a],1),o[a].m(e.parentNode,e))}for(K(),a=i.length;a<o.length;a+=1)r(a);U()}},i(s){if(!n){for(let l=0;l<i.length;l+=1)w(o[l]);n=!0}},o(s){o=o.filter(Boolean);for(let l=0;l<o.length;l+=1)E(o[l]);n=!1},d(s){He(o,s),s&&k(e)}}}function ft(t){let e,n;return e=new Wt({props:{key:t[10]}}),e.$on("remove",t[8]),e.$on("click",t[9]),{c(){F(e.$$.fragment)},m(i,o){B(e,i,o),n=!0},p(i,o){const r={};o&1&&(r.key=i[10]),e.$set(r)},i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){E(e.$$.fragment,i),n=!1},d(i){W(e,i)}}}function qn(t){let e,n,i,o,r,s,l=t[2]&&ut(t);return{c(){e=T("a"),e.textContent="Tags",n=P(),l&&l.c(),i=le(),v(e,"role","button"),v(e,"href","#"),v(e,"class","svelte-n6f67g")},m(a,c){$(a,e,c),$(a,n,c),l&&l.m(a,c),$(a,i,c),o=!0,r||(s=M(e,"click",z(t[6])),r=!0)},p(a,[c]){a[2]?l?(l.p(a,c),c&4&&w(l,1)):(l=ut(a),l.c(),w(l,1),l.m(i.parentNode,i)):l&&(K(),E(l,1,1,()=>{l=null}),U())},i(a){o||(w(l),o=!0)},o(a){E(l),o=!1},d(a){a&&k(e),a&&k(n),l&&l.d(a),a&&k(i),r=!1,s()}}}const te=$e([]);function Ft(t){te.update(e=>(e.indexOf(t.key)==-1&&e.push(t.key),e))}try{let t=localStorage.getItem("tagfilter"),e=[];if(t&&(t=JSON.parse(t)),Ke(t)){te.set(t);const n=[];(async()=>{let i=await Promise.all(t.map(o=>ge.findByValue(o).catch(r=>{console.warn(`tag '${o}' does not exist`),n.push(o)})));n.forEach(o=>te.update(r=>e=r.filter(s=>s!=o))),Ke(i)&&(i=i.filter(o=>typeof o<"u"))})()}}catch{}te.subscribe(t=>{localStorage.setItem("tagfilter",JSON.stringify(t)),de.filter(t)});function Kn(t,e,n){let i,o,r=R,s;ee(t,te,f=>n(0,o=f)),ee(t,Q,f=>n(3,s=f)),t.$$.on_destroy.push(()=>r());let l="";const a=async f=>{let d=f.detail.object;Ft(d),n(1,l="")},c=async f=>{s==f&&se(Q,s=void 0,s),se(te,o=o.filter(d=>d!=f.object.key),o)},_=()=>n(2,i=!i);function p(f){l=f,n(1,l)}const y=f=>c(f.detail),g=f=>{console.log(f.detail,s,Q),Q.set(Q&&s==f.detail?void 0:f.detail)};return t.$$.update=()=>{t.$$.dirty&1&&n(2,i=o.length>0)},[o,l,i,s,a,c,_,p,y,g]}class Un extends G{constructor(e){super(),Y(this,e,Kn,qn,V,{})}}function Vn(t){let e,n,i,o,r,s,l;return{c(){e=T("div"),n=T("form"),i=T("input"),o=P(),r=T("button"),v(i,"tabindex","0"),v(i,"type","text"),v(r,"type","submit"),v(r,"class","fa fa-circle-plus svelte-1telry2"),v(n,"class","svelte-1telry2")},m(a,c){$(a,e,c),S(e,n),S(n,i),he(i,t[0].description),S(n,o),S(n,r),s||(l=[M(i,"input",t[3]),M(n,"submit",z(t[1]))],s=!0)},p(a,[c]){c&1&&i.value!==a[0].description&&he(i,a[0].description)},i:R,o:R,d(a){a&&k(e),s=!1,H(l)}}}function Hn(t,e,n){let i;ee(t,te,l=>n(2,i=l));let o={description:"",done:!1,tags:[]};const r=()=>{o.description.trim()==""?ne("noting to add","alert",2):(n(0,o.description=o.description.trim(),o),de.set(o),n(0,o={description:"",done:!1,tags:o.tags}))};function s(){o.description=this.value,n(0,o),n(2,i)}return t.$$.update=()=>{t.$$.dirty&4&&n(0,o.tags=[...i],o)},[o,r,i,s]}class Yn extends G{constructor(e){super(),Y(this,e,Hn,Vn,V,{})}}function Dt(t,{from:e,to:n},i={}){const o=getComputedStyle(t),r=o.transform==="none"?"":o.transform,[s,l]=o.transformOrigin.split(" ").map(parseFloat),a=e.left+e.width*s/n.width-(n.left+s),c=e.top+e.height*l/n.height-(n.top+l),{delay:_=0,duration:p=g=>Math.sqrt(g)*120,easing:y=xe}=i;return{delay:_,duration:ie(p)?p(Math.sqrt(a*a+c*c)):p,easing:y,css:(g,f)=>{const d=f*a,u=f*c,m=g+f*e.width/n.width,N=g+f*e.height/n.height;return`transform: ${r} translate(${d}px, ${u}px) scale(${m}, ${N});`}}}function dt(t,e,n){const i=t.slice();return i[12]=e[n],i}function _t(t){let e,n,i;return n=new Wt({props:{key:t[12],noremove:t[0].done}}),n.$on("click",t[10]),n.$on("remove",t[5]),{c(){e=T("li"),F(n.$$.fragment),v(e,"class","svelte-1timjgw")},m(o,r){$(o,e,r),B(n,e,null),i=!0},p(o,r){const s={};r&1&&(s.key=o[12]),r&1&&(s.noremove=o[0].done),n.$set(s)},i(o){i||(w(n.$$.fragment,o),i=!0)},o(o){E(n.$$.fragment,o),i=!1},d(o){o&&k(e),W(n)}}}function pt(t){let e,n,i,o,r,s,l=t[1]&&gt(t);return{c(){e=T("button"),n=P(),l&&l.c(),i=le(),v(e,"class","fa fa-tag"),v(e,"title","new Tag")},m(a,c){$(a,e,c),$(a,n,c),l&&l.m(a,c),$(a,i,c),o=!0,r||(s=M(e,"click",z(t[11])),r=!0)},p(a,c){a[1]?l?(l.p(a,c),c&2&&w(l,1)):(l=gt(a),l.c(),w(l,1),l.m(i.parentNode,i)):l&&(K(),E(l,1,1,()=>{l=null}),U())},i(a){o||(w(l),o=!0)},o(a){E(l),o=!1},d(a){a&&k(e),a&&k(n),l&&l.d(a),a&&k(i),r=!1,s()}}}function gt(t){let e,n,i;return n=new It({}),n.$on("submit",t[6]),{c(){e=T("div"),F(n.$$.fragment),v(e,"class","taginput svelte-1timjgw")},m(o,r){$(o,e,r),B(n,e,null),i=!0},p:R,i(o){i||(w(n.$$.fragment,o),i=!0)},o(o){E(n.$$.fragment,o),i=!1},d(o){o&&k(e),W(n)}}}function Gn(t){let e,n,i,o,r,s=t[0].description+"",l,a,c,_,p,y,g,f,d,u=t[0].tags,m=[];for(let b=0;b<u.length;b+=1)m[b]=_t(dt(t,u,b));const N=b=>E(m[b],1,1,()=>{m[b]=null});let h=!t[0].done&&pt(t);return{c(){e=T("article"),n=T("span"),i=T("input"),o=P(),r=T("span"),l=oe(s),a=P(),c=T("button"),_=P(),p=T("ul");for(let b=0;b<m.length;b+=1)m[b].c();y=P(),h&&h.c(),v(i,"type","checkbox"),v(r,"class","txt svelte-1timjgw"),v(c,"class","fa fa-trash-can"),v(c,"title","delete"),v(p,"class","svelte-1timjgw"),v(e,"class","svelte-1timjgw"),me(e,"done",t[0].done)},m(b,C){$(b,e,C),S(e,n),S(n,i),i.checked=t[0].done,S(e,o),S(e,r),S(r,l),S(e,a),S(e,c),S(e,_),S(e,p);for(let O=0;O<m.length;O+=1)m[O]&&m[O].m(p,null);S(e,y),h&&h.m(e,null),g=!0,f||(d=[M(i,"change",t[7]),M(i,"click",t[8]),M(c,"click",z(t[9]))],f=!0)},p(b,[C]){if(C&1&&(i.checked=b[0].done),(!g||C&1)&&s!==(s=b[0].description+"")&&Me(l,s),C&49){u=b[0].tags;let O;for(O=0;O<u.length;O+=1){const j=dt(b,u,O);m[O]?(m[O].p(j,C),w(m[O],1)):(m[O]=_t(j),m[O].c(),w(m[O],1),m[O].m(p,null))}for(K(),O=u.length;O<m.length;O+=1)N(O);U()}b[0].done?h&&(K(),E(h,1,1,()=>{h=null}),U()):h?(h.p(b,C),C&1&&w(h,1)):(h=pt(b),h.c(),w(h,1),h.m(e,null)),(!g||C&1)&&me(e,"done",b[0].done)},i(b){if(!g){for(let C=0;C<u.length;C+=1)w(m[C]);w(h),g=!0}},o(b){m=m.filter(Boolean);for(let C=0;C<m.length;C+=1)E(m[C]);E(h),g=!1},d(b){b&&k(e),He(m,b),h&&h.d(),f=!1,H(d)}}}function zn(t,e,n){let{todo:i}=e,o=!1;const r=d=>{confirm("remove todo permanently ?")&&de.remove(d)},s=async d=>{d.done=!d.done,de.set(d)},l=async d=>{try{Ft(d.object)}catch{ne("cant add tag (See Console)","alert",2)}},a=async d=>{if(confirm("remove Tag?")){const u=d.detail;n(0,i.tags=i.tags.filter(m=>m!=u.object.key),i),de.set(i)}},c=async d=>{console.log(d);const u=d.detail;i.tags.indexOf(u.object.key)==-1&&(i.tags.push(u.object.key),de.set(i)),n(1,o=!1)};function _(){i.done=this.checked,n(0,i)}const p=()=>s(i),y=()=>r(i),g=d=>l(d.detail),f=()=>n(1,o=!o);return t.$$set=d=>{"todo"in d&&n(0,i=d.todo)},[i,o,r,s,l,a,c,_,p,y,g,f]}class qt extends G{constructor(e){super(),Y(this,e,zn,Gn,V,{todo:0})}}function ht(t,e,n){const i=t.slice();return i[6]=e[n],i}function mt(t,e,n){const i=t.slice();return i[6]=e[n],i}function yt(t,e){let n,i,o,r,s,l=R,a;return i=new qt({props:{todo:e[6]}}),{key:t,first:null,c(){n=T("div"),F(i.$$.fragment),this.first=n},m(c,_){$(c,n,_),B(i,n,null),a=!0},p(c,_){e=c;const p={};_&2&&(p.todo=e[6]),i.$set(p)},r(){s=n.getBoundingClientRect()},f(){Ot(n),l(),Ye(n,s)},a(){l(),l=Ct(n,s,Dt,{duration:Kt})},i(c){a||(w(i.$$.fragment,c),q(()=>{r&&r.end(1),o=Nt(n,e[3],{key:e[6].id}),o.start()}),a=!0)},o(c){E(i.$$.fragment,c),o&&o.invalidate(),r=Pt(n,e[2],{key:e[6].id}),a=!1},d(c){c&&k(n),W(i),c&&r&&r.end()}}}function bt(t,e){let n,i,o,r,s,l,a=R,c;return i=new qt({props:{todo:e[6]}}),{key:t,first:null,c(){n=T("div"),F(i.$$.fragment),o=P(),this.first=n},m(_,p){$(_,n,p),B(i,n,null),S(n,o),c=!0},p(_,p){e=_;const y={};p&1&&(y.todo=e[6]),i.$set(y)},r(){l=n.getBoundingClientRect()},f(){Ot(n),a(),Ye(n,l)},a(){a(),a=Ct(n,l,Dt,{duration:Kt})},i(_){c||(w(i.$$.fragment,_),q(()=>{s&&s.end(1),r=Nt(n,e[3],{key:e[6].id}),r.start()}),c=!0)},o(_){E(i.$$.fragment,_),r&&r.invalidate(),s=Pt(n,e[2],{key:e[6].id}),c=!1},d(_){_&&k(n),W(i),_&&s&&s.end()}}}function Jn(t){let e=[],n=new Map,i,o,r,s=[],l=new Map,a,c,_=t[1];const p=f=>f[6].id;for(let f=0;f<_.length;f+=1){let d=mt(t,_,f),u=p(d);n.set(u,e[f]=yt(u,d))}let y=t[0];const g=f=>f[6].id;for(let f=0;f<y.length;f+=1){let d=ht(t,y,f),u=g(d);l.set(u,s[f]=bt(u,d))}return{c(){for(let f=0;f<e.length;f+=1)e[f].c();i=P(),o=T("h3"),o.textContent="Done:",r=P();for(let f=0;f<s.length;f+=1)s[f].c();a=le()},m(f,d){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(f,d);$(f,i,d),$(f,o,d),$(f,r,d);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(f,d);$(f,a,d),c=!0},p(f,[d]){if(d&2){_=f[1],K();for(let u=0;u<e.length;u+=1)e[u].r();e=De(e,d,p,1,f,_,n,i.parentNode,et,yt,i,mt);for(let u=0;u<e.length;u+=1)e[u].a();U()}if(d&1){y=f[0],K();for(let u=0;u<s.length;u+=1)s[u].r();s=De(s,d,g,1,f,y,l,a.parentNode,et,bt,a,ht);for(let u=0;u<s.length;u+=1)s[u].a();U()}},i(f){if(!c){for(let d=0;d<_.length;d+=1)w(e[d]);for(let d=0;d<y.length;d+=1)w(s[d]);c=!0}},o(f){for(let d=0;d<e.length;d+=1)E(e[d]);for(let d=0;d<s.length;d+=1)E(s[d]);c=!1},d(f){for(let d=0;d<e.length;d+=1)e[d].d(f);f&&k(i),f&&k(o),f&&k(r);for(let d=0;d<s.length;d+=1)s[d].d(f);f&&k(a)}}}const Kt=250;function xn(t,e,n){let i,o,r,s;ee(t,Te,c=>n(5,s=c));const[l,a]=bn({fallback:J});return t.$$.update=()=>{t.$$.dirty&32&&n(4,i=[...s]),t.$$.dirty&16&&n(1,o=i.filter(c=>!c.done)),t.$$.dirty&16&&n(0,r=i.filter(c=>c.done))},[r,o,l,a,i,s]}class Qn extends G{constructor(e){super(),Y(this,e,xn,Jn,V,{})}}function vt(t){let e,n,i,o,r,s,l;return{c(){e=T("article"),n=oe(`App has been updated. Please reopen the app or 
    `),i=T("a"),i.textContent="reload",v(i,"href","#"),v(e,"class","ViteUpdatePrompt svelte-i3j72")},m(a,c){$(a,e,c),S(e,n),S(e,i),r=!0,s||(l=M(i,"click",z(function(){ie(t[0])&&t[0].apply(this,arguments)})),s=!0)},p(a,c){t=a},i(a){r||(q(()=>{o||(o=Z(e,J,{},!0)),o.run(1)}),r=!0)},o(a){o||(o=Z(e,J,{},!1)),o.run(0),r=!1},d(a){a&&k(e),a&&o&&o.end(),s=!1,l()}}}function Xn(t){let e,n,i=t[0]&&vt(t);return{c(){i&&i.c(),e=le()},m(o,r){i&&i.m(o,r),$(o,e,r),n=!0},p(o,[r]){o[0]?i?(i.p(o,r),r&1&&w(i,1)):(i=vt(o),i.c(),w(i,1),i.m(e.parentNode,e)):i&&(K(),E(i,1,1,()=>{i=null}),U())},i(o){n||(w(i),n=!0)},o(o){E(i),n=!1},d(o){i&&i.d(o),o&&k(e)}}}const Ut=$e();function Zn(t,e,n){let i,o=R;return ee(t,Ut,r=>n(0,i=r)),t.$$.on_destroy.push(()=>o()),[i]}class ei extends G{constructor(e){super(),Y(this,e,Zn,Xn,V,{})}}function ti(t){let e,n,i,o,r,s,l,a,c,_,p,y,g,f,d,u,m,N;return r=new $n({}),l=new Un({}),p=new Yn({}),g=new Qn({}),d=new mn({}),m=new ei({}),{c(){e=T("base"),n=P(),i=T("nav"),i.innerHTML=`<ul><li><strong>HelloWorld Todo&#39;s</strong></li></ul> 
    <ul><li><a href="https://github.com/Rocco-Gossmann/SvelteHelloWorldTodos" target="_blank">GitHub</a></li></ul>`,o=P(),F(r.$$.fragment),s=P(),F(l.$$.fragment),a=P(),c=T("h1"),c.textContent="Todos",_=P(),F(p.$$.fragment),y=P(),F(g.$$.fragment),f=P(),F(d.$$.fragment),u=P(),F(m.$$.fragment),v(e,"href","/SvelteHelloWorldTodos"),v(c,"class","text-center")},m(h,b){S(document.head,e),$(h,n,b),$(h,i,b),$(h,o,b),B(r,h,b),$(h,s,b),B(l,h,b),$(h,a,b),$(h,c,b),$(h,_,b),B(p,h,b),$(h,y,b),B(g,h,b),$(h,f,b),B(d,h,b),$(h,u,b),B(m,h,b),N=!0},p:R,i(h){N||(w(r.$$.fragment,h),w(l.$$.fragment,h),w(p.$$.fragment,h),w(g.$$.fragment,h),w(d.$$.fragment,h),w(m.$$.fragment,h),N=!0)},o(h){E(r.$$.fragment,h),E(l.$$.fragment,h),E(p.$$.fragment,h),E(g.$$.fragment,h),E(d.$$.fragment,h),E(m.$$.fragment,h),N=!1},d(h){k(e),h&&k(n),h&&k(i),h&&k(o),W(r,h),h&&k(s),W(l,h),h&&k(a),h&&k(c),h&&k(_),W(p,h),h&&k(y),W(g,h),h&&k(f),W(d,h),h&&k(u),W(m,h)}}}class ni extends G{constructor(e){super(),Y(this,e,null,ti,V,{})}}const ii="modulepreload",oi=function(t){return"/SvelteHelloWorldTodos/"+t},kt={},li=function(e,n,i){if(!n||n.length===0)return e();const o=document.getElementsByTagName("link");return Promise.all(n.map(r=>{if(r=oi(r),r in kt)return;kt[r]=!0;const s=r.endsWith(".css"),l=s?'[rel="stylesheet"]':"";if(!!i)for(let _=o.length-1;_>=0;_--){const p=o[_];if(p.href===r&&(!s||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${l}`))return;const c=document.createElement("link");if(c.rel=s?"stylesheet":ii,s||(c.as="script",c.crossOrigin=""),c.href=r,document.head.appendChild(c),s)return new Promise((_,p)=>{c.addEventListener("load",_),c.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>e())};function si(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:i,onRegistered:o,onRegisteredSW:r,onRegisterError:s}=t;let l,a,c;const _=async(y=!0)=>{await a,await(c==null?void 0:c())};async function p(){if("serviceWorker"in navigator){const{Workbox:y}=await li(()=>import("./workbox-window.prod.es5-295a6886.js"),[]);l=new y("/SvelteHelloWorldTodos/sw.js",{scope:"/SvelteHelloWorldTodos/",type:"classic"}),c=async()=>{await(l==null?void 0:l.messageSkipWaiting())};{let g=!1;const f=()=>{g=!0,l==null||l.addEventListener("controlling",d=>{d.isUpdate&&window.location.reload()}),n==null||n()};l.addEventListener("installed",d=>{typeof d.isUpdate>"u"?typeof d.isExternal<"u"?d.isExternal?f():!g&&(i==null||i()):d.isExternal?window.location.reload():!g&&(i==null||i()):d.isUpdate||i==null||i()}),l.addEventListener("waiting",f),l.addEventListener("externalwaiting",f)}l.register({immediate:e}).then(g=>{r?r("/SvelteHelloWorldTodos/sw.js",g):o==null||o(g)}).catch(g=>{s==null||s(g)})}}return a=p(),_}new ni({target:document.getElementById("app")});const ri=si({onNeedRefresh(){Ut.set(ri)}});
