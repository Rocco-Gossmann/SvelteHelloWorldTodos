var ge=Object.defineProperty;var me=(e,t,n)=>t in e?ge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var mt=(e,t,n)=>(me(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(i){if(i.ep)return;i.ep=!0;const c=n(i);fetch(i.href,c)}})();function S(){}const St=e=>e;function zt(e,t){for(const n in t)e[n]=t[n];return e}function re(e){return e()}function Ht(){return Object.create(null)}function I(e){e.forEach(re)}function H(e){return typeof e=="function"}function W(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function ye(e){return Object.keys(e).length===0}function be(e,...t){if(e==null)return S;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function ut(e,t,n){e.$$.on_destroy.push(be(t,n))}function Wt(e){return e??""}function yt(e,t,n){return e.set(n),t}const ie=typeof window<"u";let Ot=ie?()=>window.performance.now():()=>Date.now(),It=ie?e=>requestAnimationFrame(e):S;const Z=new Set;function oe(e){Z.forEach(t=>{t.c(e)||(Z.delete(t),t.f())}),Z.size!==0&&It(oe)}function Et(e){let t;return Z.size===0&&It(oe),{promise:new Promise(n=>{Z.add(t={c:e,f:n})}),abort(){Z.delete(t)}}}function k(e,t){e.appendChild(t)}function se(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function we(e){const t=v("style");return $e(se(e),t),t.sheet}function $e(e,t){return k(e.head||e,t),t.sheet}function T(e,t,n){e.insertBefore(t,n||null)}function $(e){e.parentNode&&e.parentNode.removeChild(e)}function ke(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function v(e){return document.createElement(e)}function V(e){return document.createTextNode(e)}function C(){return V(" ")}function Rt(){return V("")}function D(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function rt(e){return function(t){return t.preventDefault(),e.call(this,t)}}function w(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function ve(e){return Array.from(e.childNodes)}function Ct(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function kt(e,t){e.value=t??""}function q(e,t,n){e.classList[n?"add":"remove"](t)}function le(e,t,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,r,t),i}const vt=new Map;let Tt=0;function Te(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function Se(e,t){const n={stylesheet:we(t),rules:{}};return vt.set(e,n),n}function ft(e,t,n,r,i,c,l,o=0){const s=16.666/r;let u=`{
`;for(let d=0;d<=1;d+=s){const p=t+(n-t)*c(d);u+=d*100+`%{${l(p,1-p)}}
`}const _=u+`100% {${l(n,1-n)}}
}`,g=`__svelte_${Te(_)}_${o}`,m=se(e),{stylesheet:h,rules:f}=vt.get(m)||Se(m,e);f[g]||(f[g]=!0,h.insertRule(`@keyframes ${g} ${_}`,h.cssRules.length));const a=e.style.animation||"";return e.style.animation=`${a?`${a}, `:""}${g} ${r}ms linear ${i}ms 1 both`,Tt+=1,g}function dt(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?c=>c.indexOf(t)<0:c=>c.indexOf("__svelte")===-1),i=n.length-r.length;i&&(e.style.animation=r.join(", "),Tt-=i,Tt||Oe())}function Oe(){It(()=>{Tt||(vt.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&$(t)}),vt.clear())})}function ce(e,t,n,r){if(!t)return S;const i=e.getBoundingClientRect();if(t.left===i.left&&t.right===i.right&&t.top===i.top&&t.bottom===i.bottom)return S;const{delay:c=0,duration:l=300,easing:o=St,start:s=Ot()+c,end:u=s+l,tick:_=S,css:g}=n(e,{from:t,to:i},r);let m=!0,h=!1,f;function a(){g&&(f=ft(e,0,1,l,c,o,g)),c||(h=!0)}function d(){g&&dt(e,f),m=!1}return Et(p=>{if(!h&&p>=s&&(h=!0),h&&p>=u&&(_(1,0),d()),!m)return!1;if(h){const y=p-s,O=0+1*o(y/l);_(O,1-O)}return!0}),a(),_(0,1),d}function ae(e){const t=getComputedStyle(e);if(t.position!=="absolute"&&t.position!=="fixed"){const{width:n,height:r}=t,i=e.getBoundingClientRect();e.style.position="absolute",e.style.width=n,e.style.height=r,At(e,i)}}function At(e,t){const n=e.getBoundingClientRect();if(t.left!==n.left||t.top!==n.top){const r=getComputedStyle(e),i=r.transform==="none"?"":r.transform;e.style.transform=`${i} translate(${t.left-n.left}px, ${t.top-n.top}px)`}}let pt;function at(e){pt=e}function Ee(){if(!pt)throw new Error("Function called outside component initialization");return pt}function Ce(){const e=Ee();return(t,n,{cancelable:r=!1}={})=>{const i=e.$$.callbacks[t];if(i){const c=le(t,n,{cancelable:r});return i.slice().forEach(l=>{l.call(e,c)}),!c.defaultPrevented}return!0}}const U=[],Vt=[];let tt=[];const Jt=[],Ne=Promise.resolve();let Lt=!1;function Me(){Lt||(Lt=!0,Ne.then(ue))}function R(e){tt.push(e)}const Mt=new Set;let G=0;function ue(){if(G!==0)return;const e=pt;do{try{for(;G<U.length;){const t=U[G];G++,at(t),Le(t.$$)}}catch(t){throw U.length=0,G=0,t}for(at(null),U.length=0,G=0;Vt.length;)Vt.pop()();for(let t=0;t<tt.length;t+=1){const n=tt[t];Mt.has(n)||(Mt.add(n),n())}tt.length=0}while(U.length);for(;Jt.length;)Jt.pop()();Lt=!1,Mt.clear(),at(e)}function Le(e){if(e.fragment!==null){e.update(),I(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(R)}}function Be(e){const t=[],n=[];tt.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),tt=t}let st;function Ft(){return st||(st=Promise.resolve(),st.then(()=>{st=null})),st}function j(e,t,n){e.dispatchEvent(le(`${t?"intro":"outro"}${n}`))}const bt=new Set;let F;function et(){F={r:0,c:[],p:F}}function nt(){F.r||I(F.c),F=F.p}function L(e,t){e&&e.i&&(bt.delete(e),e.i(t))}function B(e,t,n,r){if(e&&e.o){if(bt.has(e))return;bt.add(e),F.c.push(()=>{bt.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}const qt={duration:0};function fe(e,t,n){const r={direction:"in"};let i=t(e,n,r),c=!1,l,o,s=0;function u(){l&&dt(e,l)}function _(){const{delay:m=0,duration:h=300,easing:f=St,tick:a=S,css:d}=i||qt;d&&(l=ft(e,0,1,h,m,f,d,s++)),a(0,1);const p=Ot()+m,y=p+h;o&&o.abort(),c=!0,R(()=>j(e,!0,"start")),o=Et(O=>{if(c){if(O>=y)return a(1,0),j(e,!0,"end"),u(),c=!1;if(O>=p){const N=f((O-p)/h);a(N,1-N)}}return c})}let g=!1;return{start(){g||(g=!0,dt(e),H(i)?(i=i(r),Ft().then(_)):_())},invalidate(){g=!1},end(){c&&(u(),c=!1)}}}function de(e,t,n){const r={direction:"out"};let i=t(e,n,r),c=!0,l;const o=F;o.r+=1;function s(){const{delay:u=0,duration:_=300,easing:g=St,tick:m=S,css:h}=i||qt;h&&(l=ft(e,1,0,_,u,g,h));const f=Ot()+u,a=f+_;R(()=>j(e,!1,"start")),Et(d=>{if(c){if(d>=a)return m(0,1),j(e,!1,"end"),--o.r||I(o.c),!1;if(d>=f){const p=g((d-f)/_);m(1-p,p)}}return c})}return H(i)?Ft().then(()=>{i=i(r),s()}):s(),{end(u){u&&i.tick&&i.tick(1,0),c&&(l&&dt(e,l),c=!1)}}}function Q(e,t,n,r){const i={direction:"both"};let c=t(e,n,i),l=r?0:1,o=null,s=null,u=null;function _(){u&&dt(e,u)}function g(h,f){const a=h.b-l;return f*=Math.abs(a),{a:l,b:h.b,d:a,duration:f,start:h.start,end:h.start+f,group:h.group}}function m(h){const{delay:f=0,duration:a=300,easing:d=St,tick:p=S,css:y}=c||qt,O={start:Ot()+f,b:h};h||(O.group=F,F.r+=1),o||s?s=O:(y&&(_(),u=ft(e,l,h,a,f,d,y)),h&&p(0,1),o=g(O,a),R(()=>j(e,h,"start")),Et(N=>{if(s&&N>s.start&&(o=g(s,a),s=null,j(e,o.b,"start"),y&&(_(),u=ft(e,l,o.b,o.duration,0,d,c.css))),o){if(N>=o.end)p(l=o.b,1-l),j(e,o.b,"end"),s||(o.b?_():--o.group.r||I(o.group.c)),o=null;else if(N>=o.start){const M=N-o.start;l=o.a+o.d*d(M/o.duration),p(l,1-l)}}return!!(o||s)}))}return{run(h){H(c)?Ft().then(()=>{c=c(i),m(h)}):m(h)},end(){_(),o=s=null}}}function pe(e,t){B(e,1,1,()=>{t.delete(e.key)})}function Gt(e,t){e.f(),pe(e,t)}function Bt(e,t,n,r,i,c,l,o,s,u,_,g){let m=e.length,h=c.length,f=m;const a={};for(;f--;)a[e[f].key]=f;const d=[],p=new Map,y=new Map,O=[];for(f=h;f--;){const b=g(i,c,f),P=n(b);let A=l.get(P);A?r&&O.push(()=>A.p(b,t)):(A=u(P,b),A.c()),p.set(P,d[f]=A),P in a&&y.set(P,Math.abs(f-a[P]))}const N=new Set,M=new Set;function E(b){L(b,1),b.m(o,_),l.set(b.key,b),_=b.first,h--}for(;m&&h;){const b=d[h-1],P=e[m-1],A=b.key,gt=P.key;b===P?(_=b.first,m--,h--):p.has(gt)?!l.has(A)||N.has(A)?E(b):M.has(gt)?m--:y.get(A)>y.get(gt)?(M.add(A),E(b)):(N.add(gt),m--):(s(P,l),m--)}for(;m--;){const b=e[m];p.has(b.key)||s(b,l)}for(;h;)E(d[h-1]);return I(O),d}function lt(e){e&&e.c()}function X(e,t,n,r){const{fragment:i,after_update:c}=e.$$;i&&i.m(t,n),r||R(()=>{const l=e.$$.on_mount.map(re).filter(H);e.$$.on_destroy?e.$$.on_destroy.push(...l):I(l),e.$$.on_mount=[]}),c.forEach(R)}function Y(e,t){const n=e.$$;n.fragment!==null&&(Be(n.after_update),I(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Pe(e,t){e.$$.dirty[0]===-1&&(U.push(e),Me(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function it(e,t,n,r,i,c,l,o=[-1]){const s=pt;at(e);const u=e.$$={fragment:null,ctx:[],props:c,update:S,not_equal:i,bound:Ht(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(s?s.$$.context:[])),callbacks:Ht(),dirty:o,skip_bound:!1,root:t.target||s.$$.root};l&&l(u.root);let _=!1;if(u.ctx=n?n(e,t.props||{},(g,m,...h)=>{const f=h.length?h[0]:m;return u.ctx&&i(u.ctx[g],u.ctx[g]=f)&&(!u.skip_bound&&u.bound[g]&&u.bound[g](f),_&&Pe(e,g)),m}):[],u.update(),_=!0,I(u.before_update),u.fragment=r?r(u.ctx):!1,t.target){if(t.hydrate){const g=ve(t.target);u.fragment&&u.fragment.l(g),g.forEach($)}else u.fragment&&u.fragment.c();t.intro&&L(e.$$.fragment),X(e,t.target,t.anchor,t.customElement),ue()}at(s)}class ot{$destroy(){Y(this,1),this.$destroy=S}$on(t,n){if(!H(n))return S;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!ye(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const K=[];function xt(e,t=S){let n;const r=new Set;function i(o){if(W(e,o)&&(e=o,n)){const s=!K.length;for(const u of r)u[1](),K.push(u,e);if(s){for(let u=0;u<K.length;u+=2)K[u][0](K[u+1]);K.length=0}}}function c(o){i(o(e))}function l(o,s=S){const u=[o,s];return r.add(u),r.size===1&&(n=t(i)||S),o(e),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:i,update:c,subscribe:l}}function De(e){return typeof e=="object"}function Pt(e){return e instanceof Array}function jt(e){const t=e-1;return t*t*t+1}function Ie(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function x(e,{delay:t=0,duration:n=400,easing:r=jt,axis:i="y"}={}){const c=getComputedStyle(e),l=+c.opacity,o=i==="y"?"height":"width",s=parseFloat(c[o]),u=i==="y"?["top","bottom"]:["left","right"],_=u.map(p=>`${p[0].toUpperCase()}${p.slice(1)}`),g=parseFloat(c[`padding${_[0]}`]),m=parseFloat(c[`padding${_[1]}`]),h=parseFloat(c[`margin${_[0]}`]),f=parseFloat(c[`margin${_[1]}`]),a=parseFloat(c[`border${_[0]}Width`]),d=parseFloat(c[`border${_[1]}Width`]);return{delay:t,duration:n,easing:r,css:p=>`overflow: hidden;opacity: ${Math.min(p*20,1)*l};${o}: ${p*s}px;padding-${u[0]}: ${p*g}px;padding-${u[1]}: ${p*m}px;margin-${u[0]}: ${p*h}px;margin-${u[1]}: ${p*f}px;border-${u[0]}-width: ${p*a}px;border-${u[1]}-width: ${p*d}px;`}}function Re(e){var{fallback:t}=e,n=Ie(e,["fallback"]);const r=new Map,i=new Map;function c(o,s,u){const{delay:_=0,duration:g=b=>Math.sqrt(b)*30,easing:m=jt}=zt(zt({},n),u),h=o.getBoundingClientRect(),f=s.getBoundingClientRect(),a=h.left-f.left,d=h.top-f.top,p=h.width/f.width,y=h.height/f.height,O=Math.sqrt(a*a+d*d),N=getComputedStyle(s),M=N.transform==="none"?"":N.transform,E=+N.opacity;return{delay:_,duration:H(g)?g(O):g,easing:m,css:(b,P)=>`
				opacity: ${b*E};
				transform-origin: top left;
				transform: ${M} translate(${P*a}px,${P*d}px) scale(${b+(1-b)*p}, ${b+(1-b)*y});
			`}}function l(o,s,u){return(_,g)=>(o.set(g.key,_),()=>{if(s.has(g.key)){const m=s.get(g.key);return s.delete(g.key),c(m,_,g)}return o.delete(g.key),t&&t(_,g,u)})}return[l(i,r,!1),l(r,i,!0)]}function Ae(e){let t,n,r,i,c,l;return{c(){t=v("span"),n=V(e[0]),r=C(),i=v("a"),i.textContent=" ",w(i,"href","#"),w(i,"class","fa fa-times svelte-1bxmewd"),w(t,"class","svelte-1bxmewd")},m(o,s){T(o,t,s),k(t,n),k(t,r),k(t,i),c||(l=D(i,"click",rt(e[2])),c=!0)},p(o,[s]){s&1&&Ct(n,o[0])},i:S,o:S,d(o){o&&$(t),c=!1,l()}}}function Fe(e,t,n){let{value:r=""}=t;const i=Ce(),c=()=>i("remove");return e.$$set=l=>{"value"in l&&n(0,r=l.value)},[r,i,c]}class qe extends ot{constructor(t){super(),it(this,t,Fe,Ae,W,{value:0})}}const J=new Promise((e,t)=>{if(window!=null&&window.Dexie){const n=new window.Dexie("helloworldtodos",{});n.version(2).stores({tags:"&key",todos:"++id,*tags"}),e(n)}else t(new Error("Dexie is not loaded in window"))});async function xe(){return(await J).tags}async function je(e){const n={key:Nt(e),value:e};return(await xe()).put(n),n}function Nt(e){return e.trim().toLowerCase()}function ze(e){const t=Nt(e);return J.then(n=>n.tags.where("key").equals(t).first()).then(n=>{if(n)return n;throw new Error("no tag for value "+e)})}async function He(e){const t=Nt(e),n=await J,r=await n.tags(t).first();return r&&await n.tags.delete(t),await n.todos.where("tags").equals(t).each(i=>(i.tags=i.tags.filter(c=>c!=t),n.todos.put(i))),r}const wt={getKey:Nt,findByValue:ze,insert:je,drop:He};class We{constructor(){mt(this,"subs",new Set);mt(this,"subscribe",t=>(t([]),(async()=>t(await this._dat()||[]))(),this.subs.add(t),()=>{this.subs.delete(t)}));mt(this,"_dat",()=>J.then(t=>$t.length?t.todos.where("tags").anyOf($t).distinct().filter(n=>{const r=$t.reduce((i,c,l)=>i&&n.tags.indexOf(c)!=-1,!0);return console.log("ret",r),r}).toArray():t.todos.toArray()))}async refresh(){const t=await this._dat()||[];this.subs.forEach(n=>n(t))}}function Ve(e){return De(e)&&typeof e.description=="string"&&typeof e.done=="boolean"}const ht=new We;let $t=[];async function Je(e,t=!0){await(await J).table("todos").put(e),t&&await ht.refresh()}async function Ge(e,t=!0){await(await J).table("todos").delete(e.id),t&&await ht.refresh()}async function Ke(e,t=!0){$t=e,t&&await ht.refresh()}const _t={todos:ht,set:Je,remove:Ge,filter:Ke};if(localStorage){const e="rawTodos";let t;try{t=JSON.parse(localStorage.getItem(e))}catch(n){localStorage.removeItem(e),console.error("Error while initializing Todos: ",n)}Pt(t)&&(t=t.filter(Ve),t.length&&J.then(n=>n.table("todos").bulkPut(t)).then(()=>{localStorage.removeItem(e)}))}function Kt(e,t,n){const r=e.slice();return r[3]=t[n],r}function Ut(e,t){let n,r=t[3].msg+"",i,c,l,o,s;return{key:e,first:null,c(){n=v("article"),i=V(r),c=C(),w(n,"class",l=Wt(t[3].cssClass)+" svelte-lwkk25"),this.first=n},m(u,_){T(u,n,_),k(n,i),k(n,c),s=!0},p(u,_){t=u,(!s||_&1)&&r!==(r=t[3].msg+"")&&Ct(i,r),(!s||_&1&&l!==(l=Wt(t[3].cssClass)+" svelte-lwkk25"))&&w(n,"class",l)},i(u){s||(R(()=>{o||(o=Q(n,x,{duration:250},!0)),o.run(1)}),s=!0)},o(u){o||(o=Q(n,x,{duration:250},!1)),o.run(0),s=!1},d(u){u&&$(n),u&&o&&o.end()}}}function Ue(e){let t,n=[],r=new Map,i,c=e[0];const l=o=>o[3].id;for(let o=0;o<c.length;o+=1){let s=Kt(e,c,o),u=l(s);r.set(u,n[o]=Ut(u,s))}return{c(){t=v("div");for(let o=0;o<n.length;o+=1)n[o].c();w(t,"class","toastcontainer svelte-lwkk25")},m(o,s){T(o,t,s);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(t,null);i=!0},p(o,[s]){s&1&&(c=o[0],et(),n=Bt(n,s,l,1,o,c,r,t,pe,Ut,null,Kt),nt())},i(o){if(!i){for(let s=0;s<c.length;s+=1)L(n[s]);i=!0}},o(o){for(let s=0;s<n.length;s+=1)B(n[s]);i=!1},d(o){o&&$(t);for(let s=0;s<n.length;s+=1)n[s].d()}}}let Qe=1;const Dt=xt([]);function _e(e,t,n=4){Dt.update(r=>(r.push({id:Qe++,msg:e,cssClass:t,timeout:n}),r))}function Xe(e,t,n){let r;ut(e,Dt,l=>n(0,r=l));let i;function c(){!i&&r.length&&(i=window.setTimeout(()=>{r.forEach(l=>l.timeout--),yt(Dt,r=r.filter(l=>l.timeout>0),r),i=void 0,c()},1e3))}return e.$$.update=()=>{e.$$.dirty&1&&r.length&&c()},[r]}class Ye extends ot{constructor(t){super(),it(this,t,Xe,Ue,W,{})}}function Qt(e,t,n){const r=e.slice();return r[9]=t[n],r}function Xt(e){let t,n,r,i,c,l,o,s,u,_,g,m,h;const f=[tn,Ze],a=[];function d(p,y){return p[2].length?0:1}return s=d(e),u=a[s]=f[s](e),{c(){t=v("form"),n=v("input"),r=C(),i=v("button"),l=C(),o=v("section"),u.c(),w(n,"type","text"),w(i,"type","submit"),w(i,"class","fa fa-plus-circle svelte-uvtiyy"),w(t,"class","taginput svelte-uvtiyy"),q(t,"open",e[0]),w(o,"class","taglist svelte-uvtiyy"),q(o,"open",e[0])},m(p,y){T(p,t,y),k(t,n),kt(n,e[1]),k(t,r),k(t,i),T(p,l,y),T(p,o,y),a[s].m(o,null),g=!0,m||(h=[D(n,"input",e[7]),D(t,"submit",rt(e[4]))],m=!0)},p(p,y){y&2&&n.value!==p[1]&&kt(n,p[1]),(!g||y&1)&&q(t,"open",p[0]);let O=s;s=d(p),s===O?a[s].p(p,y):(et(),B(a[O],1,1,()=>{a[O]=null}),nt(),u=a[s],u?u.p(p,y):(u=a[s]=f[s](p),u.c()),L(u,1),u.m(o,null)),(!g||y&1)&&q(o,"open",p[0])},i(p){g||(p&&R(()=>{c||(c=Q(t,x,{},!0)),c.run(1)}),L(u),p&&R(()=>{_||(_=Q(o,x,{},!0)),_.run(1)}),g=!0)},o(p){p&&(c||(c=Q(t,x,{},!1)),c.run(0)),B(u),p&&(_||(_=Q(o,x,{},!1)),_.run(0)),g=!1},d(p){p&&$(t),p&&c&&c.end(),p&&$(l),p&&$(o),a[s].d(),p&&_&&_.end(),m=!1,I(h)}}}function Ze(e){let t;return{c(){t=V("No Tags yet")},m(n,r){T(n,t,r)},p:S,i:S,o:S,d(n){n&&$(t)}}}function tn(e){let t,n,r=e[3],i=[];for(let l=0;l<r.length;l+=1)i[l]=Yt(Qt(e,r,l));const c=l=>B(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();t=Rt()},m(l,o){for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(l,o);T(l,t,o),n=!0},p(l,o){if(o&40){r=l[3];let s;for(s=0;s<r.length;s+=1){const u=Qt(l,r,s);i[s]?(i[s].p(u,o),L(i[s],1)):(i[s]=Yt(u),i[s].c(),L(i[s],1),i[s].m(t.parentNode,t))}for(et(),s=r.length;s<i.length;s+=1)c(s);nt()}},i(l){if(!n){for(let o=0;o<r.length;o+=1)L(i[o]);n=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)B(i[o]);n=!1},d(l){ke(i,l),l&&$(t)}}}function Yt(e){let t,n;function r(){return e[8](e[9])}return t=new qe({props:{value:e[9]}}),t.$on("remove",r),{c(){lt(t.$$.fragment)},m(i,c){X(t,i,c),n=!0},p(i,c){e=i;const l={};c&8&&(l.value=e[9]),t.$set(l)},i(i){n||(L(t.$$.fragment,i),n=!0)},o(i){B(t.$$.fragment,i),n=!1},d(i){Y(t,i)}}}function en(e){let t,n,r,i,c,l,o=e[0]&&Xt(e);return{c(){t=v("a"),t.textContent="Tags",n=C(),o&&o.c(),r=Rt(),w(t,"role","button"),w(t,"href","#"),w(t,"class","svelte-uvtiyy")},m(s,u){T(s,t,u),T(s,n,u),o&&o.m(s,u),T(s,r,u),i=!0,c||(l=D(t,"click",rt(e[6])),c=!0)},p(s,[u]){s[0]?o?(o.p(s,u),u&1&&L(o,1)):(o=Xt(s),o.c(),L(o,1),o.m(r.parentNode,r)):o&&(et(),B(o,1,1,()=>{o=null}),nt())},i(s){i||(L(o),i=!0)},o(s){B(o),i=!1},d(s){s&&$(t),s&&$(n),o&&o.d(s),s&&$(r),c=!1,l()}}}const z=xt([]),ct=xt([]);try{let e=localStorage.getItem("tagfilter");if(e&&(e=JSON.parse(e)),Pt(e)){z.set(e);const t=[];(async()=>{let n=await Promise.all(e.map(r=>wt.findByValue(r).catch(i=>{console.warn(`tag '${r}' does not exist`),t.push(r)})));t.forEach(r=>z.update(i=>i.filter(c=>c!=r))),Pt(n)&&(n=n.filter(r=>typeof r<"u"),ct.set(n.map(r=>{if(r)return r.value})))})()}}catch{}z.subscribe(e=>{localStorage.setItem("tagfilter",JSON.stringify(e))});function nn(e,t,n){let r,i=S,c,l=S;ut(e,z,f=>n(2,r=f)),ut(e,ct,f=>n(3,c=f)),e.$$.on_destroy.push(()=>i()),e.$$.on_destroy.push(()=>l());let o=r.length>0,s="";const u=async()=>{let f;try{f=await wt.findByValue(s)}catch{f=await wt.insert(s)}f?(r.push(f.key),c.push(f.value),z.set(r),ct.set(c),_t.filter(r),n(1,s="")):_e("could not add tag","error",3e3)},_=async f=>{yt(ct,c=r.filter(d=>d!=f),c);const a=await wt.findByValue(f);a&&(yt(z,r=r.filter(d=>d!=a.key),r),yt(ct,c=r.filter(d=>d!=a.value),c)),_t.filter(r)},g=()=>n(0,o=!o);function m(){s=this.value,n(1,s)}return[o,s,r,c,u,_,g,m,f=>_(f)]}class rn extends ot{constructor(t){super(),it(this,t,nn,en,W,{})}}function on(e){let t,n,r,i,c,l,o;return{c(){t=v("div"),n=v("form"),r=v("input"),i=C(),c=v("button"),w(r,"tabindex","0"),w(r,"type","text"),w(c,"type","submit"),w(c,"class","fa fa-circle-plus svelte-1telry2"),w(n,"class","svelte-1telry2")},m(s,u){T(s,t,u),k(t,n),k(n,r),kt(r,e[0].description),k(n,i),k(n,c),l||(o=[D(r,"input",e[3]),D(n,"submit",rt(e[1]))],l=!0)},p(s,[u]){u&1&&r.value!==s[0].description&&kt(r,s[0].description)},i:S,o:S,d(s){s&&$(t),l=!1,I(o)}}}function sn(e,t,n){let r;ut(e,z,o=>n(2,r=o));let i={description:"",done:!1,tags:[]};const c=()=>{i.description.trim()==""?_e("noting to add","alert"):(n(0,i.description=i.description.trim(),i),_t.set(i),n(0,i={description:"",done:!1,tags:i.tags}))};function l(){i.description=this.value,n(0,i),n(2,r)}return e.$$.update=()=>{e.$$.dirty&4&&n(0,i.tags=[...r],i)},[i,c,r,l]}class ln extends ot{constructor(t){super(),it(this,t,sn,on,W,{})}}function he(e,{from:t,to:n},r={}){const i=getComputedStyle(e),c=i.transform==="none"?"":i.transform,[l,o]=i.transformOrigin.split(" ").map(parseFloat),s=t.left+t.width*l/n.width-(n.left+l),u=t.top+t.height*o/n.height-(n.top+o),{delay:_=0,duration:g=h=>Math.sqrt(h)*120,easing:m=jt}=r;return{delay:_,duration:H(g)?g(Math.sqrt(s*s+u*u)):g,easing:m,css:(h,f)=>{const a=f*s,d=f*u,p=h+f*t.width/n.width,y=h+f*t.height/n.height;return`transform: ${c} translate(${a}px, ${d}px) scale(${p}, ${y});`}}}function Zt(e,t,n){const r=e.slice();return r[14]=t[n],r[15]=t,r[16]=n,r}function te(e,t,n){const r=e.slice();return r[14]=t[n],r[17]=t,r[18]=n,r}function ee(e,t){let n,r,i,c,l,o=t[14].description+"",s,u,_,g,m,h,f=S,a,d,p;function y(){t[8].call(i,t[17],t[18])}function O(){return t[9](t[14])}function N(){return t[10](t[14])}return{key:e,first:null,c(){n=v("article"),r=v("span"),i=v("input"),c=C(),l=v("span"),s=V(o),u=C(),_=v("button"),w(i,"type","checkbox"),w(l,"class","txt svelte-4lutm4"),w(_,"class","fa fa-trash-can"),w(_,"title","delete"),w(n,"class","svelte-4lutm4"),q(n,"done",t[14].done),this.first=n},m(M,E){T(M,n,E),k(n,r),k(r,i),i.checked=t[14].done,k(n,c),k(n,l),k(l,s),k(n,u),k(n,_),a=!0,d||(p=[D(i,"change",y),D(i,"click",O),D(_,"click",rt(N))],d=!0)},p(M,E){t=M,E&2&&(i.checked=t[14].done),(!a||E&2)&&o!==(o=t[14].description+"")&&Ct(s,o),(!a||E&2)&&q(n,"done",t[14].done)},r(){h=n.getBoundingClientRect()},f(){ae(n),f(),At(n,h)},a(){f(),f=ce(n,h,he,{duration:250})},i(M){a||(M&&R(()=>{m&&m.end(1),g=fe(n,t[5],{key:t[14].id}),g.start()}),a=!0)},o(M){g&&g.invalidate(),m=de(n,t[4],{key:t[14].id}),a=!1},d(M){M&&$(n),M&&m&&m.end(),d=!1,I(p)}}}function ne(e,t){let n,r,i,c,l,o=t[14].description+"",s,u,_,g,m,h,f,a=S,d,p,y;function O(){t[11].call(i,t[15],t[16])}function N(){return t[12](t[14])}function M(){return t[13](t[14])}return{key:e,first:null,c(){n=v("article"),r=v("span"),i=v("input"),c=C(),l=v("span"),s=V(o),u=C(),_=v("button"),g=C(),w(i,"type","checkbox"),w(l,"class","txt svelte-4lutm4"),w(_,"class","fa fa-trash-can"),w(_,"title","delete"),w(n,"class","svelte-4lutm4"),q(n,"done",t[14].done),this.first=n},m(E,b){T(E,n,b),k(n,r),k(r,i),i.checked=t[14].done,k(n,c),k(n,l),k(l,s),k(n,u),k(n,_),k(n,g),d=!0,p||(y=[D(i,"change",O),D(i,"click",N),D(_,"click",rt(M))],p=!0)},p(E,b){t=E,b&1&&(i.checked=t[14].done),(!d||b&1)&&o!==(o=t[14].description+"")&&Ct(s,o),(!d||b&1)&&q(n,"done",t[14].done)},r(){f=n.getBoundingClientRect()},f(){ae(n),a(),At(n,f)},a(){a(),a=ce(n,f,he,{duration:250})},i(E){d||(E&&R(()=>{h&&h.end(1),m=fe(n,t[5],{key:t[14].id}),m.start()}),d=!0)},o(E){m&&m.invalidate(),h=de(n,t[4],{key:t[14].id}),d=!1},d(E){E&&$(n),E&&h&&h.end(),p=!1,I(y)}}}function cn(e){let t=[],n=new Map,r,i,c,l=[],o=new Map,s,u,_=e[1];const g=f=>f[14].id;for(let f=0;f<_.length;f+=1){let a=te(e,_,f),d=g(a);n.set(d,t[f]=ee(d,a))}let m=e[0];const h=f=>f[14].id;for(let f=0;f<m.length;f+=1){let a=Zt(e,m,f),d=h(a);o.set(d,l[f]=ne(d,a))}return{c(){for(let f=0;f<t.length;f+=1)t[f].c();r=C(),i=v("h3"),i.textContent="Done:",c=C();for(let f=0;f<l.length;f+=1)l[f].c();s=Rt()},m(f,a){for(let d=0;d<t.length;d+=1)t[d]&&t[d].m(f,a);T(f,r,a),T(f,i,a),T(f,c,a);for(let d=0;d<l.length;d+=1)l[d]&&l[d].m(f,a);T(f,s,a),u=!0},p(f,[a]){if(a&14){_=f[1],et();for(let d=0;d<t.length;d+=1)t[d].r();t=Bt(t,a,g,1,f,_,n,r.parentNode,Gt,ee,r,te);for(let d=0;d<t.length;d+=1)t[d].a();nt()}if(a&13){m=f[0],et();for(let d=0;d<l.length;d+=1)l[d].r();l=Bt(l,a,h,1,f,m,o,s.parentNode,Gt,ne,s,Zt);for(let d=0;d<l.length;d+=1)l[d].a();nt()}},i(f){if(!u){for(let a=0;a<_.length;a+=1)L(t[a]);for(let a=0;a<m.length;a+=1)L(l[a]);u=!0}},o(f){for(let a=0;a<t.length;a+=1)B(t[a]);for(let a=0;a<l.length;a+=1)B(l[a]);u=!1},d(f){for(let a=0;a<t.length;a+=1)t[a].d(f);f&&$(r),f&&$(i),f&&$(c);for(let a=0;a<l.length;a+=1)l[a].d(f);f&&$(s)}}}function an(e,t,n){let r,i,c,l;ut(e,ht,p=>n(7,l=p));const o=p=>{confirm("remove todo permanently ?")&&_t.remove(p)},s=async p=>{p.done=!p.done,_t.set(p)},[u,_]=Re({fallback:x});function g(p,y){p[y].done=this.checked,n(1,i),n(6,r),n(7,l)}const m=p=>s(p),h=p=>o(p);function f(p,y){p[y].done=this.checked,n(0,c),n(6,r),n(7,l)}const a=p=>s(p),d=p=>o(p);return e.$$.update=()=>{e.$$.dirty&128&&n(6,r=[...l]),e.$$.dirty&64&&n(1,i=r.filter(p=>!p.done)),e.$$.dirty&64&&n(0,c=r.filter(p=>p.done))},[c,i,o,s,u,_,r,l,g,m,h,f,a,d]}class un extends ot{constructor(t){super(),it(this,t,an,cn,W,{})}}function fn(e){let t,n,r,i,c,l,o,s,u,_,g,m,h,f;return c=new Ye({}),o=new rn({}),g=new ln({}),h=new un({}),{c(){t=v("base"),n=C(),r=v("nav"),r.innerHTML=`<ul><li><strong>HelloWorld Todo&#39;s</strong></li></ul> 
    <ul><li><a href="https://github.com/Rocco-Gossmann/SvelteHelloWorldTodos" target="_blank">GitHub</a></li></ul>`,i=C(),lt(c.$$.fragment),l=C(),lt(o.$$.fragment),s=C(),u=v("h1"),u.textContent="Todos",_=C(),lt(g.$$.fragment),m=C(),lt(h.$$.fragment),w(t,"href","/SvelteHelloWorldTodos"),w(u,"class","text-center")},m(a,d){k(document.head,t),T(a,n,d),T(a,r,d),T(a,i,d),X(c,a,d),T(a,l,d),X(o,a,d),T(a,s,d),T(a,u,d),T(a,_,d),X(g,a,d),T(a,m,d),X(h,a,d),f=!0},p:S,i(a){f||(L(c.$$.fragment,a),L(o.$$.fragment,a),L(g.$$.fragment,a),L(h.$$.fragment,a),f=!0)},o(a){B(c.$$.fragment,a),B(o.$$.fragment,a),B(g.$$.fragment,a),B(h.$$.fragment,a),f=!1},d(a){$(t),a&&$(n),a&&$(r),a&&$(i),Y(c,a),a&&$(l),Y(o,a),a&&$(s),a&&$(u),a&&$(_),Y(g,a),a&&$(m),Y(h,a)}}}class dn extends ot{constructor(t){super(),it(this,t,null,fn,W,{})}}new dn({target:document.getElementById("app")});
