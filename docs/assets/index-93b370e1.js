var Ne=Object.defineProperty;var Me=(e,t,n)=>t in e?Ne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var G=(e,t,n)=>(Me(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(i){if(i.ep)return;i.ep=!0;const c=n(i);fetch(i.href,c)}})();function M(){}const Nt=e=>e;function Wt(e,t){for(const n in t)e[n]=t[n];return e}function _e(e){return e()}function Vt(){return Object.create(null)}function D(e){e.forEach(_e)}function tt(e){return typeof e=="function"}function et(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Ae(e){return Object.keys(e).length===0}function Re(e,...t){if(e==null)return M;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function gt(e,t,n){e.$$.on_destroy.push(Re(t,n))}function Jt(e){return e??""}function xt(e,t,n){return e.set(n),t}const pe=typeof window<"u";let Mt=pe?()=>window.performance.now():()=>Date.now(),zt=pe?e=>requestAnimationFrame(e):M;const ct=new Set;function he(e){ct.forEach(t=>{t.c(e)||(ct.delete(t),t.f())}),ct.size!==0&&zt(he)}function At(e){let t;return ct.size===0&&zt(he),{promise:new Promise(n=>{ct.add(t={c:e,f:n})}),abort(){ct.delete(t)}}}function E(e,t){e.appendChild(t)}function ge(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function Pe(e){const t=O("style");return xe(ge(e),t),t.sheet}function xe(e,t){return E(e.head||e,t),t.sheet}function C(e,t,n){e.insertBefore(t,n||null)}function S(e){e.parentNode&&e.parentNode.removeChild(e)}function qt(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function O(e){return document.createElement(e)}function Y(e){return document.createTextNode(e)}function x(){return Y(" ")}function Rt(){return Y("")}function L(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function U(e){return function(t){return t.preventDefault(),e.call(this,t)}}function T(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Be(e){return Array.from(e.childNodes)}function kt(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function Tt(e,t){e.value=t??""}function K(e,t,n){e.classList[n?"add":"remove"](t)}function me(e,t,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,r,t),i}const Et=new Map;let Ot=0;function Le(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function De(e,t){const n={stylesheet:Pe(t),rules:{}};return Et.set(e,n),n}function mt(e,t,n,r,i,c,l,o=0){const s=16.666/r;let a=`{
`;for(let d=0;d<=1;d+=s){const h=t+(n-t)*c(d);a+=d*100+`%{${l(h,1-h)}}
`}const _=a+`100% {${l(n,1-n)}}
}`,g=`__svelte_${Le(_)}_${o}`,m=ge(e),{stylesheet:p,rules:u}=Et.get(m)||De(m,e);u[g]||(u[g]=!0,p.insertRule(`@keyframes ${g} ${_}`,p.cssRules.length));const f=e.style.animation||"";return e.style.animation=`${f?`${f}, `:""}${g} ${r}ms linear ${i}ms 1 both`,Ot+=1,g}function yt(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?c=>c.indexOf(t)<0:c=>c.indexOf("__svelte")===-1),i=n.length-r.length;i&&(e.style.animation=r.join(", "),Ot-=i,Ot||Fe())}function Fe(){zt(()=>{Ot||(Et.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&S(t)}),Et.clear())})}function ye(e,t,n,r){if(!t)return M;const i=e.getBoundingClientRect();if(t.left===i.left&&t.right===i.right&&t.top===i.top&&t.bottom===i.bottom)return M;const{delay:c=0,duration:l=300,easing:o=Nt,start:s=Mt()+c,end:a=s+l,tick:_=M,css:g}=n(e,{from:t,to:i},r);let m=!0,p=!1,u;function f(){g&&(u=mt(e,0,1,l,c,o,g)),c||(p=!0)}function d(){g&&yt(e,u),m=!1}return At(h=>{if(!p&&h>=s&&(p=!0),p&&h>=a&&(_(1,0),d()),!m)return!1;if(p){const w=h-s,y=0+1*o(w/l);_(y,1-y)}return!0}),f(),_(0,1),d}function be(e){const t=getComputedStyle(e);if(t.position!=="absolute"&&t.position!=="fixed"){const{width:n,height:r}=t,i=e.getBoundingClientRect();e.style.position="absolute",e.style.width=n,e.style.height=r,Kt(e,i)}}function Kt(e,t){const n=e.getBoundingClientRect();if(t.left!==n.left||t.top!==n.top){const r=getComputedStyle(e),i=r.transform==="none"?"":r.transform;e.style.transform=`${i} translate(${t.left-n.left}px, ${t.top-n.top}px)`}}let bt;function pt(e){bt=e}function Ie(){if(!bt)throw new Error("Function called outside component initialization");return bt}function ze(){const e=Ie();return(t,n,{cancelable:r=!1}={})=>{const i=e.$$.callbacks[t];if(i){const c=me(t,n,{cancelable:r});return i.slice().forEach(l=>{l.call(e,c)}),!c.defaultPrevented}return!0}}const ot=[],Ut=[];let at=[];const Qt=[],qe=Promise.resolve();let Bt=!1;function Ke(){Bt||(Bt=!0,qe.then(ke))}function F(e){at.push(e)}const Pt=new Set;let rt=0;function ke(){if(rt!==0)return;const e=bt;do{try{for(;rt<ot.length;){const t=ot[rt];rt++,pt(t),je(t.$$)}}catch(t){throw ot.length=0,rt=0,t}for(pt(null),ot.length=0,rt=0;Ut.length;)Ut.pop()();for(let t=0;t<at.length;t+=1){const n=at[t];Pt.has(n)||(Pt.add(n),n())}at.length=0}while(ot.length);for(;Qt.length;)Qt.pop()();Bt=!1,Pt.clear(),pt(e)}function je(e){if(e.fragment!==null){e.update(),D(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(F)}}function Ye(e){const t=[],n=[];at.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),at=t}let _t;function jt(){return _t||(_t=Promise.resolve(),_t.then(()=>{_t=null})),_t}function J(e,t,n){e.dispatchEvent(me(`${t?"intro":"outro"}${n}`))}const $t=new Set;let z;function Q(){z={r:0,c:[],p:z}}function X(){z.r||D(z.c),z=z.p}function P(e,t){e&&e.i&&($t.delete(e),e.i(t))}function B(e,t,n,r){if(e&&e.o){if($t.has(e))return;$t.add(e),z.c.push(()=>{$t.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}const Yt={duration:0};function we(e,t,n){const r={direction:"in"};let i=t(e,n,r),c=!1,l,o,s=0;function a(){l&&yt(e,l)}function _(){const{delay:m=0,duration:p=300,easing:u=Nt,tick:f=M,css:d}=i||Yt;d&&(l=mt(e,0,1,p,m,u,d,s++)),f(0,1);const h=Mt()+m,w=h+p;o&&o.abort(),c=!0,F(()=>J(e,!0,"start")),o=At(y=>{if(c){if(y>=w)return f(1,0),J(e,!0,"end"),a(),c=!1;if(y>=h){const A=u((y-h)/p);f(A,1-A)}}return c})}let g=!1;return{start(){g||(g=!0,yt(e),tt(i)?(i=i(r),jt().then(_)):_())},invalidate(){g=!1},end(){c&&(a(),c=!1)}}}function $e(e,t,n){const r={direction:"out"};let i=t(e,n,r),c=!0,l;const o=z;o.r+=1;function s(){const{delay:a=0,duration:_=300,easing:g=Nt,tick:m=M,css:p}=i||Yt;p&&(l=mt(e,1,0,_,a,g,p));const u=Mt()+a,f=u+_;F(()=>J(e,!1,"start")),At(d=>{if(c){if(d>=f)return m(0,1),J(e,!1,"end"),--o.r||D(o.c),!1;if(d>=u){const h=g((d-u)/_);m(1-h,h)}}return c})}return tt(i)?jt().then(()=>{i=i(r),s()}):s(),{end(a){a&&i.tick&&i.tick(1,0),c&&(l&&yt(e,l),c=!1)}}}function lt(e,t,n,r){const i={direction:"both"};let c=t(e,n,i),l=r?0:1,o=null,s=null,a=null;function _(){a&&yt(e,a)}function g(p,u){const f=p.b-l;return u*=Math.abs(f),{a:l,b:p.b,d:f,duration:u,start:p.start,end:p.start+u,group:p.group}}function m(p){const{delay:u=0,duration:f=300,easing:d=Nt,tick:h=M,css:w}=c||Yt,y={start:Mt()+u,b:p};p||(y.group=z,z.r+=1),o||s?s=y:(w&&(_(),a=mt(e,l,p,f,u,d,w)),p&&h(0,1),o=g(y,f),F(()=>J(e,p,"start")),At(A=>{if(s&&A>s.start&&(o=g(s,f),s=null,J(e,o.b,"start"),w&&(_(),a=mt(e,l,o.b,o.duration,0,d,c.css))),o){if(A>=o.end)h(l=o.b,1-l),J(e,o.b,"end"),s||(o.b?_():--o.group.r||D(o.group.c)),o=null;else if(A>=o.start){const I=A-o.start;l=o.a+o.d*d(I/o.duration),h(l,1-l)}}return!!(o||s)}))}return{run(p){tt(c)?jt().then(()=>{c=c(i),m(p)}):m(p)},end(){_(),o=s=null}}}function ve(e,t){B(e,1,1,()=>{t.delete(e.key)})}function Xt(e,t){e.f(),ve(e,t)}function Lt(e,t,n,r,i,c,l,o,s,a,_,g){let m=e.length,p=c.length,u=m;const f={};for(;u--;)f[e[u].key]=u;const d=[],h=new Map,w=new Map,y=[];for(u=p;u--;){const v=g(i,c,u),k=n(v);let N=l.get(k);N?r&&y.push(()=>N.p(v,t)):(N=a(k,v),N.c()),h.set(k,d[u]=N),k in f&&w.set(k,Math.abs(u-f[k]))}const A=new Set,I=new Set;function q(v){P(v,1),v.m(o,_),l.set(v.key,v),_=v.first,p--}for(;m&&p;){const v=d[p-1],k=e[m-1],N=v.key,b=k.key;v===k?(_=v.first,m--,p--):h.has(b)?!l.has(N)||A.has(N)?q(v):I.has(b)?m--:w.get(N)>w.get(b)?(I.add(N),q(v)):(A.add(b),m--):(s(k,l),m--)}for(;m--;){const v=e[m];h.has(v.key)||s(v,l)}for(;p;)q(d[p-1]);return D(y),d}function st(e){e&&e.c()}function H(e,t,n,r){const{fragment:i,after_update:c}=e.$$;i&&i.m(t,n),r||F(()=>{const l=e.$$.on_mount.map(_e).filter(tt);e.$$.on_destroy?e.$$.on_destroy.push(...l):D(l),e.$$.on_mount=[]}),c.forEach(F)}function W(e,t){const n=e.$$;n.fragment!==null&&(Ye(n.after_update),D(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ge(e,t){e.$$.dirty[0]===-1&&(ot.push(e),Ke(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ft(e,t,n,r,i,c,l,o=[-1]){const s=bt;pt(e);const a=e.$$={fragment:null,ctx:[],props:c,update:M,not_equal:i,bound:Vt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(s?s.$$.context:[])),callbacks:Vt(),dirty:o,skip_bound:!1,root:t.target||s.$$.root};l&&l(a.root);let _=!1;if(a.ctx=n?n(e,t.props||{},(g,m,...p)=>{const u=p.length?p[0]:m;return a.ctx&&i(a.ctx[g],a.ctx[g]=u)&&(!a.skip_bound&&a.bound[g]&&a.bound[g](u),_&&Ge(e,g)),m}):[],a.update(),_=!0,D(a.before_update),a.fragment=r?r(a.ctx):!1,t.target){if(t.hydrate){const g=Be(t.target);a.fragment&&a.fragment.l(g),g.forEach(S)}else a.fragment&&a.fragment.c();t.intro&&P(e.$$.fragment),H(e,t.target,t.anchor,t.customElement),ke()}pt(s)}class ut{$destroy(){W(this,1),this.$destroy=M}$on(t,n){if(!tt(n))return M;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!Ae(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const it=[];function Gt(e,t=M){let n;const r=new Set;function i(o){if(et(e,o)&&(e=o,n)){const s=!it.length;for(const a of r)a[1](),it.push(a,e);if(s){for(let a=0;a<it.length;a+=2)it[a][0](it[a+1]);it.length=0}}}function c(o){i(o(e))}function l(o,s=M){const a=[o,s];return r.add(a),r.size===1&&(n=t(i)||M),o(e),()=>{r.delete(a),r.size===0&&n&&(n(),n=null)}}return{set:i,update:c,subscribe:l}}function He(e){return typeof e=="object"}function Dt(e){return e instanceof Array}function Ht(e){const t=e-1;return t*t*t+1}function We(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function V(e,{delay:t=0,duration:n=400,easing:r=Ht,axis:i="y"}={}){const c=getComputedStyle(e),l=+c.opacity,o=i==="y"?"height":"width",s=parseFloat(c[o]),a=i==="y"?["top","bottom"]:["left","right"],_=a.map(h=>`${h[0].toUpperCase()}${h.slice(1)}`),g=parseFloat(c[`padding${_[0]}`]),m=parseFloat(c[`padding${_[1]}`]),p=parseFloat(c[`margin${_[0]}`]),u=parseFloat(c[`margin${_[1]}`]),f=parseFloat(c[`border${_[0]}Width`]),d=parseFloat(c[`border${_[1]}Width`]);return{delay:t,duration:n,easing:r,css:h=>`overflow: hidden;opacity: ${Math.min(h*20,1)*l};${o}: ${h*s}px;padding-${a[0]}: ${h*g}px;padding-${a[1]}: ${h*m}px;margin-${a[0]}: ${h*p}px;margin-${a[1]}: ${h*u}px;border-${a[0]}-width: ${h*f}px;border-${a[1]}-width: ${h*d}px;`}}function Ve(e){var{fallback:t}=e,n=We(e,["fallback"]);const r=new Map,i=new Map;function c(o,s,a){const{delay:_=0,duration:g=v=>Math.sqrt(v)*30,easing:m=Ht}=Wt(Wt({},n),a),p=o.getBoundingClientRect(),u=s.getBoundingClientRect(),f=p.left-u.left,d=p.top-u.top,h=p.width/u.width,w=p.height/u.height,y=Math.sqrt(f*f+d*d),A=getComputedStyle(s),I=A.transform==="none"?"":A.transform,q=+A.opacity;return{delay:_,duration:tt(g)?g(y):g,easing:m,css:(v,k)=>`
				opacity: ${v*q};
				transform-origin: top left;
				transform: ${I} translate(${k*f}px,${k*d}px) scale(${v+(1-v)*h}, ${v+(1-v)*w});
			`}}function l(o,s,a){return(_,g)=>(o.set(g.key,_),()=>{if(s.has(g.key)){const m=s.get(g.key);return s.delete(g.key),c(m,_,g)}return o.delete(g.key),t&&t(_,g,a)})}return[l(i,r,!1),l(r,i,!0)]}const nt=new Promise((e,t)=>{if(window!=null&&window.Dexie){const n=new window.Dexie("helloworldtodos",{});n.version(2).stores({tags:"&key",todos:"++id,*tags"}),e(n)}else t(new Error("Dexie is not loaded in window"))});class j extends Error{}G(j,"EMPTY_TAG_KEY","the given value resulted in an empty tag-key"),G(j,"NO_TAG_FOR_KEY","a tag for the given Key or Value does not exist in the Database");class Je{constructor(t){G(this,"key");if(this.value=t,this.key=Ee(t),this.key=="")throw new j(j.EMPTY_TAG_KEY)}async drop(){const t=await nt;await t.tags(this.key).first()&&await t.tags.delete(this.key),await t.todos.where("tags").equals(this.key).each(r=>(r.tags=r.tags.filter(i=>i!=this.key),t.todos.put(r)))}insert(){return Qe().then(t=>t.put(this))}}function Te(e){return nt.then(t=>t.tags.where("key").equals(e).first()).then(t=>{if(t)return t;throw new j(j.NO_TAG_FOR_KEY)})}function Ue(e){return Te(Ee(e))}const Ft={findByKey:Te,findByValue:Ue};async function Qe(){return(await nt).tags}function Ee(e){return e.trim().toLowerCase()}function Zt(e){let t,n,r=e[0].value+"",i,c,l,o,s;return{c(){t=O("span"),n=O("a"),i=Y(r),c=x(),l=O("a"),l.textContent=" ",T(n,"href","#"),T(l,"href","#"),T(l,"class","fa fa-times"),T(t,"class","tag")},m(a,_){C(a,t,_),E(t,n),E(n,i),E(t,c),E(t,l),o||(s=[L(n,"click",U(e[4])),L(l,"click",U(e[5]))],o=!0)},p(a,_){_&1&&r!==(r=a[0].value+"")&&kt(i,r)},d(a){a&&S(t),o=!1,D(s)}}}function Xe(e){let t,n=e[0]&&Zt(e);return{c(){n&&n.c(),t=Rt()},m(r,i){n&&n.m(r,i),C(r,t,i)},p(r,[i]){r[0]?n?n.p(r,i):(n=Zt(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:M,o:M,d(r){n&&n.d(r),r&&S(t)}}}function Ze(e,t,n){let{value:r=""}=t,{key:i=""}=t,c;const l=ze(),o=()=>l("click",c),s=()=>l("remove",c);return e.$$set=a=>{"value"in a&&n(2,r=a.value),"key"in a&&n(3,i=a.key)},e.$$.update=()=>{if(e.$$.dirty&12){if(i)try{Ft.findByKey(i).then(a=>n(0,c=a))}catch(a){console.error(a),n(0,c=void 0)}else if(r)try{Ft.findByValue(r).then(a=>n(0,c=a))}catch(a){console.error(a),n(0,c=void 0)}}},[c,l,r,i,o,s]}class Oe extends ut{constructor(t){super(),ft(this,t,Ze,Xe,et,{value:2,key:3})}}class tn{constructor(){G(this,"subs",new Set);G(this,"subscribe",t=>(t([]),(async()=>t(await this._dat()||[]))(),this.subs.add(t),()=>{this.subs.delete(t)}));G(this,"_dat",()=>nt.then(t=>vt.length?t.todos.where("tags").anyOf(vt).distinct().filter(n=>vt.reduce((i,c,l)=>i&&n.tags.indexOf(c)!=-1,!0)).toArray():t.todos.toArray()))}async refresh(){const t=await this._dat()||[];this.subs.forEach(n=>n(t))}}function en(e){return He(e)&&typeof e.description=="string"&&typeof e.done=="boolean"}const wt=new tn;let vt=[];async function nn(e,t=!0){await(await nt).table("todos").put(e),t&&await wt.refresh()}async function rn(e,t=!0){await(await nt).table("todos").delete(e.id),t&&await wt.refresh()}async function on(e,t=!0){vt=e,t&&await wt.refresh()}const St={todos:wt,set:nn,remove:rn,filter:on};if(localStorage){const e="rawTodos";let t;try{t=JSON.parse(localStorage.getItem(e))}catch(n){localStorage.removeItem(e),console.error("Error while initializing Todos: ",n)}Dt(t)&&(t=t.filter(en),t.length&&nt.then(n=>n.table("todos").bulkPut(t)).then(()=>{localStorage.removeItem(e)}))}function te(e,t,n){const r=e.slice();return r[3]=t[n],r}function ee(e,t){let n,r=t[3].msg+"",i,c,l,o,s;return{key:e,first:null,c(){n=O("article"),i=Y(r),c=x(),T(n,"class",l=Jt(t[3].cssClass)+" svelte-lwkk25"),this.first=n},m(a,_){C(a,n,_),E(n,i),E(n,c),s=!0},p(a,_){t=a,(!s||_&1)&&r!==(r=t[3].msg+"")&&kt(i,r),(!s||_&1&&l!==(l=Jt(t[3].cssClass)+" svelte-lwkk25"))&&T(n,"class",l)},i(a){s||(F(()=>{o||(o=lt(n,V,{duration:250},!0)),o.run(1)}),s=!0)},o(a){o||(o=lt(n,V,{duration:250},!1)),o.run(0),s=!1},d(a){a&&S(n),a&&o&&o.end()}}}function ln(e){let t,n=[],r=new Map,i,c=e[0];const l=o=>o[3].id;for(let o=0;o<c.length;o+=1){let s=te(e,c,o),a=l(s);r.set(a,n[o]=ee(a,s))}return{c(){t=O("div");for(let o=0;o<n.length;o+=1)n[o].c();T(t,"class","toastcontainer svelte-lwkk25")},m(o,s){C(o,t,s);for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(t,null);i=!0},p(o,[s]){s&1&&(c=o[0],Q(),n=Lt(n,s,l,1,o,c,r,t,ve,ee,null,te),X())},i(o){if(!i){for(let s=0;s<c.length;s+=1)P(n[s]);i=!0}},o(o){for(let s=0;s<n.length;s+=1)B(n[s]);i=!1},d(o){o&&S(t);for(let s=0;s<n.length;s+=1)n[s].d()}}}let sn=1;const It=Gt([]);function ht(e,t,n=4){It.update(r=>(r.push({id:sn++,msg:e,cssClass:t,timeout:n*10}),r))}function cn(e,t,n){let r;gt(e,It,l=>n(0,r=l));let i;function c(){!i&&r.length&&(i=window.setTimeout(()=>{r.forEach(l=>l.timeout--),xt(It,r=r.filter(l=>l.timeout>0),r),i=void 0,c()},100))}return e.$$.update=()=>{e.$$.dirty&1&&r.length&&c()},[r]}class an extends ut{constructor(t){super(),ft(this,t,cn,ln,et,{})}}function ne(e,t,n){const r=e.slice();return r[9]=t[n],r}function re(e){let t,n,r,i,c,l,o,s,a,_,g,m,p;const u=[un,fn],f=[];function d(h,w){return h[2].length?0:1}return s=d(e),a=f[s]=u[s](e),{c(){t=O("form"),n=O("input"),r=x(),i=O("button"),l=x(),o=O("section"),a.c(),T(n,"type","text"),T(i,"type","submit"),T(i,"class","fa fa-plus-circle svelte-3z5hh2"),T(t,"class","taginput svelte-3z5hh2"),K(t,"open",e[1]),T(o,"class","taglist svelte-3z5hh2"),K(o,"open",e[1])},m(h,w){C(h,t,w),E(t,n),Tt(n,e[0]),E(t,r),E(t,i),C(h,l,w),C(h,o,w),f[s].m(o,null),g=!0,m||(p=[L(n,"input",e[7]),L(t,"submit",U(e[3]))],m=!0)},p(h,w){w&1&&n.value!==h[0]&&Tt(n,h[0]),(!g||w&2)&&K(t,"open",h[1]);let y=s;s=d(h),s===y?f[s].p(h,w):(Q(),B(f[y],1,1,()=>{f[y]=null}),X(),a=f[s],a?a.p(h,w):(a=f[s]=u[s](h),a.c()),P(a,1),a.m(o,null)),(!g||w&2)&&K(o,"open",h[1])},i(h){g||(h&&F(()=>{c||(c=lt(t,V,{},!0)),c.run(1)}),P(a),h&&F(()=>{_||(_=lt(o,V,{},!0)),_.run(1)}),g=!0)},o(h){h&&(c||(c=lt(t,V,{},!1)),c.run(0)),B(a),h&&(_||(_=lt(o,V,{},!1)),_.run(0)),g=!1},d(h){h&&S(t),h&&c&&c.end(),h&&S(l),h&&S(o),f[s].d(),h&&_&&_.end(),m=!1,D(p)}}}function fn(e){let t;return{c(){t=Y("No Tags yet")},m(n,r){C(n,t,r)},p:M,i:M,o:M,d(n){n&&S(t)}}}function un(e){let t,n,r=e[2],i=[];for(let l=0;l<r.length;l+=1)i[l]=ie(ne(e,r,l));const c=l=>B(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();t=Rt()},m(l,o){for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(l,o);C(l,t,o),n=!0},p(l,o){if(o&20){r=l[2];let s;for(s=0;s<r.length;s+=1){const a=ne(l,r,s);i[s]?(i[s].p(a,o),P(i[s],1)):(i[s]=ie(a),i[s].c(),P(i[s],1),i[s].m(t.parentNode,t))}for(Q(),s=r.length;s<i.length;s+=1)c(s);X()}},i(l){if(!n){for(let o=0;o<r.length;o+=1)P(i[o]);n=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)B(i[o]);n=!1},d(l){qt(i,l),l&&S(t)}}}function ie(e){let t,n;return t=new Oe({props:{value:e[9]}}),t.$on("remove",e[8]),{c(){st(t.$$.fragment)},m(r,i){H(t,r,i),n=!0},p(r,i){const c={};i&4&&(c.value=r[9]),t.$set(c)},i(r){n||(P(t.$$.fragment,r),n=!0)},o(r){B(t.$$.fragment,r),n=!1},d(r){W(t,r)}}}function dn(e){let t,n,r,i,c,l,o=e[1]&&re(e);return{c(){t=O("a"),t.textContent="Tags",n=x(),o&&o.c(),r=Rt(),T(t,"role","button"),T(t,"href","#"),T(t,"class","svelte-3z5hh2")},m(s,a){C(s,t,a),C(s,n,a),o&&o.m(s,a),C(s,r,a),i=!0,c||(l=L(t,"click",U(e[6])),c=!0)},p(s,[a]){s[1]?o?(o.p(s,a),a&2&&P(o,1)):(o=re(s),o.c(),P(o,1),o.m(r.parentNode,r)):o&&(Q(),B(o,1,1,()=>{o=null}),X())},i(s){i||(P(o),i=!0)},o(s){B(o),i=!1},d(s){s&&S(t),s&&S(n),o&&o.d(s),s&&S(r),c=!1,l()}}}const Z=Gt([]),Ct=Gt([]);function Se(e){Z.update(t=>(t.indexOf(e.key)==-1&&t.push(e.key),t)),Ct.update(t=>(t.indexOf(e.value)==-1&&t.push(e.value),t))}try{let e=localStorage.getItem("tagfilter"),t=[];if(e&&(e=JSON.parse(e)),Dt(e)){Z.set(e);const n=[];(async()=>{let r=await Promise.all(e.map(i=>Ft.findByValue(i).catch(c=>{console.warn(`tag '${i}' does not exist`),n.push(i)})));n.forEach(i=>Z.update(c=>t=c.filter(l=>l!=i))),Dt(r)&&(r=r.filter(i=>typeof i<"u"),Ct.set(r.map(i=>{if(i)return i.value})))})()}}catch{}Z.subscribe(e=>{localStorage.setItem("tagfilter",JSON.stringify(e)),St.filter(e)});function _n(e,t,n){let r,i,c=M,l,o=M;gt(e,Ct,u=>n(2,i=u)),gt(e,Z,u=>n(5,l=u)),e.$$.on_destroy.push(()=>c()),e.$$.on_destroy.push(()=>o());let s="";const a=async()=>{let u;try{u=new Je(s),await u.insert(),Se(u),n(0,s="")}catch(f){f instanceof j&&f.message==j.EMPTY_TAG_KEY?ht("cant add empty tag","alert",3):(console.error(f),ht("ERROR: see console","alert",2))}},_=async u=>{try{xt(Z,l=l.filter(f=>f!=u.key),l),xt(Ct,i=i.filter(f=>f!=u.value),i)}catch(f){console.error(f),ht("error see console","alert",2)}},g=()=>n(1,r=!r);function m(){s=this.value,n(0,s)}const p=u=>_(u.detail);return e.$$.update=()=>{e.$$.dirty&32&&n(1,r=l.length>0)},[s,r,i,a,_,l,g,m,p]}class pn extends ut{constructor(t){super(),ft(this,t,_n,dn,et,{})}}function hn(e){let t,n,r,i,c,l,o;return{c(){t=O("div"),n=O("form"),r=O("input"),i=x(),c=O("button"),T(r,"tabindex","0"),T(r,"type","text"),T(c,"type","submit"),T(c,"class","fa fa-circle-plus svelte-1telry2"),T(n,"class","svelte-1telry2")},m(s,a){C(s,t,a),E(t,n),E(n,r),Tt(r,e[0].description),E(n,i),E(n,c),l||(o=[L(r,"input",e[3]),L(n,"submit",U(e[1]))],l=!0)},p(s,[a]){a&1&&r.value!==s[0].description&&Tt(r,s[0].description)},i:M,o:M,d(s){s&&S(t),l=!1,D(o)}}}function gn(e,t,n){let r;gt(e,Z,o=>n(2,r=o));let i={description:"",done:!1,tags:[]};const c=()=>{i.description.trim()==""?ht("noting to add","alert",2):(n(0,i.description=i.description.trim(),i),St.set(i),n(0,i={description:"",done:!1,tags:i.tags}))};function l(){i.description=this.value,n(0,i),n(2,r)}return e.$$.update=()=>{e.$$.dirty&4&&n(0,i.tags=[...r],i)},[i,c,r,l]}class mn extends ut{constructor(t){super(),ft(this,t,gn,hn,et,{})}}function Ce(e,{from:t,to:n},r={}){const i=getComputedStyle(e),c=i.transform==="none"?"":i.transform,[l,o]=i.transformOrigin.split(" ").map(parseFloat),s=t.left+t.width*l/n.width-(n.left+l),a=t.top+t.height*o/n.height-(n.top+o),{delay:_=0,duration:g=p=>Math.sqrt(p)*120,easing:m=Ht}=r;return{delay:_,duration:tt(g)?g(Math.sqrt(s*s+a*a)):g,easing:m,css:(p,u)=>{const f=u*s,d=u*a,h=p+u*t.width/n.width,w=p+u*t.height/n.height;return`transform: ${c} translate(${f}px, ${d}px) scale(${h}, ${w});`}}}function oe(e,t,n){const r=e.slice();return r[16]=t[n],r[17]=t,r[18]=n,r}function le(e,t,n){const r=e.slice();return r[19]=t[n],r}function se(e,t,n){const r=e.slice();return r[16]=t[n],r[22]=t,r[23]=n,r}function ce(e,t,n){const r=e.slice();return r[19]=t[n],r}function ae(e){let t,n,r;return n=new Oe({props:{key:e[19]}}),n.$on("click",e[12]),{c(){t=O("li"),st(n.$$.fragment),T(t,"class","svelte-1nl2gxp")},m(i,c){C(i,t,c),H(n,t,null),r=!0},p(i,c){const l={};c&2&&(l.key=i[19]),n.$set(l)},i(i){r||(P(n.$$.fragment,i),r=!0)},o(i){B(n.$$.fragment,i),r=!1},d(i){i&&S(t),W(n)}}}function fe(e,t){let n,r,i,c,l,o=t[16].description+"",s,a,_,g,m,p,u,f,d=M,h,w,y;function A(){t[9].call(i,t[22],t[23])}function I(){return t[10](t[16])}function q(){return t[11](t[16])}let v=t[16].tags,k=[];for(let b=0;b<v.length;b+=1)k[b]=ae(ce(t,v,b));const N=b=>B(k[b],1,1,()=>{k[b]=null});return{key:e,first:null,c(){n=O("article"),r=O("span"),i=O("input"),c=x(),l=O("span"),s=Y(o),a=x(),_=O("button"),g=x(),m=O("ul");for(let b=0;b<k.length;b+=1)k[b].c();T(i,"type","checkbox"),T(l,"class","txt svelte-1nl2gxp"),T(_,"class","fa fa-trash-can"),T(_,"title","delete"),T(m,"class","svelte-1nl2gxp"),T(n,"class","svelte-1nl2gxp"),K(n,"done",t[16].done),this.first=n},m(b,R){C(b,n,R),E(n,r),E(r,i),i.checked=t[16].done,E(n,c),E(n,l),E(l,s),E(n,a),E(n,_),E(n,g),E(n,m);for(let $=0;$<k.length;$+=1)k[$]&&k[$].m(m,null);h=!0,w||(y=[L(i,"change",A),L(i,"click",I),L(_,"click",U(q))],w=!0)},p(b,R){if(t=b,R&2&&(i.checked=t[16].done),(!h||R&2)&&o!==(o=t[16].description+"")&&kt(s,o),R&18){v=t[16].tags;let $;for($=0;$<v.length;$+=1){const dt=ce(t,v,$);k[$]?(k[$].p(dt,R),P(k[$],1)):(k[$]=ae(dt),k[$].c(),P(k[$],1),k[$].m(m,null))}for(Q(),$=v.length;$<k.length;$+=1)N($);X()}(!h||R&2)&&K(n,"done",t[16].done)},r(){f=n.getBoundingClientRect()},f(){be(n),d(),Kt(n,f)},a(){d(),d=ye(n,f,Ce,{duration:250})},i(b){if(!h){for(let R=0;R<v.length;R+=1)P(k[R]);b&&F(()=>{u&&u.end(1),p=we(n,t[6],{key:t[16].id}),p.start()}),h=!0}},o(b){k=k.filter(Boolean);for(let R=0;R<k.length;R+=1)B(k[R]);p&&p.invalidate(),u=$e(n,t[5],{key:t[16].id}),h=!1},d(b){b&&S(n),qt(k,b),b&&u&&u.end(),w=!1,D(y)}}}function ue(e){let t,n=e[19]+"",r;return{c(){t=O("li"),r=Y(n),T(t,"class","svelte-1nl2gxp")},m(i,c){C(i,t,c),E(t,r)},p(i,c){c&1&&n!==(n=i[19]+"")&&kt(r,n)},d(i){i&&S(t)}}}function de(e,t){let n,r,i,c,l,o=t[16].description+"",s,a,_,g,m,p,u,f,d,h=M,w,y,A;function I(){t[13].call(i,t[17],t[18])}function q(){return t[14](t[16])}function v(){return t[15](t[16])}let k=t[16].tags,N=[];for(let b=0;b<k.length;b+=1)N[b]=ue(le(t,k,b));return{key:e,first:null,c(){n=O("article"),r=O("span"),i=O("input"),c=x(),l=O("span"),s=Y(o),a=x(),_=O("button"),g=x(),m=O("ul");for(let b=0;b<N.length;b+=1)N[b].c();p=x(),T(i,"type","checkbox"),T(l,"class","txt svelte-1nl2gxp"),T(_,"class","fa fa-trash-can"),T(_,"title","delete"),T(m,"class","svelte-1nl2gxp"),T(n,"class","svelte-1nl2gxp"),K(n,"done",t[16].done),this.first=n},m(b,R){C(b,n,R),E(n,r),E(r,i),i.checked=t[16].done,E(n,c),E(n,l),E(l,s),E(n,a),E(n,_),E(n,g),E(n,m);for(let $=0;$<N.length;$+=1)N[$]&&N[$].m(m,null);E(n,p),w=!0,y||(A=[L(i,"change",I),L(i,"click",q),L(_,"click",U(v))],y=!0)},p(b,R){if(t=b,R&1&&(i.checked=t[16].done),(!w||R&1)&&o!==(o=t[16].description+"")&&kt(s,o),R&1){k=t[16].tags;let $;for($=0;$<k.length;$+=1){const dt=le(t,k,$);N[$]?N[$].p(dt,R):(N[$]=ue(dt),N[$].c(),N[$].m(m,null))}for(;$<N.length;$+=1)N[$].d(1);N.length=k.length}(!w||R&1)&&K(n,"done",t[16].done)},r(){d=n.getBoundingClientRect()},f(){be(n),h(),Kt(n,d)},a(){h(),h=ye(n,d,Ce,{duration:250})},i(b){w||(b&&F(()=>{f&&f.end(1),u=we(n,t[6],{key:t[16].id}),u.start()}),w=!0)},o(b){u&&u.invalidate(),f=$e(n,t[5],{key:t[16].id}),w=!1},d(b){b&&S(n),qt(N,b),b&&f&&f.end(),y=!1,D(A)}}}function yn(e){let t=[],n=new Map,r,i,c,l=[],o=new Map,s,a,_=e[1];const g=u=>u[16].id;for(let u=0;u<_.length;u+=1){let f=se(e,_,u),d=g(f);n.set(d,t[u]=fe(d,f))}let m=e[0];const p=u=>u[16].id;for(let u=0;u<m.length;u+=1){let f=oe(e,m,u),d=p(f);o.set(d,l[u]=de(d,f))}return{c(){for(let u=0;u<t.length;u+=1)t[u].c();r=x(),i=O("h3"),i.textContent="Done:",c=x();for(let u=0;u<l.length;u+=1)l[u].c();s=Rt()},m(u,f){for(let d=0;d<t.length;d+=1)t[d]&&t[d].m(u,f);C(u,r,f),C(u,i,f),C(u,c,f);for(let d=0;d<l.length;d+=1)l[d]&&l[d].m(u,f);C(u,s,f),a=!0},p(u,[f]){if(f&30){_=u[1],Q();for(let d=0;d<t.length;d+=1)t[d].r();t=Lt(t,f,g,1,u,_,n,r.parentNode,Xt,fe,r,se);for(let d=0;d<t.length;d+=1)t[d].a();X()}if(f&13){m=u[0],Q();for(let d=0;d<l.length;d+=1)l[d].r();l=Lt(l,f,p,1,u,m,o,s.parentNode,Xt,de,s,oe);for(let d=0;d<l.length;d+=1)l[d].a();X()}},i(u){if(!a){for(let f=0;f<_.length;f+=1)P(t[f]);for(let f=0;f<m.length;f+=1)P(l[f]);a=!0}},o(u){for(let f=0;f<t.length;f+=1)B(t[f]);for(let f=0;f<l.length;f+=1)B(l[f]);a=!1},d(u){for(let f=0;f<t.length;f+=1)t[f].d(u);u&&S(r),u&&S(i),u&&S(c);for(let f=0;f<l.length;f+=1)l[f].d(u);u&&S(s)}}}function bn(e,t,n){let r,i,c,l;gt(e,wt,y=>n(8,l=y));const o=y=>{confirm("remove todo permanently ?")&&St.remove(y)},s=async y=>{y.done=!y.done,St.set(y)},a=async y=>{try{Se(y)}catch{ht("cant add tag (See Console)","alert",2)}},[_,g]=Ve({fallback:V});function m(y,A){y[A].done=this.checked,n(1,i),n(7,r),n(8,l)}const p=y=>s(y),u=y=>o(y),f=y=>a(y.detail);function d(y,A){y[A].done=this.checked,n(0,c),n(7,r),n(8,l)}const h=y=>s(y),w=y=>o(y);return e.$$.update=()=>{e.$$.dirty&256&&n(7,r=[...l]),e.$$.dirty&128&&n(1,i=r.filter(y=>!y.done)),e.$$.dirty&128&&n(0,c=r.filter(y=>y.done))},[c,i,o,s,a,_,g,r,l,m,p,u,f,d,h,w]}class kn extends ut{constructor(t){super(),ft(this,t,bn,yn,et,{})}}function wn(e){let t,n,r,i,c,l,o,s,a,_,g,m,p,u;return c=new an({}),o=new pn({}),g=new mn({}),p=new kn({}),{c(){t=O("base"),n=x(),r=O("nav"),r.innerHTML=`<ul><li><strong>HelloWorld Todo&#39;s</strong></li></ul> 
    <ul><li><a href="https://github.com/Rocco-Gossmann/SvelteHelloWorldTodos" target="_blank">GitHub</a></li></ul>`,i=x(),st(c.$$.fragment),l=x(),st(o.$$.fragment),s=x(),a=O("h1"),a.textContent="Todos",_=x(),st(g.$$.fragment),m=x(),st(p.$$.fragment),T(t,"href","/SvelteHelloWorldTodos"),T(a,"class","text-center")},m(f,d){E(document.head,t),C(f,n,d),C(f,r,d),C(f,i,d),H(c,f,d),C(f,l,d),H(o,f,d),C(f,s,d),C(f,a,d),C(f,_,d),H(g,f,d),C(f,m,d),H(p,f,d),u=!0},p:M,i(f){u||(P(c.$$.fragment,f),P(o.$$.fragment,f),P(g.$$.fragment,f),P(p.$$.fragment,f),u=!0)},o(f){B(c.$$.fragment,f),B(o.$$.fragment,f),B(g.$$.fragment,f),B(p.$$.fragment,f),u=!1},d(f){S(t),f&&S(n),f&&S(r),f&&S(i),W(c,f),f&&S(l),W(o,f),f&&S(s),f&&S(a),f&&S(_),W(g,f),f&&S(m),W(p,f)}}}class $n extends ut{constructor(t){super(),ft(this,t,null,wn,et,{})}}new $n({target:document.getElementById("app")});
