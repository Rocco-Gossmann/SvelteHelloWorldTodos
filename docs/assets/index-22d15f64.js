(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function j(){}const Le=t=>t;function tt(t,e){for(const n in e)t[n]=e[n];return t}function Et(t){return t()}function nt(){return Object.create(null)}function K(t){t.forEach(Et)}function re(t){return typeof t=="function"}function q(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Jt(t){return Object.keys(t).length===0}function He(t,...e){if(t==null)return j;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function X(t,e,n){t.$$.on_destroy.push(He(e,n))}function rt(t){return t??""}function se(t,e,n){return t.set(n),e}const Ct=typeof window<"u";let Be=Ct?()=>window.performance.now():()=>Date.now(),Ye=Ct?t=>requestAnimationFrame(t):j;const de=new Set;function Ot(t){de.forEach(e=>{e.c(t)||(de.delete(e),e.f())}),de.size!==0&&Ye(Ot)}function Ue(t){let e;return de.size===0&&Ye(Ot),{promise:new Promise(n=>{de.add(e={c:t,f:n})}),abort(){de.delete(e)}}}function S(t,e){t.appendChild(e)}function At(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Qt(t){const e=T("style");return Xt(At(t),e),e.sheet}function Xt(t,e){return S(t.head||t,e),e.sheet}function $(t,e,n){t.insertBefore(e,n||null)}function w(t){t.parentNode&&t.parentNode.removeChild(t)}function ze(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function T(t){return document.createElement(t)}function oe(t){return document.createTextNode(t)}function N(){return oe(" ")}function ie(){return oe("")}function B(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function H(t){return function(e){return e.preventDefault(),t.call(this,e)}}function v(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Zt(t){return Array.from(t.childNodes)}function Me(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function ge(t,e){t.value=e??""}function he(t,e,n){t.classList[n?"add":"remove"](e)}function jt(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,r,e),o}const Ae=new Map;let je=0;function en(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function tn(t,e){const n={stylesheet:Qt(e),rules:{}};return Ae.set(t,n),n}function we(t,e,n,r,o,l,s,i=0){const a=16.666/r;let c=`{
`;for(let u=0;u<=1;u+=a){const m=e+(n-e)*l(u);c+=u*100+`%{${s(m,1-m)}}
`}const _=c+`100% {${s(n,1-n)}}
}`,p=`__svelte_${en(_)}_${i}`,y=At(t),{stylesheet:g,rules:f}=Ae.get(y)||tn(y,t);f[p]||(f[p]=!0,g.insertRule(`@keyframes ${p} ${_}`,g.cssRules.length));const d=t.style.animation||"";return t.style.animation=`${d?`${d}, `:""}${p} ${r}ms linear ${o}ms 1 both`,je+=1,p}function ke(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?l=>l.indexOf(e)<0:l=>l.indexOf("__svelte")===-1),o=n.length-r.length;o&&(t.style.animation=r.join(", "),je-=o,je||nn())}function nn(){Ye(()=>{je||(Ae.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&w(e)}),Ae.clear())})}function Rt(t,e,n,r){if(!e)return j;const o=t.getBoundingClientRect();if(e.left===o.left&&e.right===o.right&&e.top===o.top&&e.bottom===o.bottom)return j;const{delay:l=0,duration:s=300,easing:i=Le,start:a=Be()+l,end:c=a+s,tick:_=j,css:p}=n(t,{from:e,to:o},r);let y=!0,g=!1,f;function d(){p&&(f=we(t,0,1,s,l,i,p)),l||(g=!0)}function u(){p&&ke(t,f),y=!1}return Ue(m=>{if(!g&&m>=a&&(g=!0),g&&m>=c&&(_(1,0),u()),!y)return!1;if(g){const R=m-a,h=0+1*i(R/s);_(h,1-h)}return!0}),d(),_(0,1),u}function Nt(t){const e=getComputedStyle(t);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:n,height:r}=e,o=t.getBoundingClientRect();t.style.position="absolute",t.style.width=n,t.style.height=r,xe(t,o)}}function xe(t,e){const n=t.getBoundingClientRect();if(e.left!==n.left||e.top!==n.top){const r=getComputedStyle(t),o=r.transform==="none"?"":r.transform;t.style.transform=`${o} translate(${e.left-n.left}px, ${e.top-n.top}px)`}}let $e;function ve(t){$e=t}function rn(){if(!$e)throw new Error("Function called outside component initialization");return $e}function Pt(){const t=rn();return(e,n,{cancelable:r=!1}={})=>{const o=t.$$.callbacks[e];if(o){const l=jt(e,n,{cancelable:r});return o.slice().forEach(s=>{s.call(t,l)}),!l.defaultPrevented}return!0}}const ue=[],Fe=[];let _e=[];const De=[],on=Promise.resolve();let qe=!1;function sn(){qe||(qe=!0,on.then(Lt))}function I(t){_e.push(t)}function ln(t){De.push(t)}const Ie=new Set;let ae=0;function Lt(){if(ae!==0)return;const t=$e;do{try{for(;ae<ue.length;){const e=ue[ae];ae++,ve(e),an(e.$$)}}catch(e){throw ue.length=0,ae=0,e}for(ve(null),ue.length=0,ae=0;Fe.length;)Fe.pop()();for(let e=0;e<_e.length;e+=1){const n=_e[e];Ie.has(n)||(Ie.add(n),n())}_e.length=0}while(ue.length);for(;De.length;)De.pop()();qe=!1,Ie.clear(),ve(t)}function an(t){if(t.fragment!==null){t.update(),K(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(I)}}function cn(t){const e=[],n=[];_e.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),_e=e}let be;function Je(){return be||(be=Promise.resolve(),be.then(()=>{be=null})),be}function le(t,e,n){t.dispatchEvent(jt(`${e?"intro":"outro"}${n}`))}const Ee=new Set;let J;function F(){J={r:0,c:[],p:J}}function D(){J.r||K(J.c),J=J.p}function k(t,e){t&&t.i&&(Ee.delete(t),t.i(e))}function E(t,e,n,r){if(t&&t.o){if(Ee.has(t))return;Ee.add(t),J.c.push(()=>{Ee.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}const Qe={duration:0};function Bt(t,e,n){const r={direction:"in"};let o=e(t,n,r),l=!1,s,i,a=0;function c(){s&&ke(t,s)}function _(){const{delay:y=0,duration:g=300,easing:f=Le,tick:d=j,css:u}=o||Qe;u&&(s=we(t,0,1,g,y,f,u,a++)),d(0,1);const m=Be()+y,R=m+g;i&&i.abort(),l=!0,I(()=>le(t,!0,"start")),i=Ue(h=>{if(l){if(h>=R)return d(1,0),le(t,!0,"end"),c(),l=!1;if(h>=m){const b=f((h-m)/g);d(b,1-b)}}return l})}let p=!1;return{start(){p||(p=!0,ke(t),re(o)?(o=o(r),Je().then(_)):_())},invalidate(){p=!1},end(){l&&(c(),l=!1)}}}function Ut(t,e,n){const r={direction:"out"};let o=e(t,n,r),l=!0,s;const i=J;i.r+=1;function a(){const{delay:c=0,duration:_=300,easing:p=Le,tick:y=j,css:g}=o||Qe;g&&(s=we(t,1,0,_,c,p,g));const f=Be()+c,d=f+_;I(()=>le(t,!1,"start")),Ue(u=>{if(l){if(u>=d)return y(0,1),le(t,!1,"end"),--i.r||K(i.c),!1;if(u>=f){const m=p((u-f)/_);y(1-m,m)}}return l})}return re(o)?Je().then(()=>{o=o(r),a()}):a(),{end(c){c&&o.tick&&o.tick(1,0),l&&(s&&ke(t,s),l=!1)}}}function Q(t,e,n,r){const o={direction:"both"};let l=e(t,n,o),s=r?0:1,i=null,a=null,c=null;function _(){c&&ke(t,c)}function p(g,f){const d=g.b-s;return f*=Math.abs(d),{a:s,b:g.b,d,duration:f,start:g.start,end:g.start+f,group:g.group}}function y(g){const{delay:f=0,duration:d=300,easing:u=Le,tick:m=j,css:R}=l||Qe,h={start:Be()+f,b:g};g||(h.group=J,J.r+=1),i||a?a=h:(R&&(_(),c=we(t,s,g,d,f,u,R)),g&&m(0,1),i=p(h,d),I(()=>le(t,g,"start")),Ue(b=>{if(a&&b>a.start&&(i=p(a,d),a=null,le(t,i.b,"start"),R&&(_(),c=we(t,s,i.b,i.duration,0,u,l.css))),i){if(b>=i.end)m(s=i.b,1-s),le(t,i.b,"end"),a||(i.b?_():--i.group.r||K(i.group.c)),i=null;else if(b>=i.start){const C=b-i.start;s=i.a+i.d*u(C/i.duration),m(s,1-s)}}return!!(i||a)}))}return{run(g){re(l)?Je().then(()=>{l=l(o),y(g)}):y(g)},end(){_(),i=a=null}}}function Mt(t,e){E(t,1,1,()=>{e.delete(t.key)})}function ot(t,e){t.f(),Mt(t,e)}function Ke(t,e,n,r,o,l,s,i,a,c,_,p){let y=t.length,g=l.length,f=y;const d={};for(;f--;)d[t[f].key]=f;const u=[],m=new Map,R=new Map,h=[];for(f=g;f--;){const A=p(o,l,f),L=n(A);let P=s.get(L);P?r&&h.push(()=>P.p(A,e)):(P=c(L,A),P.c()),m.set(L,u[f]=P),L in d&&R.set(L,Math.abs(f-d[L]))}const b=new Set,C=new Set;function O(A){k(A,1),A.m(i,_),s.set(A.key,A),_=A.first,g--}for(;y&&g;){const A=u[g-1],L=t[y-1],P=A.key,z=L.key;A===L?(_=A.first,y--,g--):m.has(z)?!s.has(P)||b.has(P)?O(A):C.has(z)?y--:R.get(P)>R.get(z)?(C.add(P),O(A)):(b.add(z),y--):(a(L,s),y--)}for(;y--;){const A=t[y];m.has(A.key)||a(A,s)}for(;g;)O(u[g-1]);return K(h),u}function un(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function W(t){t&&t.c()}function U(t,e,n,r){const{fragment:o,after_update:l}=t.$$;o&&o.m(e,n),r||I(()=>{const s=t.$$.on_mount.map(Et).filter(re);t.$$.on_destroy?t.$$.on_destroy.push(...s):K(s),t.$$.on_mount=[]}),l.forEach(I)}function M(t,e){const n=t.$$;n.fragment!==null&&(cn(n.after_update),K(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function fn(t,e){t.$$.dirty[0]===-1&&(ue.push(t),sn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function V(t,e,n,r,o,l,s,i=[-1]){const a=$e;ve(t);const c=t.$$={fragment:null,ctx:[],props:l,update:j,not_equal:o,bound:nt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:nt(),dirty:i,skip_bound:!1,root:e.target||a.$$.root};s&&s(c.root);let _=!1;if(c.ctx=n?n(t,e.props||{},(p,y,...g)=>{const f=g.length?g[0]:y;return c.ctx&&o(c.ctx[p],c.ctx[p]=f)&&(!c.skip_bound&&c.bound[p]&&c.bound[p](f),_&&fn(t,p)),y}):[],c.update(),_=!0,K(c.before_update),c.fragment=r?r(c.ctx):!1,e.target){if(e.hydrate){const p=Zt(e.target);c.fragment&&c.fragment.l(p),p.forEach(w)}else c.fragment&&c.fragment.c();e.intro&&k(t.$$.fragment),U(t,e.target,e.anchor,e.customElement),Lt()}ve(a)}class G{$destroy(){M(this,1),this.$destroy=j}$on(e,n){if(!re(n))return j;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(e){this.$$set&&!Jt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}window.addEventListener("load",()=>{const t=document.createElement("div");t.style.overflow="scroll",document.body.appendChild(t);const e=document.createElement("div");t.appendChild(e);const n=t.offsetWidth-e.offsetWidth;console.log("Scrollbars",n),t.parentNode.removeChild(t);const r=document.querySelector(".noscrollbars");r&&r.style.setProperty("--scrollbarwidth",n+"px")});function dn(t){let e,n;return{c(){e=T("option"),e.__value=n=t[1].value,e.value=e.__value},m(r,o){$(r,e,o)},p(r,[o]){o&2&&n!==(n=r[1].value)&&(e.__value=n,e.value=e.__value)},i:j,o:j,d(r){r&&w(e)}}}function _n(t,e,n){let r,o=j,l=()=>(o(),o=He(s,i=>n(1,r=i)),s);t.$$.on_destroy.push(()=>o());let{tagstore:s}=e;return l(),t.$$set=i=>{"tagstore"in i&&l(n(0,s=i.tagstore))},[s,r]}class pn extends G{constructor(e){super(),V(this,e,_n,dn,q,{tagstore:0})}}const ye=new Promise((t,e)=>{if(window?.Dexie){const n=new window.Dexie("helloworldtodos",{});n.version(2).stores({tags:"&key",todos:"++id,*tags"}),t(n)}else e(new Error("Dexie is not loaded in window"))}),ce=[];function Te(t,e=j){let n;const r=new Set;function o(i){if(q(t,i)&&(t=i,n)){const a=!ce.length;for(const c of r)c[1](),ce.push(c,t);if(a){for(let c=0;c<ce.length;c+=2)ce[c][0](ce[c+1]);ce.length=0}}}function l(i){o(i(t))}function s(i,a=j){const c=[i,a];return r.add(c),r.size===1&&(n=e(o)||j),i(t),()=>{r.delete(c),r.size===0&&n&&(n(),n=null)}}return{set:o,update:l,subscribe:s}}class gn{_obj;subscribe;parset;constructor(e,n){const{subscribe:r,set:o}=Te(e,n);this.subscribe=r,this.parset=o,this._obj=e}set(e){this._obj=e,this.parset(e)}get object(){return this._obj}set object(e){this.set(e)}update(e){const n=e(this._obj);this.set(n)}}function Xe(t,e=!1){return e?crypto.subtle.digest("SHA-256",new TextEncoder().encode(t)).then(n=>{const r=new Uint8Array(n);let o="";for(let l=0;l<r.length;l++)o+=r[l].toString(16).padStart(2,"0");return o}):crypto.subtle.digest("SHA-256",new TextEncoder().encode(t))}function Wt(t){return crypto.subtle.importKey("raw",t,"AES-GCM",!1,["encrypt","decrypt"])}function hn(){return crypto.randomUUID()}class Re{data;iv;static fromBase64(e){return Re.fromUint8Array(new Uint8Array(Ft(e||"")))}static fromUint8Array(e){if(e.length<32)throw new Error("the given array does not seem to contain encrypted data (min length: 32)");const n=new Uint8Array(16),r=new Uint8Array(e.length-16);for(let o=0;o<16;o++)n[o]=e[o];for(let o=16,l=0;o<e.length;o++,l++)r[l]=e[o];return new Re({iv:n,data:r})}constructor(e){this.data=e.data,this.iv=e.iv}toUint8Array(){const e=this.iv.length,n=this.data.length,r=new Uint8Array(e+n);for(let o=0;o<e;o++)r[o]=this.iv[o];for(let o=0,l=e;o<n;o++,l++)r[l]=this.data[o];return r}toBase64(){return It(this.toUint8Array())}}async function mn(t,e){const n=await Wt(await Xe(e)),r=new Uint8Array(16);return await crypto.getRandomValues(r),new Re({iv:r,data:new Uint8Array(await crypto.subtle.encrypt({name:"AES-GCM",length:2048,iv:r},n,t))})}async function yn(t,e){if(!t)return;const n=await Wt(await Xe(e));return await crypto.subtle.decrypt({name:"AES-GCM",length:2048,iv:t.iv},n,t.data)}function It(t){if(typeof Buffer<"u")return Buffer.from(t).toString("base64");{let e="";const n=new Uint8Array(t),r=n.byteLength;for(let o=0;o<r;o++)e+=String.fromCharCode(n[o]);return btoa(e)}}function Ft(t){if(typeof Buffer<"u")return Buffer.from(t,"base64");{const e=atob(t),n=e.length,r=new Uint8Array(n);for(let o=0;o<n;o++)r[o]=e.charCodeAt(o);return r.buffer}}const We={sha256:Xe,uuid:hn,synckey:{encrypt:mn,decrypt:yn},base64:{encrypt:It,decrypt:Ft}},ee=await ye,Ce=1,bn=await We.sha256("",!0);class te extends Error{static EMPTY_TAG_KEY="the given value resulted in an empty tag-key";static NO_TAG_FOR_KEY="a tag for the given Key or Value does not exist in the Database";static INVALID_CONSTRUCT="construct must be provided with either 'key' or 'value'"}class me{key;value;color;version;static async createNew(e,n="#73828c"){const r=await We.sha256(qt(e),!0);return new me({value:e,key:r,color:n,version:Ce})}constructor(e){if(!e.key||!e.key.trim().length||e.key.trim()==bn)throw new te(te.EMPTY_TAG_KEY);this.key=e.key,this.value=e.value||"corrupted tag",this.color=e.color||"#73828c",this.version=e.version||0}async drop(){await ee.tags.delete(this.key);const e=[];await ee.todos.where("tags").equals(this.key).each(n=>{n.tags=n.tags.filter(r=>r!=this.key),e.push(n)}),await ee.todos.bulkPut(e),Pe.refresh()}insert(){return ee.tags.put(this).then(()=>Pe.refresh())}}class vn extends gn{constructor(e){super(e,()=>(Ne.set(e.key,this),()=>Ne.delete(e.key)))}notifiySubscribers(){this.set(this.object)}}const Ne=new Map;function Ze(t){const e=new me(t);return Ne.has(e.key)?Ne.get(e.key):new vn(e)}function Dt(t){return ee.tags.where("key").equals(t).first().then(e=>{if(e)return Ze(e);throw console.log(t),new te(te.NO_TAG_FOR_KEY)})}function wn(t){return We.sha256(qt(t),!0).then(e=>Dt(e)).catch(e=>{throw console.error("for value",t),e})}class kn{subs=new Set;subscribe(e){return console.log("new sub",e),this.subs.add(e),e([]),this._dat().then(e),()=>{console.log("unsub",e),this.subs.delete(e)}}async refresh(){const e=await this._dat();this.subs.forEach(n=>n(e))}_dat(){return $n().then(e=>e.toArray()).then(e=>e.map(n=>Ze(n)))}}const Pe=new kn,pe={getTagStore:Ze,tagsstore:Pe,findByKey:Dt,findByValue:wn};async function $n(){return(await ye).tags}function qt(t){return(t||"").trim().toLowerCase()}await Promise.all((await ee.tags.toArray()).map(async t=>{const e=new me(t);switch(e.version){case Ce:default:break;case 0:const n=new me(t),r=await We.sha256(e.key,!0),o=e.key;console.log("update key: ",o,r);let l=await ee.todos.where("tags").anyOf(o).distinct().toArray();l=l.map(s=>(s.tags=s.tags.map(i=>i==o?r:i),s)),await ee.todos.bulkPut(l),await n.drop(),e.key=r;case 99999999999999:console.log("tag update: ",e.version,"=>",Ce),e.version=Ce,await e.insert()}}));function it(t,e,n){const r=t.slice();return r[1]=e[n],r}function st(t){let e,n;return e=new pn({props:{tagstore:t[1]}}),{c(){W(e.$$.fragment)},m(r,o){U(e,r,o),n=!0},p(r,o){const l={};o&1&&(l.tagstore=r[1]),e.$set(l)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){E(e.$$.fragment,r),n=!1},d(r){M(e,r)}}}function Tn(t){let e,n,r=t[0],o=[];for(let s=0;s<r.length;s+=1)o[s]=st(it(t,r,s));const l=s=>E(o[s],1,1,()=>{o[s]=null});return{c(){e=T("datalist");for(let s=0;s<o.length;s+=1)o[s].c();v(e,"id","available_tags")},m(s,i){$(s,e,i);for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(e,null);n=!0},p(s,[i]){if(i&1){r=s[0];let a;for(a=0;a<r.length;a+=1){const c=it(s,r,a);o[a]?(o[a].p(c,i),k(o[a],1)):(o[a]=st(c),o[a].c(),k(o[a],1),o[a].m(e,null))}for(F(),a=r.length;a<o.length;a+=1)l(a);D()}},i(s){if(!n){for(let i=0;i<r.length;i+=1)k(o[i]);n=!0}},o(s){o=o.filter(Boolean);for(let i=0;i<o.length;i+=1)E(o[i]);n=!1},d(s){s&&w(e),ze(o,s)}}}function Sn(t,e,n){let r;return X(t,Pe,o=>n(0,r=o)),[r]}class En extends G{constructor(e){super(),V(this,e,Sn,Tn,q,{})}}function et(t){const e=t-1;return e*e*e+1}function Cn(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function Y(t,{delay:e=0,duration:n=400,easing:r=et,axis:o="y"}={}){const l=getComputedStyle(t),s=+l.opacity,i=o==="y"?"height":"width",a=parseFloat(l[i]),c=o==="y"?["top","bottom"]:["left","right"],_=c.map(m=>`${m[0].toUpperCase()}${m.slice(1)}`),p=parseFloat(l[`padding${_[0]}`]),y=parseFloat(l[`padding${_[1]}`]),g=parseFloat(l[`margin${_[0]}`]),f=parseFloat(l[`margin${_[1]}`]),d=parseFloat(l[`border${_[0]}Width`]),u=parseFloat(l[`border${_[1]}Width`]);return{delay:e,duration:n,easing:r,css:m=>`overflow: hidden;opacity: ${Math.min(m*20,1)*s};${i}: ${m*a}px;padding-${c[0]}: ${m*p}px;padding-${c[1]}: ${m*y}px;margin-${c[0]}: ${m*g}px;margin-${c[1]}: ${m*f}px;border-${c[0]}-width: ${m*d}px;border-${c[1]}-width: ${m*u}px;`}}function On(t){var{fallback:e}=t,n=Cn(t,["fallback"]);const r=new Map,o=new Map;function l(i,a,c){const{delay:_=0,duration:p=A=>Math.sqrt(A)*30,easing:y=et}=tt(tt({},n),c),g=i.getBoundingClientRect(),f=a.getBoundingClientRect(),d=g.left-f.left,u=g.top-f.top,m=g.width/f.width,R=g.height/f.height,h=Math.sqrt(d*d+u*u),b=getComputedStyle(a),C=b.transform==="none"?"":b.transform,O=+b.opacity;return{delay:_,duration:re(p)?p(h):p,easing:y,css:(A,L)=>`
				opacity: ${A*O};
				transform-origin: top left;
				transform: ${C} translate(${L*d}px,${L*u}px) scale(${A+(1-A)*m}, ${A+(1-A)*R});
			`}}function s(i,a,c){return(_,p)=>(i.set(p.key,_),()=>{if(a.has(p.key)){const y=a.get(p.key);return a.delete(p.key),l(y,_,p)}return i.delete(p.key),e&&e(_,p,c)})}return[s(o,r,!1),s(r,o,!0)]}function lt(t,e,n){const r=t.slice();return r[3]=e[n],r}function at(t,e){let n,r=e[3].msg+"",o,l,s,i,a;return{key:t,first:null,c(){n=T("article"),o=oe(r),l=N(),v(n,"class",s=rt(e[3].cssClass)+" svelte-lwkk25"),this.first=n},m(c,_){$(c,n,_),S(n,o),S(n,l),a=!0},p(c,_){e=c,(!a||_&1)&&r!==(r=e[3].msg+"")&&Me(o,r),(!a||_&1&&s!==(s=rt(e[3].cssClass)+" svelte-lwkk25"))&&v(n,"class",s)},i(c){a||(I(()=>{i||(i=Q(n,Y,{duration:250},!0)),i.run(1)}),a=!0)},o(c){i||(i=Q(n,Y,{duration:250},!1)),i.run(0),a=!1},d(c){c&&w(n),c&&i&&i.end()}}}function An(t){let e,n=[],r=new Map,o,l=t[0];const s=i=>i[3].id;for(let i=0;i<l.length;i+=1){let a=lt(t,l,i),c=s(a);r.set(c,n[i]=at(c,a))}return{c(){e=T("div");for(let i=0;i<n.length;i+=1)n[i].c();v(e,"class","toastcontainer svelte-lwkk25")},m(i,a){$(i,e,a);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(e,null);o=!0},p(i,[a]){a&1&&(l=i[0],F(),n=Ke(n,a,s,1,i,l,r,e,Mt,at,null,lt),D())},i(i){if(!o){for(let a=0;a<l.length;a+=1)k(n[a]);o=!0}},o(i){for(let a=0;a<n.length;a+=1)E(n[a]);o=!1},d(i){i&&w(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}let jn=1;const Ve=Te([]);function ne(t,e,n=4){Ve.update(r=>(r.push({id:jn++,msg:t,cssClass:e,timeout:n*10}),r))}function Rn(t,e,n){let r;X(t,Ve,s=>n(0,r=s));let o;function l(){!o&&r.length&&(o=window.setTimeout(()=>{r.forEach(s=>s.timeout--),se(Ve,r=r.filter(s=>s.timeout>0),r),o=void 0,l()},100))}return t.$$.update=()=>{t.$$.dirty&1&&r.length&&l()},[r]}class Nn extends G{constructor(e){super(),V(this,e,Rn,An,q,{})}}function ct(t){let e,n,r,o,l,s,i,a,c,_,p,y,g,f,d,u,m,R,h,b,C,O,A,L;return{c(){e=T("section"),n=T("label"),n.textContent="Key:",r=N(),o=T("input"),s=N(),i=T("button"),a=N(),c=T("label"),c.textContent="Value:",_=N(),p=T("input"),g=N(),f=T("label"),f.textContent="Color:",d=N(),u=T("input"),m=N(),R=T("button"),R.textContent="close",h=N(),b=T("button"),b.textContent="save",v(n,"for","tagedit_key_input"),v(o,"id","tagedit_key_input"),v(o,"type","text"),o.value=l=t[0].object.key,o.disabled=!0,v(i,"class","fa fa-trash-can"),v(i,"title","delete"),v(c,"for","tagedit_value_input"),v(p,"id","tagedit_value_input"),v(p,"type","text"),p.value=y=t[0].object.value,p.disabled=!0,v(p,"class","svelte-1hd6fid"),v(f,"for","tagedit_value_input"),v(u,"id","tagedit_value_input"),v(u,"type","color"),v(u,"class","svelte-1hd6fid"),v(R,"id","tagedit_close_btn"),v(b,"id","tagedit_save_btn"),v(b,"class","svelte-1hd6fid"),v(e,"class","svelte-1hd6fid")},m(P,z){$(P,e,z),S(e,n),S(e,r),S(e,o),S(e,s),S(e,i),S(e,a),S(e,c),S(e,_),S(e,p),S(e,g),S(e,f),S(e,d),S(e,u),ge(u,t[0].object.color),S(e,m),S(e,R),S(e,h),S(e,b),O=!0,A||(L=[B(i,"click",H(t[3])),B(u,"input",t[4]),B(R,"click",H(t[5])),B(b,"click",H(t[2]))],A=!0)},p(P,z){(!O||z&1&&l!==(l=P[0].object.key)&&o.value!==l)&&(o.value=l),(!O||z&1&&y!==(y=P[0].object.value)&&p.value!==y)&&(p.value=y),z&1&&ge(u,P[0].object.color)},i(P){O||(I(()=>{C||(C=Q(e,Y,{},!0)),C.run(1)}),O=!0)},o(P){C||(C=Q(e,Y,{},!1)),C.run(0),O=!1},d(P){P&&w(e),P&&C&&C.end(),A=!1,K(L)}}}function Pn(t){let e,n,r=t[0]&&ct(t);return{c(){r&&r.c(),e=ie()},m(o,l){r&&r.m(o,l),$(o,e,l),n=!0},p(o,[l]){o[0]?r?(r.p(o,l),l&1&&k(r,1)):(r=ct(o),r.c(),k(r,1),r.m(e.parentNode,e)):r&&(F(),E(r,1,1,()=>{r=null}),D())},i(o){n||(k(r),n=!0)},o(o){E(r),n=!1},d(o){r&&r.d(o),o&&w(e)}}}let x=Te();function Ln(t,e,n){let r,o=j,l;X(t,x,p=>n(0,r=p)),X(t,Z,p=>n(6,l=p)),t.$$.on_destroy.push(()=>o());const s=async()=>{confirm("deleting the tag here, will remove it from all Todos too. This step can not be undone! Continue?")&&r&&(await r.object.drop(),se(Z,l=l.filter(p=>p!=r.object.key),l),se(x,r=void 0,r),ne("tag removed","info",2))},i=async()=>{await r.object.insert(),r.notifiySubscribers(),se(x,r=void 0,r),ne("changes saved","success",2)},a=()=>s();function c(){r.object.color=this.value,x.set(r)}return[r,s,i,a,c,()=>se(x,r=void 0,r)]}class Bn extends G{constructor(e){super(),V(this,e,Ln,Pn,q,{})}}function Un(t){return typeof t=="object"}function Ge(t){return t instanceof Array}function ut(t){let e,n,r;function o(a,c){return a[1]?Wn:Mn}let l=o(t),s=l(t),i=!t[0]&&ft(t);return{c(){e=T("span"),s.c(),n=N(),i&&i.c(),v(e,"class","tag svelte-1sddn24"),v(e,"style",r=`--tagcolor: ${t[3].color}`)},m(a,c){$(a,e,c),s.m(e,null),S(e,n),i&&i.m(e,null)},p(a,c){l===(l=o(a))&&s?s.p(a,c):(s.d(1),s=l(a),s&&(s.c(),s.m(e,n))),a[0]?i&&(i.d(1),i=null):i?i.p(a,c):(i=ft(a),i.c(),i.m(e,null)),c&8&&r!==(r=`--tagcolor: ${a[3].color}`)&&v(e,"style",r)},d(a){a&&w(e),s.d(),i&&i.d()}}}function Mn(t){let e,n=t[3].value+"",r,o,l;return{c(){e=T("a"),r=oe(n),v(e,"href","#"),v(e,"class","svelte-1sddn24")},m(s,i){$(s,e,i),S(e,r),o||(l=B(e,"click",H(t[9])),o=!0)},p(s,i){i&8&&n!==(n=s[3].value+"")&&Me(r,n)},d(s){s&&w(e),o=!1,l()}}}function Wn(t){let e=t[3].value+"",n;return{c(){n=oe(e)},m(r,o){$(r,n,o)},p(r,o){o&8&&e!==(e=r[3].value+"")&&Me(n,e)},d(r){r&&w(n)}}}function ft(t){let e,n,r;return{c(){e=T("a"),e.textContent="Â ",v(e,"href","#"),v(e,"class","fa fa-times svelte-1sddn24")},m(o,l){$(o,e,l),n||(r=B(e,"click",H(t[10])),n=!0)},p:j,d(o){o&&w(e),n=!1,r()}}}function In(t){let e,n=t[2]&&ut(t);return{c(){n&&n.c(),e=ie()},m(r,o){n&&n.m(r,o),$(r,e,o)},p(r,[o]){r[2]?n?n.p(r,o):(n=ut(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:j,o:j,d(r){n&&n.d(r),r&&w(e)}}}function Fn(t,e,n){let r,o=j,l=()=>(o(),o=He(y,u=>n(3,r=u)),y);t.$$.on_destroy.push(()=>o());let{tagstore:s=void 0}=e,{tag:i=void 0}=e,{value:a=""}=e,{key:c=""}=e,{noremove:_=!1}=e,{noclick:p=!1}=e,y;const g=Pt(),f=()=>g("click",y),d=()=>g("remove",y);return t.$$set=u=>{"tagstore"in u&&n(5,s=u.tagstore),"tag"in u&&n(6,i=u.tag),"value"in u&&n(7,a=u.value),"key"in u&&n(8,c=u.key),"noremove"in u&&n(0,_=u.noremove),"noclick"in u&&n(1,p=u.noclick)},t.$$.update=()=>{if(t.$$.dirty&480){if(s)l(n(2,y=s));else if(i)l(n(2,y=pe.getTagStore(i)));else if(c)try{pe.findByKey(c).then(u=>l(n(2,y=u)))}catch(u){console.error(u),l(n(2,y=void 0))}else if(a)try{pe.findByValue(a).then(u=>l(n(2,y=u)))}catch(u){console.error(u),l(n(2,y=void 0))}}},[_,p,y,r,g,s,i,a,c,f,d]}class Kt extends G{constructor(e){super(),V(this,e,Fn,In,q,{tagstore:5,tag:6,value:7,key:8,noremove:0,noclick:1})}}class Dn{subs=new Set;subscribe=e=>(e([]),(async()=>e(await this._dat()||[]))(),this.subs.add(e),()=>{this.subs.delete(e)});async refresh(){const e=await this._dat()||[];this.subs.forEach(n=>n(e))}_dat=()=>ye.then(e=>Oe.length?e.todos.where("tags").anyOf(Oe).distinct().filter(n=>Oe.reduce((o,l,s)=>o&&n.tags.indexOf(l)!=-1,!0)).toArray():e.todos.toArray())}function qn(t){return Un(t)&&typeof t.description=="string"&&typeof t.done=="boolean"}const Se=new Dn;let Oe=[];async function Kn(t,e=!0){t.tags&&(t.tags=t.tags.filter(n=>typeof n=="string")),await(await ye).table("todos").put(t),e&&await Se.refresh()}async function Vn(t,e=!0){await(await ye).table("todos").delete(t.id),e&&await Se.refresh()}async function Gn(t,e=!0){Oe=t,e&&await Se.refresh()}const fe={todos:Se,set:Kn,remove:Vn,filter:Gn};if(localStorage){const t="rawTodos";let e;try{e=JSON.parse(localStorage.getItem(t))}catch(n){localStorage.removeItem(t),console.error("Error while initializing Todos: ",n)}Ge(e)&&(e=e.filter(qn),e.length&&ye.then(n=>n.table("todos").bulkPut(e)).then(()=>{localStorage.removeItem(t)}))}function dt(t){let e,n,r,o,l,s,i,a;return{c(){e=T("form"),n=T("input"),r=N(),o=T("button"),v(n,"type","text"),v(n,"list","available_tags"),v(n,"autocomplete",""),v(o,"type","submit"),v(o,"class","fa fa-plus-circle svelte-1jqn6dg"),v(e,"class","taginput svelte-1jqn6dg"),he(e,"open",t[1])},m(c,_){$(c,e,_),S(e,n),ge(n,t[0]),S(e,r),S(e,o),s=!0,i||(a=[B(n,"input",t[4]),B(e,"submit",H(t[2]))],i=!0)},p(c,_){_&1&&n.value!==c[0]&&ge(n,c[0]),(!s||_&2)&&he(e,"open",c[1])},i(c){s||(I(()=>{l||(l=Q(e,Y,{},!0)),l.run(1)}),s=!0)},o(c){l||(l=Q(e,Y,{},!1)),l.run(0),s=!1},d(c){c&&w(e),c&&l&&l.end(),i=!1,K(a)}}}function Hn(t){let e,n,r=t[1]&&dt(t);return{c(){r&&r.c(),e=ie()},m(o,l){r&&r.m(o,l),$(o,e,l),n=!0},p(o,[l]){o[1]?r?(r.p(o,l),l&2&&k(r,1)):(r=dt(o),r.c(),k(r,1),r.m(e.parentNode,e)):r&&(F(),E(r,1,1,()=>{r=null}),D())},i(o){n||(k(r),n=!0)},o(o){E(r),n=!1},d(o){r&&r.d(o),o&&w(e)}}}function Yn(t,e,n){const r=Pt();let{visible:o=!0}=e,{value:l=""}=e,{noautocreate:s=!1}=e,i;const a=async()=>{try{i=await pe.findByValue(l)}catch(_){if(_ instanceof te&&_.message==te.NO_TAG_FOR_KEY)try{if(s){ne("tag is unknown","alert",2);return}else{const p=await me.createNew(l);await p.insert(),i=pe.getTagStore(p)}}catch(p){p instanceof te&&p.message==te.EMPTY_TAG_KEY?ne("can't submit an empty Tag","alert",2):(console.error(p),ne("ERROR: see console","alert",2));return}else{console.error(_),ne("ERROR: see console","alert",2);return}}r("submit",i)};function c(){l=this.value,n(0,l)}return t.$$set=_=>{"visible"in _&&n(1,o=_.visible),"value"in _&&n(0,l=_.value),"noautocreate"in _&&n(3,s=_.noautocreate)},[l,o,a,s,c]}class Vt extends G{constructor(e){super(),V(this,e,Yn,Hn,q,{visible:1,value:0,noautocreate:3})}}function _t(t,e,n){const r=t.slice();return r[10]=e[n],r}function pt(t){let e,n,r,o,l,s,i,a,c,_;function p(u){t[7](u)}let y={};t[1]!==void 0&&(y.value=t[1]),e=new Vt({props:y}),Fe.push(()=>un(e,"value",p)),e.$on("submit",t[4]),o=new Bn({});const g=[xn,zn],f=[];function d(u,m){return u[0].length?0:1}return i=d(t),a=f[i]=g[i](t),{c(){W(e.$$.fragment),r=N(),W(o.$$.fragment),l=N(),s=T("section"),a.c(),v(s,"class","taglist svelte-n6f67g"),he(s,"open",t[2])},m(u,m){U(e,u,m),$(u,r,m),U(o,u,m),$(u,l,m),$(u,s,m),f[i].m(s,null),_=!0},p(u,m){const R={};!n&&m&2&&(n=!0,R.value=u[1],ln(()=>n=!1)),e.$set(R);let h=i;i=d(u),i===h?f[i].p(u,m):(F(),E(f[h],1,1,()=>{f[h]=null}),D(),a=f[i],a?a.p(u,m):(a=f[i]=g[i](u),a.c()),k(a,1),a.m(s,null)),(!_||m&4)&&he(s,"open",u[2])},i(u){_||(k(e.$$.fragment,u),k(o.$$.fragment,u),k(a),u&&I(()=>{c||(c=Q(s,Y,{},!0)),c.run(1)}),_=!0)},o(u){E(e.$$.fragment,u),E(o.$$.fragment,u),E(a),u&&(c||(c=Q(s,Y,{},!1)),c.run(0)),_=!1},d(u){M(e,u),u&&w(r),M(o,u),u&&w(l),u&&w(s),f[i].d(),u&&c&&c.end()}}}function zn(t){let e;return{c(){e=oe("No Tags yet")},m(n,r){$(n,e,r)},p:j,i:j,o:j,d(n){n&&w(e)}}}function xn(t){let e,n,r=t[0],o=[];for(let s=0;s<r.length;s+=1)o[s]=gt(_t(t,r,s));const l=s=>E(o[s],1,1,()=>{o[s]=null});return{c(){for(let s=0;s<o.length;s+=1)o[s].c();e=ie()},m(s,i){for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(s,i);$(s,e,i),n=!0},p(s,i){if(i&41){r=s[0];let a;for(a=0;a<r.length;a+=1){const c=_t(s,r,a);o[a]?(o[a].p(c,i),k(o[a],1)):(o[a]=gt(c),o[a].c(),k(o[a],1),o[a].m(e.parentNode,e))}for(F(),a=r.length;a<o.length;a+=1)l(a);D()}},i(s){if(!n){for(let i=0;i<r.length;i+=1)k(o[i]);n=!0}},o(s){o=o.filter(Boolean);for(let i=0;i<o.length;i+=1)E(o[i]);n=!1},d(s){ze(o,s),s&&w(e)}}}function gt(t){let e,n;return e=new Kt({props:{key:t[10]}}),e.$on("remove",t[8]),e.$on("click",t[9]),{c(){W(e.$$.fragment)},m(r,o){U(e,r,o),n=!0},p(r,o){const l={};o&1&&(l.key=r[10]),e.$set(l)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){E(e.$$.fragment,r),n=!1},d(r){M(e,r)}}}function Jn(t){let e,n,r,o,l,s,i=t[2]&&pt(t);return{c(){e=T("a"),e.textContent="Tags",n=N(),i&&i.c(),r=ie(),v(e,"role","button"),v(e,"href","#"),v(e,"class","svelte-n6f67g")},m(a,c){$(a,e,c),$(a,n,c),i&&i.m(a,c),$(a,r,c),o=!0,l||(s=B(e,"click",H(t[6])),l=!0)},p(a,[c]){a[2]?i?(i.p(a,c),c&4&&k(i,1)):(i=pt(a),i.c(),k(i,1),i.m(r.parentNode,r)):i&&(F(),E(i,1,1,()=>{i=null}),D())},i(a){o||(k(i),o=!0)},o(a){E(i),o=!1},d(a){a&&w(e),a&&w(n),i&&i.d(a),a&&w(r),l=!1,s()}}}const Z=Te([]);function Gt(t){Z.update(e=>(e.indexOf(t.key)==-1&&e.push(t.key),e))}try{let t=localStorage.getItem("tagfilter"),e=[];if(t&&(t=JSON.parse(t)),Ge(t)){Z.set(t);const n=[];(async()=>{let r=await Promise.all(t.map(o=>pe.findByValue(o).catch(l=>{console.warn(`tag '${o}' does not exist`),n.push(o)})));n.forEach(o=>Z.update(l=>e=l.filter(s=>s!=o))),Ge(r)&&(r=r.filter(o=>typeof o<"u"))})()}}catch{}Z.subscribe(t=>{localStorage.setItem("tagfilter",JSON.stringify(t)),fe.filter(t)});function Qn(t,e,n){let r,o,l=j,s;X(t,Z,f=>n(0,o=f)),X(t,x,f=>n(3,s=f)),t.$$.on_destroy.push(()=>l());let i="";const a=async f=>{let d=f.detail.object;Gt(d),n(1,i="")},c=async f=>{s==f&&se(x,s=void 0,s),se(Z,o=o.filter(d=>d!=f.object.key),o)},_=()=>n(2,r=!r);function p(f){i=f,n(1,i)}const y=f=>c(f.detail),g=f=>{console.log(f.detail,s,x),x.set(x&&s==f.detail?void 0:f.detail)};return t.$$.update=()=>{t.$$.dirty&1&&n(2,r=o.length>0)},[o,i,r,s,a,c,_,p,y,g]}class Xn extends G{constructor(e){super(),V(this,e,Qn,Jn,q,{})}}function Zn(t){let e,n,r,o,l,s,i;return{c(){e=T("div"),n=T("form"),r=T("input"),o=N(),l=T("button"),v(r,"tabindex","0"),v(r,"type","text"),v(l,"type","submit"),v(l,"class","fa fa-circle-plus svelte-1telry2"),v(n,"class","svelte-1telry2")},m(a,c){$(a,e,c),S(e,n),S(n,r),ge(r,t[0].description),S(n,o),S(n,l),s||(i=[B(r,"input",t[3]),B(n,"submit",H(t[1]))],s=!0)},p(a,[c]){c&1&&r.value!==a[0].description&&ge(r,a[0].description)},i:j,o:j,d(a){a&&w(e),s=!1,K(i)}}}function er(t,e,n){let r;X(t,Z,i=>n(2,r=i));let o={description:"",done:!1,tags:[]};const l=()=>{o.description.trim()==""?ne("noting to add","alert",2):(n(0,o.description=o.description.trim(),o),fe.set(o),n(0,o={description:"",done:!1,tags:o.tags}))};function s(){o.description=this.value,n(0,o),n(2,r)}return t.$$.update=()=>{t.$$.dirty&4&&n(0,o.tags=[...r],o)},[o,l,r,s]}class tr extends G{constructor(e){super(),V(this,e,er,Zn,q,{})}}function Ht(t,{from:e,to:n},r={}){const o=getComputedStyle(t),l=o.transform==="none"?"":o.transform,[s,i]=o.transformOrigin.split(" ").map(parseFloat),a=e.left+e.width*s/n.width-(n.left+s),c=e.top+e.height*i/n.height-(n.top+i),{delay:_=0,duration:p=g=>Math.sqrt(g)*120,easing:y=et}=r;return{delay:_,duration:re(p)?p(Math.sqrt(a*a+c*c)):p,easing:y,css:(g,f)=>{const d=f*a,u=f*c,m=g+f*e.width/n.width,R=g+f*e.height/n.height;return`transform: ${l} translate(${d}px, ${u}px) scale(${m}, ${R});`}}}function ht(t,e,n){const r=t.slice();return r[12]=e[n],r}function mt(t){let e,n,r;return n=new Kt({props:{key:t[12],noremove:t[0].done}}),n.$on("click",t[10]),n.$on("remove",t[5]),{c(){e=T("li"),W(n.$$.fragment),v(e,"class","svelte-1timjgw")},m(o,l){$(o,e,l),U(n,e,null),r=!0},p(o,l){const s={};l&1&&(s.key=o[12]),l&1&&(s.noremove=o[0].done),n.$set(s)},i(o){r||(k(n.$$.fragment,o),r=!0)},o(o){E(n.$$.fragment,o),r=!1},d(o){o&&w(e),M(n)}}}function yt(t){let e,n,r,o,l,s,i=t[1]&&bt(t);return{c(){e=T("button"),n=N(),i&&i.c(),r=ie(),v(e,"class","fa fa-tag"),v(e,"title","new Tag")},m(a,c){$(a,e,c),$(a,n,c),i&&i.m(a,c),$(a,r,c),o=!0,l||(s=B(e,"click",H(t[11])),l=!0)},p(a,c){a[1]?i?(i.p(a,c),c&2&&k(i,1)):(i=bt(a),i.c(),k(i,1),i.m(r.parentNode,r)):i&&(F(),E(i,1,1,()=>{i=null}),D())},i(a){o||(k(i),o=!0)},o(a){E(i),o=!1},d(a){a&&w(e),a&&w(n),i&&i.d(a),a&&w(r),l=!1,s()}}}function bt(t){let e,n,r;return n=new Vt({}),n.$on("submit",t[6]),{c(){e=T("div"),W(n.$$.fragment),v(e,"class","taginput svelte-1timjgw")},m(o,l){$(o,e,l),U(n,e,null),r=!0},p:j,i(o){r||(k(n.$$.fragment,o),r=!0)},o(o){E(n.$$.fragment,o),r=!1},d(o){o&&w(e),M(n)}}}function nr(t){let e,n,r,o,l,s=t[0].description+"",i,a,c,_,p,y,g,f,d,u=t[0].tags,m=[];for(let b=0;b<u.length;b+=1)m[b]=mt(ht(t,u,b));const R=b=>E(m[b],1,1,()=>{m[b]=null});let h=!t[0].done&&yt(t);return{c(){e=T("article"),n=T("span"),r=T("input"),o=N(),l=T("span"),i=oe(s),a=N(),c=T("button"),_=N(),p=T("ul");for(let b=0;b<m.length;b+=1)m[b].c();y=N(),h&&h.c(),v(r,"type","checkbox"),v(l,"class","txt svelte-1timjgw"),v(c,"class","fa fa-trash-can"),v(c,"title","delete"),v(p,"class","svelte-1timjgw"),v(e,"class","svelte-1timjgw"),he(e,"done",t[0].done)},m(b,C){$(b,e,C),S(e,n),S(n,r),r.checked=t[0].done,S(e,o),S(e,l),S(l,i),S(e,a),S(e,c),S(e,_),S(e,p);for(let O=0;O<m.length;O+=1)m[O]&&m[O].m(p,null);S(e,y),h&&h.m(e,null),g=!0,f||(d=[B(r,"change",t[7]),B(r,"click",t[8]),B(c,"click",H(t[9]))],f=!0)},p(b,[C]){if(C&1&&(r.checked=b[0].done),(!g||C&1)&&s!==(s=b[0].description+"")&&Me(i,s),C&49){u=b[0].tags;let O;for(O=0;O<u.length;O+=1){const A=ht(b,u,O);m[O]?(m[O].p(A,C),k(m[O],1)):(m[O]=mt(A),m[O].c(),k(m[O],1),m[O].m(p,null))}for(F(),O=u.length;O<m.length;O+=1)R(O);D()}b[0].done?h&&(F(),E(h,1,1,()=>{h=null}),D()):h?(h.p(b,C),C&1&&k(h,1)):(h=yt(b),h.c(),k(h,1),h.m(e,null)),(!g||C&1)&&he(e,"done",b[0].done)},i(b){if(!g){for(let C=0;C<u.length;C+=1)k(m[C]);k(h),g=!0}},o(b){m=m.filter(Boolean);for(let C=0;C<m.length;C+=1)E(m[C]);E(h),g=!1},d(b){b&&w(e),ze(m,b),h&&h.d(),f=!1,K(d)}}}function rr(t,e,n){let{todo:r}=e,o=!1;const l=d=>{confirm("remove todo permanently ?")&&fe.remove(d)},s=async d=>{d.done=!d.done,fe.set(d)},i=async d=>{try{Gt(d.object)}catch{ne("cant add tag (See Console)","alert",2)}},a=async d=>{if(confirm("remove Tag?")){const u=d.detail;n(0,r.tags=r.tags.filter(m=>m!=u.object.key),r),fe.set(r)}},c=async d=>{console.log(d);const u=d.detail;r.tags.indexOf(u.object.key)==-1&&(r.tags.push(u.object.key),fe.set(r)),n(1,o=!1)};function _(){r.done=this.checked,n(0,r)}const p=()=>s(r),y=()=>l(r),g=d=>i(d.detail),f=()=>n(1,o=!o);return t.$$set=d=>{"todo"in d&&n(0,r=d.todo)},[r,o,l,s,i,a,c,_,p,y,g,f]}class Yt extends G{constructor(e){super(),V(this,e,rr,nr,q,{todo:0})}}function vt(t,e,n){const r=t.slice();return r[6]=e[n],r}function wt(t,e,n){const r=t.slice();return r[6]=e[n],r}function kt(t,e){let n,r,o,l,s,i=j,a;return r=new Yt({props:{todo:e[6]}}),{key:t,first:null,c(){n=T("div"),W(r.$$.fragment),this.first=n},m(c,_){$(c,n,_),U(r,n,null),a=!0},p(c,_){e=c;const p={};_&2&&(p.todo=e[6]),r.$set(p)},r(){s=n.getBoundingClientRect()},f(){Nt(n),i(),xe(n,s)},a(){i(),i=Rt(n,s,Ht,{duration:zt})},i(c){a||(k(r.$$.fragment,c),I(()=>{l&&l.end(1),o=Bt(n,e[3],{key:e[6].id}),o.start()}),a=!0)},o(c){E(r.$$.fragment,c),o&&o.invalidate(),l=Ut(n,e[2],{key:e[6].id}),a=!1},d(c){c&&w(n),M(r),c&&l&&l.end()}}}function $t(t,e){let n,r,o,l,s,i,a=j,c;return r=new Yt({props:{todo:e[6]}}),{key:t,first:null,c(){n=T("div"),W(r.$$.fragment),o=N(),this.first=n},m(_,p){$(_,n,p),U(r,n,null),S(n,o),c=!0},p(_,p){e=_;const y={};p&1&&(y.todo=e[6]),r.$set(y)},r(){i=n.getBoundingClientRect()},f(){Nt(n),a(),xe(n,i)},a(){a(),a=Rt(n,i,Ht,{duration:zt})},i(_){c||(k(r.$$.fragment,_),I(()=>{s&&s.end(1),l=Bt(n,e[3],{key:e[6].id}),l.start()}),c=!0)},o(_){E(r.$$.fragment,_),l&&l.invalidate(),s=Ut(n,e[2],{key:e[6].id}),c=!1},d(_){_&&w(n),M(r),_&&s&&s.end()}}}function or(t){let e=[],n=new Map,r,o,l,s=[],i=new Map,a,c,_=t[1];const p=f=>f[6].id;for(let f=0;f<_.length;f+=1){let d=wt(t,_,f),u=p(d);n.set(u,e[f]=kt(u,d))}let y=t[0];const g=f=>f[6].id;for(let f=0;f<y.length;f+=1){let d=vt(t,y,f),u=g(d);i.set(u,s[f]=$t(u,d))}return{c(){for(let f=0;f<e.length;f+=1)e[f].c();r=N(),o=T("h3"),o.textContent="Done:",l=N();for(let f=0;f<s.length;f+=1)s[f].c();a=ie()},m(f,d){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(f,d);$(f,r,d),$(f,o,d),$(f,l,d);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(f,d);$(f,a,d),c=!0},p(f,[d]){if(d&2){_=f[1],F();for(let u=0;u<e.length;u+=1)e[u].r();e=Ke(e,d,p,1,f,_,n,r.parentNode,ot,kt,r,wt);for(let u=0;u<e.length;u+=1)e[u].a();D()}if(d&1){y=f[0],F();for(let u=0;u<s.length;u+=1)s[u].r();s=Ke(s,d,g,1,f,y,i,a.parentNode,ot,$t,a,vt);for(let u=0;u<s.length;u+=1)s[u].a();D()}},i(f){if(!c){for(let d=0;d<_.length;d+=1)k(e[d]);for(let d=0;d<y.length;d+=1)k(s[d]);c=!0}},o(f){for(let d=0;d<e.length;d+=1)E(e[d]);for(let d=0;d<s.length;d+=1)E(s[d]);c=!1},d(f){for(let d=0;d<e.length;d+=1)e[d].d(f);f&&w(r),f&&w(o),f&&w(l);for(let d=0;d<s.length;d+=1)s[d].d(f);f&&w(a)}}}const zt=250;function ir(t,e,n){let r,o,l,s;X(t,Se,c=>n(5,s=c));const[i,a]=On({fallback:Y});return t.$$.update=()=>{t.$$.dirty&32&&n(4,r=[...s]),t.$$.dirty&16&&n(1,o=r.filter(c=>!c.done)),t.$$.dirty&16&&n(0,l=r.filter(c=>c.done))},[l,o,i,a,r,s]}class sr extends G{constructor(e){super(),V(this,e,ir,or,q,{})}}function Tt(t){let e,n,r,o,l,s,i;return{c(){e=T("article"),n=oe(`App has been updated. Please reopen the app or 
    `),r=T("a"),r.textContent="reload",v(r,"href","#"),v(e,"class","ViteUpdatePrompt svelte-i3j72")},m(a,c){$(a,e,c),S(e,n),S(e,r),l=!0,s||(i=B(r,"click",H(function(){re(t[0])&&t[0].apply(this,arguments)})),s=!0)},p(a,c){t=a},i(a){l||(I(()=>{o||(o=Q(e,Y,{},!0)),o.run(1)}),l=!0)},o(a){o||(o=Q(e,Y,{},!1)),o.run(0),l=!1},d(a){a&&w(e),a&&o&&o.end(),s=!1,i()}}}function lr(t){let e,n,r=t[0]&&Tt(t);return{c(){r&&r.c(),e=ie()},m(o,l){r&&r.m(o,l),$(o,e,l),n=!0},p(o,[l]){o[0]?r?(r.p(o,l),l&1&&k(r,1)):(r=Tt(o),r.c(),k(r,1),r.m(e.parentNode,e)):r&&(F(),E(r,1,1,()=>{r=null}),D())},i(o){n||(k(r),n=!0)},o(o){E(r),n=!1},d(o){r&&r.d(o),o&&w(e)}}}const xt=Te();function ar(t,e,n){let r,o=j;return X(t,xt,l=>n(0,r=l)),t.$$.on_destroy.push(()=>o()),[r]}class cr extends G{constructor(e){super(),V(this,e,ar,lr,q,{})}}function ur(t){let e,n,r,o,l,s,i,a,c,_,p,y,g,f,d,u,m,R;return l=new Nn({}),i=new Xn({}),p=new tr({}),g=new sr({}),d=new En({}),m=new cr({}),{c(){e=T("base"),n=N(),r=T("nav"),r.innerHTML=`<ul><li><strong>HelloWorld Todo&#39;s</strong></li></ul> 
    <ul><li><a href="https://github.com/Rocco-Gossmann/SvelteHelloWorldTodos" target="_blank">GitHub</a></li></ul>`,o=N(),W(l.$$.fragment),s=N(),W(i.$$.fragment),a=N(),c=T("h1"),c.textContent="Todos",_=N(),W(p.$$.fragment),y=N(),W(g.$$.fragment),f=N(),W(d.$$.fragment),u=N(),W(m.$$.fragment),v(e,"href","/SvelteHelloWorldTodos"),v(c,"class","text-center")},m(h,b){S(document.head,e),$(h,n,b),$(h,r,b),$(h,o,b),U(l,h,b),$(h,s,b),U(i,h,b),$(h,a,b),$(h,c,b),$(h,_,b),U(p,h,b),$(h,y,b),U(g,h,b),$(h,f,b),U(d,h,b),$(h,u,b),U(m,h,b),R=!0},p:j,i(h){R||(k(l.$$.fragment,h),k(i.$$.fragment,h),k(p.$$.fragment,h),k(g.$$.fragment,h),k(d.$$.fragment,h),k(m.$$.fragment,h),R=!0)},o(h){E(l.$$.fragment,h),E(i.$$.fragment,h),E(p.$$.fragment,h),E(g.$$.fragment,h),E(d.$$.fragment,h),E(m.$$.fragment,h),R=!1},d(h){w(e),h&&w(n),h&&w(r),h&&w(o),M(l,h),h&&w(s),M(i,h),h&&w(a),h&&w(c),h&&w(_),M(p,h),h&&w(y),M(g,h),h&&w(f),M(d,h),h&&w(u),M(m,h)}}}class fr extends G{constructor(e){super(),V(this,e,null,ur,q,{})}}const dr="modulepreload",_r=function(t){return"/SvelteHelloWorldTodos/"+t},St={},pr=function(e,n,r){if(!n||n.length===0)return e();const o=document.getElementsByTagName("link");return Promise.all(n.map(l=>{if(l=_r(l),l in St)return;St[l]=!0;const s=l.endsWith(".css"),i=s?'[rel="stylesheet"]':"";if(!!r)for(let _=o.length-1;_>=0;_--){const p=o[_];if(p.href===l&&(!s||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${i}`))return;const c=document.createElement("link");if(c.rel=s?"stylesheet":dr,s||(c.as="script",c.crossOrigin=""),c.href=l,document.head.appendChild(c),s)return new Promise((_,p)=>{c.addEventListener("load",_),c.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})})).then(()=>e())};function gr(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:o,onRegisteredSW:l,onRegisterError:s}=t;let i,a,c;const _=async(y=!0)=>{await a,await c?.()};async function p(){if("serviceWorker"in navigator){const{Workbox:y}=await pr(()=>import("./workbox-window.prod.es5-295a6886.js"),[]);i=new y("/SvelteHelloWorldTodos/sw.js",{scope:"/SvelteHelloWorldTodos/",type:"classic"}),c=async()=>{await i?.messageSkipWaiting()};{let g=!1;const f=()=>{g=!0,i?.addEventListener("controlling",d=>{d.isUpdate&&window.location.reload()}),n?.()};i.addEventListener("installed",d=>{typeof d.isUpdate>"u"?typeof d.isExternal<"u"?d.isExternal?f():!g&&r?.():d.isExternal?window.location.reload():!g&&r?.():d.isUpdate||r?.()}),i.addEventListener("waiting",f),i.addEventListener("externalwaiting",f)}i.register({immediate:e}).then(g=>{l?l("/SvelteHelloWorldTodos/sw.js",g):o?.(g)}).catch(g=>{s?.(g)})}}return a=p(),_}new fr({target:document.getElementById("app")});const hr=gr({onNeedRefresh(){xt.set(hr)}});
